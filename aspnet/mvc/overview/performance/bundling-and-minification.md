---
uid: mvc/overview/performance/bundling-and-minification
title: 묶음 및 축소 | Microsoft Docs
author: Rick-Anderson
description: 번들 및 축소는 요청 로드 시간을 개선 하기 위해 ASP.NET 4.5에서 사용할 수 있는 두 가지 기술입니다. 묶음 및 축소를 통해 reducin 로드 시간이 향상 됩니다.
ms.author: riande
ms.date: 08/23/2012
ms.assetid: 5894dc13-5d45-4dad-8096-136499120f1d
msc.legacyurl: /mvc/overview/performance/bundling-and-minification
msc.type: authoredcontent
ms.openlocfilehash: 61bfe5dbac04b57e1461183b66ead2f01fe0734c
ms.sourcegitcommit: 7709c0a091b8d55b7b33bad8849f7b66b23c3d72
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/19/2020
ms.locfileid: "77457767"
---
# <a name="bundling-and-minification"></a><span data-ttu-id="179d3-104">묶음 및 축소</span><span class="sxs-lookup"><span data-stu-id="179d3-104">Bundling and Minification</span></span>

<span data-ttu-id="179d3-105">[Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="179d3-105">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

> <span data-ttu-id="179d3-106">번들 및 축소는 요청 로드 시간을 개선 하기 위해 ASP.NET 4.5에서 사용할 수 있는 두 가지 기술입니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-106">Bundling and minification are two techniques you can use in ASP.NET 4.5 to improve request load time.</span></span> <span data-ttu-id="179d3-107">묶음 및 축소는 서버에 대 한 요청 수를 줄이고 요청한 자산의 크기 (예: CSS 및 JavaScript)를 줄임으로써 로드 시간을 향상 시킵니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-107">Bundling and minification improves load time by reducing the number of requests to the server and reducing the size of requested assets (such as CSS and JavaScript.)</span></span>

<span data-ttu-id="179d3-108">현재 주요 브라우저의 대부분은 각 호스트 이름에 대 한 [동시 연결](http://www.browserscope.org/?category=network) 수를 6 개로 제한 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-108">Most of the current major browsers limit the number of [simultaneous connections](http://www.browserscope.org/?category=network) per each hostname to six.</span></span> <span data-ttu-id="179d3-109">즉, 6 개의 요청을 처리 하는 동안 호스트의 자산에 대 한 추가 요청이 브라우저에 의해 큐에 대기 됩니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-109">That means that while six requests are being processed, additional requests for assets on a host will be queued by the browser.</span></span> <span data-ttu-id="179d3-110">아래 이미지에서 IE F12 개발자 도구 네트워크 탭은 샘플 응용 프로그램의 정보 보기에 필요한 자산의 타이밍을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-110">In the image below, the IE F12 developer tools network tabs shows the timing for assets required by the About view of a sample application.</span></span>

![B/M](bundling-and-minification/_static/image1.png)

<span data-ttu-id="179d3-112">회색 막대는 브라우저가 6 개의 연결 제한을 기다리는 요청을 큐에 대기 하는 시간을 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-112">The gray bars show the time the request is queued by the browser waiting on the six connection limit.</span></span> <span data-ttu-id="179d3-113">노란색 막대는 첫 번째 바이트 까지의 요청 시간, 즉 요청을 보내고 서버에서 첫 번째 응답을 수신 하는 데 걸린 시간입니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-113">The yellow bar is the request time to first byte, that is, the time taken to send the request and receive the first response from the server.</span></span> <span data-ttu-id="179d3-114">파란색 막대에는 서버에서 응답 데이터를 수신 하는 데 걸린 시간이 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-114">The blue bars show the time taken to receive the response data from the server.</span></span> <span data-ttu-id="179d3-115">자산을 두 번 클릭 하 여 자세한 타이밍 정보를 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-115">You can double-click on an asset to get detailed timing information.</span></span> <span data-ttu-id="179d3-116">예를 들어 다음 이미지에서는 */Scripts/MyScripts/JavaScript6.js* 파일을 로드 하기 위한 타이밍 정보를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-116">For example, the following image shows the timing details for loading the */Scripts/MyScripts/JavaScript6.js* file.</span></span>

![](bundling-and-minification/_static/image2.png)

<span data-ttu-id="179d3-117">위의 이미지는 브라우저가 동시 연결 수를 제한 하기 때문에 요청이 큐에 대기 된 시간을 제공 하는 **시작** 이벤트를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-117">The preceding image shows the **Start** event, which gives the time the request was queued because of the browser limit the number of simultaneous connections.</span></span> <span data-ttu-id="179d3-118">이 경우 요청은 다른 요청이 완료 되기를 기다리는 데 46 밀리초 동안 대기 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-118">In this case, the request was queued for 46 milliseconds waiting for another request to complete.</span></span>

## <a name="bundling"></a><span data-ttu-id="179d3-119">번들링</span><span class="sxs-lookup"><span data-stu-id="179d3-119">Bundling</span></span>

<span data-ttu-id="179d3-120">번들은 여러 파일을 단일 파일로 쉽게 결합 하거나 묶을 수 있는 ASP.NET 4.5의 새로운 기능입니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-120">Bundling is a new feature in ASP.NET 4.5 that makes it easy to combine or bundle multiple files into a single file.</span></span> <span data-ttu-id="179d3-121">CSS, JavaScript 및 기타 번들을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-121">You can create CSS, JavaScript and other bundles.</span></span> <span data-ttu-id="179d3-122">파일이 적을수록 HTTP 요청은 줄어들고 첫 페이지 로드 성능을 향상 시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-122">Fewer files means fewer HTTP requests and that can improve first page load performance.</span></span>

<span data-ttu-id="179d3-123">다음 그림은 이전에 표시 된 정보 보기의 동일한 타이밍 뷰를 보여 주지만 이번에는 묶음 및 축소를 사용 하도록 설정 했습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-123">The following image shows the same timing view of the About view shown previously, but this time with bundling and minification enabled.</span></span>

![](bundling-and-minification/_static/image3.png)

## <a name="minification"></a><span data-ttu-id="179d3-124">필터로</span><span class="sxs-lookup"><span data-stu-id="179d3-124">Minification</span></span>

<span data-ttu-id="179d3-125">축소는 불필요 한 공백과 주석을 제거 하 고 변수 이름을 한 문자로 단축 하는 것과 같이 스크립트나 css에 대 한 다양 한 코드 최적화를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-125">Minification performs a variety of different code optimizations to scripts or css, such as removing unnecessary white space and comments and shortening variable names to one character.</span></span> <span data-ttu-id="179d3-126">다음 JavaScript 함수를 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-126">Consider the following JavaScript function.</span></span>

[!code-javascript[Main](bundling-and-minification/samples/sample1.js)]

<span data-ttu-id="179d3-127">축소 후 함수는 다음과 같이 줄어듭니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-127">After minification, the function is reduced to the following:</span></span>

[!code-javascript[Main](bundling-and-minification/samples/sample2.js)]

<span data-ttu-id="179d3-128">주석과 불필요 한 공백을 제거 하는 것 외에도 다음과 같은 매개 변수 이름과 변수 이름은 다음과 같이 변경 되었습니다 (약식).</span><span class="sxs-lookup"><span data-stu-id="179d3-128">In addition to removing the comments and unnecessary whitespace, the following parameters and variable names were renamed (shortened) as follows:</span></span>

| <span data-ttu-id="179d3-129">**Original**</span><span class="sxs-lookup"><span data-stu-id="179d3-129">**Original**</span></span> | <span data-ttu-id="179d3-130">**바꿔야**</span><span class="sxs-lookup"><span data-stu-id="179d3-130">**Renamed**</span></span> |
| --- | --- |
| <span data-ttu-id="179d3-131">imageTagAndImageID</span><span class="sxs-lookup"><span data-stu-id="179d3-131">imageTagAndImageID</span></span> | <span data-ttu-id="179d3-132">n</span><span class="sxs-lookup"><span data-stu-id="179d3-132">n</span></span> |
| <span data-ttu-id="179d3-133">imageContext</span><span class="sxs-lookup"><span data-stu-id="179d3-133">imageContext</span></span> | <span data-ttu-id="179d3-134">t</span><span class="sxs-lookup"><span data-stu-id="179d3-134">t</span></span> |
| <span data-ttu-id="179d3-135">imageElement</span><span class="sxs-lookup"><span data-stu-id="179d3-135">imageElement</span></span> | <span data-ttu-id="179d3-136">i</span><span class="sxs-lookup"><span data-stu-id="179d3-136">i</span></span> |

## <a name="impact-of-bundling-and-minification"></a><span data-ttu-id="179d3-137">묶음 및 축소의 영향</span><span class="sxs-lookup"><span data-stu-id="179d3-137">Impact of Bundling and Minification</span></span>

<span data-ttu-id="179d3-138">다음 표에서는 샘플 프로그램에서 모든 자산을 개별적으로 나열 하 고 묶음 및 축소 (B/M)를 사용 하는 경우의 몇 가지 중요 한 차이점을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-138">The following table shows several important differences between listing all the assets individually and using bundling and minification (B/M) in the sample program.</span></span>

|  | <span data-ttu-id="179d3-139">**B/M 사용**</span><span class="sxs-lookup"><span data-stu-id="179d3-139">**Using B/M**</span></span> | <span data-ttu-id="179d3-140">**B/M 없음**</span><span class="sxs-lookup"><span data-stu-id="179d3-140">**Without B/M**</span></span> | <span data-ttu-id="179d3-141">**변경**</span><span class="sxs-lookup"><span data-stu-id="179d3-141">**Change**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="179d3-142">**파일 요청**</span><span class="sxs-lookup"><span data-stu-id="179d3-142">**File Requests**</span></span> | <span data-ttu-id="179d3-143">9</span><span class="sxs-lookup"><span data-stu-id="179d3-143">9</span></span> | <span data-ttu-id="179d3-144">34</span><span class="sxs-lookup"><span data-stu-id="179d3-144">34</span></span> | <span data-ttu-id="179d3-145">256%</span><span class="sxs-lookup"><span data-stu-id="179d3-145">256%</span></span> |
| <span data-ttu-id="179d3-146">**보낸 KB**</span><span class="sxs-lookup"><span data-stu-id="179d3-146">**KB Sent**</span></span> | <span data-ttu-id="179d3-147">3.26</span><span class="sxs-lookup"><span data-stu-id="179d3-147">3.26</span></span> | <span data-ttu-id="179d3-148">11.92</span><span class="sxs-lookup"><span data-stu-id="179d3-148">11.92</span></span> | <span data-ttu-id="179d3-149">266%</span><span class="sxs-lookup"><span data-stu-id="179d3-149">266%</span></span> |
| <span data-ttu-id="179d3-150">**받은 KB**</span><span class="sxs-lookup"><span data-stu-id="179d3-150">**KB Received**</span></span> | <span data-ttu-id="179d3-151">388.51</span><span class="sxs-lookup"><span data-stu-id="179d3-151">388.51</span></span> | <span data-ttu-id="179d3-152">530</span><span class="sxs-lookup"><span data-stu-id="179d3-152">530</span></span> | <span data-ttu-id="179d3-153">36%</span><span class="sxs-lookup"><span data-stu-id="179d3-153">36%</span></span> |
| <span data-ttu-id="179d3-154">**로드 시간**</span><span class="sxs-lookup"><span data-stu-id="179d3-154">**Load Time**</span></span> | <span data-ttu-id="179d3-155">510 MS</span><span class="sxs-lookup"><span data-stu-id="179d3-155">510 MS</span></span> | <span data-ttu-id="179d3-156">780 MS</span><span class="sxs-lookup"><span data-stu-id="179d3-156">780 MS</span></span> | <span data-ttu-id="179d3-157">53%</span><span class="sxs-lookup"><span data-stu-id="179d3-157">53%</span></span> |

<span data-ttu-id="179d3-158">브라우저에서 요청에 적용 하는 HTTP 헤더를 사용 하 여 브라우저에서 매우 자세한 정보를 보내기 때문에 전송 된 바이트는 묶음을 크게 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-158">The bytes sent had a significant reduction with bundling as browsers are fairly verbose with the HTTP headers they apply on requests.</span></span> <span data-ttu-id="179d3-159">가장 큰 파일 (*스크립트\\jquery-ui-1.8.11* 및 *스크립트\\jquery-1.10.2.min.js 1.7.1 for*)은 이미 미리 알고 있으므로 수신 된 바이트 감소는 크지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-159">The received bytes reduction is not as large because the largest files (*Scripts\\jquery-ui-1.8.11.min.js* and *Scripts\\jquery-1.7.1.min.js*) are already minified.</span></span> <span data-ttu-id="179d3-160">참고: 샘플 프로그램의 타이밍은 [Fiddler](http://www.fiddler2.com/fiddler2/) 도구를 사용 하 여 저속 네트워크를 시뮬레이션 했습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-160">Note: The timings on the sample program used the [Fiddler](http://www.fiddler2.com/fiddler2/) tool to simulate a slow network.</span></span> <span data-ttu-id="179d3-161">Fiddler **규칙** 메뉴에서 **성능** 을 선택 하 고 **모뎀 속도를 시뮬레이션**합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-161">(From the Fiddler **Rules** menu, select **Performance** then **Simulate Modem Speeds**.)</span></span>

## <a name="debugging-bundled-and-minified-javascript"></a><span data-ttu-id="179d3-162">번들로 제공 되는 JavaScript 디버깅</span><span class="sxs-lookup"><span data-stu-id="179d3-162">Debugging Bundled and Minified JavaScript</span></span>

<span data-ttu-id="179d3-163">JavaScript 파일이 번들로 또는 이상 확인할 수 없기 때문에 *web.config* 파일의 [컴파일 요소가](https://msdn.microsoft.com/library/s10awwz0.aspx) `debug="true"`로 설정 된 개발 환경에서 javascript를 쉽게 디버그할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-163">It's easy to debug your JavaScript in a development environment (where the [compilation Element](https://msdn.microsoft.com/library/s10awwz0.aspx) in the *Web.config* file is set to `debug="true"` ) because the JavaScript files are not bundled or minified.</span></span> <span data-ttu-id="179d3-164">JavaScript 파일이 번들로 표시 되 고 표시 되지 않는 릴리스 빌드를 디버그할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-164">You can also debug a release build where your JavaScript files are bundled and minified.</span></span> <span data-ttu-id="179d3-165">IE F12 개발자 도구를 사용 하 여 다음 방법을 사용 하 여 축소 된 번들에 포함 된 JavaScript 함수를 디버그할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-165">Using the IE F12 developer tools, you debug a JavaScript function included in a minified bundle using the following approach:</span></span>

1. <span data-ttu-id="179d3-166">**스크립트** 탭을 선택 하 고 **디버깅 시작** 단추를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-166">Select the **Script** tab and then select the **Start debugging** button.</span></span>
2. <span data-ttu-id="179d3-167">자산 단추를 사용 하 여 디버깅 하려는 JavaScript 함수가 포함 된 번들을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-167">Select the bundle containing the JavaScript function you want to debug using the assets button.</span></span>  
    ![](bundling-and-minification/_static/image4.png)
3. <span data-ttu-id="179d3-168">**구성 단추** ![](bundling-and-minification/_static/image5.png)선택 하 고 **javascript 서식**을 선택 하 여 선택 되지 않은 javascript의 형식을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-168">Format the minified JavaScript by selecting the **Configuration button** ![](bundling-and-minification/_static/image5.png), and then selecting **Format JavaScript**.</span></span>
4. <span data-ttu-id="179d3-169">**검색 스크립트** 입력 상자에서 디버깅 하려는 함수의 이름을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-169">In the **Search Script** input box, select the name of the function you want to debug.</span></span> <span data-ttu-id="179d3-170">다음 이미지에서는 **검색 스크립트** 입력 상자에 **Addalttoimg** 가 입력 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-170">In the following image, **AddAltToImg** was entered in the **Search Script** input box.</span></span>  
    ![](bundling-and-minification/_static/image6.png)

<span data-ttu-id="179d3-171">F12 개발자 도구를 사용 하 여 디버깅 하는 방법에 대 한 자세한 내용은 MSDN 문서 [f12 개발자 도구를 사용 하 여 JavaScript 오류 디버그를](https://msdn.microsoft.com/library/ie/gg699336(v=vs.85).aspx)참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="179d3-171">For more information on debugging with the F12 developer tools, see the MSDN article [Using the F12 Developer Tools to Debug JavaScript Errors](https://msdn.microsoft.com/library/ie/gg699336(v=vs.85).aspx).</span></span>

## <a name="controlling-bundling-and-minification"></a><span data-ttu-id="179d3-172">묶음 및 축소 제어</span><span class="sxs-lookup"><span data-stu-id="179d3-172">Controlling Bundling and Minification</span></span>

<span data-ttu-id="179d3-173">*Web.config 파일의* [컴파일 요소](https://msdn.microsoft.com/library/s10awwz0.aspx) 에 있는 debug 특성의 값을 설정 하 여 묶음 및 축소를 사용 하거나 사용 하지 않도록 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-173">Bundling and minification is enabled or disabled by setting the value of the debug attribute in the [compilation Element](https://msdn.microsoft.com/library/s10awwz0.aspx)  in the *Web.config* file.</span></span> <span data-ttu-id="179d3-174">다음 XML에서는를 true로 설정 하 여 묶음 및 축소를 사용 하지 않도록 설정 `debug`.</span><span class="sxs-lookup"><span data-stu-id="179d3-174">In the following XML, `debug` is set to true so bundling and minification is disabled.</span></span>

[!code-xml[Main](bundling-and-minification/samples/sample3.xml?highlight=2)]

<span data-ttu-id="179d3-175">묶음 및 축소를 사용 하도록 설정 하려면 `debug` 값을 "false"로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-175">To enable bundling and minification, set the `debug` value to "false".</span></span> <span data-ttu-id="179d3-176">`BundleTable` 클래스의 `EnableOptimizations` 속성을 사용 *하 여 web.config 설정을 재정의할* 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-176">You can override the *Web.config* setting with the `EnableOptimizations` property on the `BundleTable` class.</span></span> <span data-ttu-id="179d3-177">다음 코드에서는 묶음 및 축소를 사용 하도록 설정 하 고 web.config *파일의* 설정을 재정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-177">The following code enables bundling and minification and overrides any setting in the *Web.config* file.</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample4.cs?highlight=7)]

> [!NOTE]
> <span data-ttu-id="179d3-178">`EnableOptimizations`를 `true` 하거나 *web.config* 파일의 [컴파일 요소](https://msdn.microsoft.com/library/s10awwz0.aspx) 에 있는 debug 특성을 `false`로 설정 하지 않는 한 파일은 번들로 묶여 있지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-178">Unless `EnableOptimizations` is `true` or the debug attribute in the [compilation Element](https://msdn.microsoft.com/library/s10awwz0.aspx)  in the *Web.config* file is set to `false`, files will not be bundled or minified.</span></span> <span data-ttu-id="179d3-179">또한 파일의 최소 버전은 사용 되지 않으므로 전체 디버그 버전이 선택 됩니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-179">Additionally, the .min version of files will not be used, the full debug versions will be selected.</span></span> <span data-ttu-id="179d3-180">`EnableOptimizations`은 Web.config 파일의 [컴파일 요소](https://msdn.microsoft.com/library/s10awwz0.aspx) 에 있는 debug 특성을 재정의 합니다 *.*</span><span class="sxs-lookup"><span data-stu-id="179d3-180">`EnableOptimizations` overrides the debug attribute in the [compilation Element](https://msdn.microsoft.com/library/s10awwz0.aspx)  in the *Web.config* file</span></span>

## <a name="using-bundling-and-minification-with-aspnet-web-forms-and-web-pages"></a><span data-ttu-id="179d3-181">ASP.NET Web Forms 및 웹 페이지에서 묶음 및 축소 사용</span><span class="sxs-lookup"><span data-stu-id="179d3-181">Using Bundling and Minification with ASP.NET Web Forms and Web Pages</span></span>

- <span data-ttu-id="179d3-182">웹 페이지의 경우 웹 [페이지에 웹 최적화 추가](https://docs.microsoft.com/archive/blogs/rickandy/adding-web-optimization-to-a-web-pages-site)블로그 항목을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="179d3-182">For Web Pages, see the blog entry [Adding Web Optimization to a Web Pages Site](https://docs.microsoft.com/archive/blogs/rickandy/adding-web-optimization-to-a-web-pages-site).</span></span>
- <span data-ttu-id="179d3-183">Web Forms [Web Forms에 묶음 및 축소 추가](https://docs.microsoft.com/archive/blogs/rickandy/adding-bundling-and-minification-to-web-forms)블로그 항목을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="179d3-183">For Web Forms, see the blog entry [Adding Bundling and Minification to Web Forms](https://docs.microsoft.com/archive/blogs/rickandy/adding-bundling-and-minification-to-web-forms).</span></span>

## <a name="using-bundling-and-minification-with-aspnet-mvc"></a><span data-ttu-id="179d3-184">ASP.NET MVC에서 묶음 및 축소 사용</span><span class="sxs-lookup"><span data-stu-id="179d3-184">Using Bundling and Minification with ASP.NET MVC</span></span>

<span data-ttu-id="179d3-185">이 섹션에서는 묶음 및 축소를 검사 하는 ASP.NET MVC 프로젝트를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-185">In this section we will create an ASP.NET MVC project to examine bundling and minification.</span></span> <span data-ttu-id="179d3-186">먼저 기본값을 변경 하지 않고 **Mvcbm** 관계 라는 새 ASP.NET MVC 인터넷 프로젝트를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-186">First, create a new ASP.NET MVC internet project named **MvcBM** without changing any of the defaults.</span></span>

<span data-ttu-id="179d3-187">*앱\\\_시작\\BundleConfig.cs* 파일을 열고 번들을 만들고 등록 하 고 구성 하는 데 사용 되는 `RegisterBundles` 메서드를 검사 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-187">Open the *App\\\_Start\\BundleConfig.cs* file and examine the `RegisterBundles` method which is used to create, register and configure bundles.</span></span> <span data-ttu-id="179d3-188">다음 코드는 `RegisterBundles` 메서드의 일부를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-188">The following code shows a portion of the `RegisterBundles` method.</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample5.cs)]

<span data-ttu-id="179d3-189">앞의 코드는 적절 한 모든을 포함 하는 *~/bundles/jquery* 라는 새 JavaScript 번들을 만듭니다."~/Scripts/jquery-{version}.js" 와일드 카드 문자열과 일치 하는 *Scripts* 폴더의 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-189">The  preceding code creates a new JavaScript bundle named *~/bundles/jquery* that includes all the appropriate (that is debug or minified but not .*vsdoc*) files in the *Scripts* folder that match the wild card string "~/Scripts/jquery-{version}.js".</span></span> <span data-ttu-id="179d3-190">ASP.NET MVC 4의 경우 즉, 디버그 구성을 사용 하면 *jquery-1.10.2.min.js 1.7.1 for* 파일이 번들에 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-190">For ASP.NET MVC 4, this means with a debug configuration, the file *jquery-1.7.1.js* will be added to the bundle.</span></span> <span data-ttu-id="179d3-191">릴리스 구성에서는 *jquery-1.10.2.min.js 1.7.1 for* 가 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-191">In a release configuration, *jquery-1.7.1.min.js* will be added.</span></span> <span data-ttu-id="179d3-192">번들 프레임 워크는 다음과 같은 몇 가지 일반적인 규칙을 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-192">The bundling framework follows several common conventions such as:</span></span>

- <span data-ttu-id="179d3-193">*Filex. min .js* 및 *filex* 가 있는 경우 릴리스에 대 한 ". min" 파일을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-193">Selecting ".min" file for release when *FileX.min.js* and *FileX.js* exist.</span></span>
- <span data-ttu-id="179d3-194">디버그할 ". min" 버전이 아닌 버전을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-194">Selecting the non ".min" version for debug.</span></span>
- <span data-ttu-id="179d3-195">IntelliSense 에서만 사용 되는 "-vsdoc" 파일 (예: *jquery-1.10.2.min.js 1.7.1 for-vsdoc .js*)을 무시 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-195">Ignoring "-vsdoc" files (such as *jquery-1.7.1-vsdoc.js*), which are used only by IntelliSense.</span></span>

<span data-ttu-id="179d3-196">위에 표시 된 것과 같은 `{version}` 와일드 카드를 사용 하 여 *스크립트* 폴더에 적절 한 버전의 jquery를 사용 하는 jquery 번들을 자동으로 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-196">The `{version}` wild card matching shown above is used to automatically create a jQuery bundle with the appropriate version of jQuery in your *Scripts* folder.</span></span> <span data-ttu-id="179d3-197">이 예제에서 와일드 카드를 사용 하면 다음과 같은 이점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-197">In this example, using a wild card provides the following benefits:</span></span>

- <span data-ttu-id="179d3-198">에서는 NuGet을 사용 하 여 보기 페이지에서 이전 번들 코드 또는 jQuery 참조를 변경 하지 않고 최신 jQuery 버전으로 업데이트할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-198">Allows you to use NuGet to update to a newer jQuery version without changing the preceding bundling code or jQuery references in your view pages.</span></span>
- <span data-ttu-id="179d3-199">는 디버그 구성에 대해 전체 버전을 자동으로 선택 하 고 릴리스 빌드의 경우 ". min" 버전을 자동으로 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-199">Automatically selects the full version for debug configurations and the ".min" version for release builds.</span></span>

## <a name="using-a-cdn"></a><span data-ttu-id="179d3-200">CDN 사용</span><span class="sxs-lookup"><span data-stu-id="179d3-200">Using a CDN</span></span>

 <span data-ttu-id="179d3-201">다음 코드는 로컬 jQuery 번들을 CDN jQuery 번들로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-201">The follow code replaces the local jQuery bundle with a CDN jQuery bundle.</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample6.cs)]

<span data-ttu-id="179d3-202">위의 코드에서 jQuery는 릴리스 모드에 있는 동안 CDN에서 요청 되며 jQuery의 디버그 버전은 디버그 모드에서 로컬로 인출 됩니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-202">In the code above, jQuery will be requested from the CDN while in release mode and the debug version of jQuery will be fetched locally in debug mode.</span></span> <span data-ttu-id="179d3-203">Cdn을 사용 하는 경우 CDN 요청이 실패 하는 경우 대체 메커니즘을 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-203">When using a CDN, you should have a fallback mechanism in case the CDN request fails.</span></span> <span data-ttu-id="179d3-204">레이아웃 파일의 끝에서 다음 태그 조각에는 CDN이 실패할 경우 요청 jQuery에 추가 된 스크립트가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-204">The following markup fragment from the end of the layout file shows script added to request jQuery should the CDN fail.</span></span>

[!code-cshtml[Main](bundling-and-minification/samples/sample7.cshtml?highlight=5-13)]

## <a name="creating-a-bundle"></a><span data-ttu-id="179d3-205">번들 만들기</span><span class="sxs-lookup"><span data-stu-id="179d3-205">Creating a Bundle</span></span>

<span data-ttu-id="179d3-206">[번들](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) 클래스 `Include` 메서드는 문자열 배열을 사용 합니다. 여기서 각 문자열은 리소스의 가상 경로입니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-206">The [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) class `Include` method takes an array of strings, where each string is a virtual path to resource.</span></span> <span data-ttu-id="179d3-207">*응용 프로그램\\\_Start\\BundleConfig.cs* 파일의 `RegisterBundles` 메서드에서 다음 코드는 번들에 여러 파일을 추가 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-207">The following code from the `RegisterBundles` method in the *App\\\_Start\\BundleConfig.cs* file shows how multiple files are added to a bundle:</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample8.cs)]

<span data-ttu-id="179d3-208">[번들](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) 클래스 `IncludeDirectory` 메서드는 검색 패턴과 일치 하는 디렉터리 (및 선택적으로 모든 하위 디렉터리)에 모든 파일을 추가 하기 위해 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-208">The [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) class `IncludeDirectory` method is provided to add all the files in a directory (and optionally all subdirectories) which match a search pattern.</span></span> <span data-ttu-id="179d3-209">[번들](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) 클래스 `IncludeDirectory` API는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-209">The [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) class `IncludeDirectory` API is shown below:</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample9.cs)]

<span data-ttu-id="179d3-210">번들은 Render 메서드를 사용 하 여 뷰에서 참조 됩니다 (CSS 및 JavaScript의 `Scripts.Render`에 대 한`Styles.Render`).</span><span class="sxs-lookup"><span data-stu-id="179d3-210">Bundles are referenced in views using the Render method, (`Styles.Render` for CSS and `Scripts.Render` for JavaScript).</span></span> <span data-ttu-id="179d3-211">*보기\\공유\\\_레이아웃* 의 다음 태그는 기본 ASP.NET 인터넷 프로젝트 뷰에서 CSS 및 JavaScript 번들을 참조 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-211">The following markup from the *Views\\Shared\\\_Layout.cshtml* file shows how the default ASP.NET internet project views reference CSS and JavaScript bundles.</span></span>

[!code-cshtml[Main](bundling-and-minification/samples/sample10.cshtml?highlight=5-6,11)]

<span data-ttu-id="179d3-212">Render 메서드는 문자열 배열을 사용 하므로 한 줄의 코드에서 여러 번들을 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-212">Notice the Render methods takes an array of strings, so you can add multiple bundles in one line of code.</span></span> <span data-ttu-id="179d3-213">일반적으로 자산을 참조 하는 데 필요한 HTML을 만드는 Render 메서드를 사용 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-213">You will generally want to use the Render methods which create the necessary HTML to reference the asset.</span></span> <span data-ttu-id="179d3-214">`Url` 메서드를 사용 하 여 자산을 참조 하는 데 필요한 태그 없이 자산에 대 한 URL을 생성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-214">You can use the `Url` method to generate the URL to the asset without the markup needed to reference the asset.</span></span> <span data-ttu-id="179d3-215">새 HTML5 [async](http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async) 특성을 사용 한다고 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-215">Suppose you wanted to use the new HTML5 [async](http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async) attribute.</span></span> <span data-ttu-id="179d3-216">다음 코드에서는 `Url` 메서드를 사용 하 여 modernizr를 참조 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-216">The following code shows how to reference modernizr using the `Url` method.</span></span>

[!code-cshtml[Main](bundling-and-minification/samples/sample11.cshtml?highlight=11)]

## <a name="using-the--wildcard-character-to-select-files"></a><span data-ttu-id="179d3-217">"\*" 와일드 카드 문자를 사용 하 여 파일 선택</span><span class="sxs-lookup"><span data-stu-id="179d3-217">Using the "\*" Wildcard Character to Select Files</span></span>

<span data-ttu-id="179d3-218">`Include` 메서드에 지정 된 가상 경로와 `IncludeDirectory` 메서드의 검색 패턴은 마지막 경로 세그먼트에서 접두사 또는 접미사로 "\*" 와일드 카드 문자 하나를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-218">The virtual path specified in the `Include` method and the search pattern in the `IncludeDirectory` method can accept one "\*" wildcard character as a prefix or suffix to in the last path segment.</span></span> <span data-ttu-id="179d3-219">검색 문자열은 대/소문자를 구분 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-219">The search string is case insensitive.</span></span> <span data-ttu-id="179d3-220">`IncludeDirectory` 메서드에는 하위 디렉터리를 검색할 수 있는 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-220">The `IncludeDirectory` method has the option of searching subdirectories.</span></span>

<span data-ttu-id="179d3-221">다음 JavaScript 파일이 포함 된 프로젝트를 생각해 보세요.</span><span class="sxs-lookup"><span data-stu-id="179d3-221">Consider a project with the following JavaScript files:</span></span>

- <span data-ttu-id="179d3-222">*스크립트\\Common\\AddAltToImg.*</span><span class="sxs-lookup"><span data-stu-id="179d3-222">*Scripts\\Common\\AddAltToImg.js*</span></span>
- <span data-ttu-id="179d3-223">*스크립트\\일반적인\\ToggleDiv*</span><span class="sxs-lookup"><span data-stu-id="179d3-223">*Scripts\\Common\\ToggleDiv.js*</span></span>
- <span data-ttu-id="179d3-224">*스크립트\\일반적인\\ToggleImg*</span><span class="sxs-lookup"><span data-stu-id="179d3-224">*Scripts\\Common\\ToggleImg.js*</span></span>
- <span data-ttu-id="179d3-225">*스크립트\\일반\\Sub1\\ToggleLinks*</span><span class="sxs-lookup"><span data-stu-id="179d3-225">*Scripts\\Common\\Sub1\\ToggleLinks.js*</span></span>

![dir imag](bundling-and-minification/_static/image7.png)

<span data-ttu-id="179d3-227">다음 표에서는 표시 된 대로 와일드 카드를 사용 하 여 번들에 추가 된 파일을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-227">The following table shows the files added to a bundle using the wildcard as shown:</span></span>

| <span data-ttu-id="179d3-228">**Call**</span><span class="sxs-lookup"><span data-stu-id="179d3-228">**Call**</span></span> | <span data-ttu-id="179d3-229">**추가 된 파일 또는 예외 발생**</span><span class="sxs-lookup"><span data-stu-id="179d3-229">**Files Added or Exception Raised**</span></span> |
| --- | --- |
| <span data-ttu-id="179d3-230">Include ("~/Scripts/Common/\*.js")</span><span class="sxs-lookup"><span data-stu-id="179d3-230">Include("~/Scripts/Common/\*.js")</span></span> | <span data-ttu-id="179d3-231">*Addalttoimg*, *ToggleDiv*, *ToggleImg*</span><span class="sxs-lookup"><span data-stu-id="179d3-231">*AddAltToImg.js*, *ToggleDiv.js*, *ToggleImg.js*</span></span> |
| <span data-ttu-id="179d3-232">Include ("~/Scripts/Common/T\*.js")</span><span class="sxs-lookup"><span data-stu-id="179d3-232">Include("~/Scripts/Common/T\*.js")</span></span> | <span data-ttu-id="179d3-233">잘못 된 패턴 예외입니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-233">Invalid pattern exception.</span></span> <span data-ttu-id="179d3-234">와일드 카드 문자는 접두사 또는 접미사에만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-234">The wildcard character is only allowed on the prefix or suffix.</span></span> |
| <span data-ttu-id="179d3-235">Include ("~/Scripts/Common/\*og.\*")</span><span class="sxs-lookup"><span data-stu-id="179d3-235">Include("~/Scripts/Common/\*og.\*")</span></span> | <span data-ttu-id="179d3-236">잘못 된 패턴 예외입니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-236">Invalid pattern exception.</span></span> <span data-ttu-id="179d3-237">와일드 카드 문자는 하나만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-237">Only one wildcard character is allowed.</span></span> |
| <span data-ttu-id="179d3-238">Include ("~/Scripts/Common/T\*")</span><span class="sxs-lookup"><span data-stu-id="179d3-238">Include("~/Scripts/Common/T\*")</span></span> | <span data-ttu-id="179d3-239">*ToggleDiv*, *ToggleImg*</span><span class="sxs-lookup"><span data-stu-id="179d3-239">*ToggleDiv.js*, *ToggleImg.js*</span></span> |
| <span data-ttu-id="179d3-240">Include ("~/Scripts/Common/\*")</span><span class="sxs-lookup"><span data-stu-id="179d3-240">Include("~/Scripts/Common/\*")</span></span> | <span data-ttu-id="179d3-241">잘못 된 패턴 예외입니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-241">Invalid pattern exception.</span></span> <span data-ttu-id="179d3-242">순수 와일드 카드 세그먼트가 잘못 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-242">A pure wildcard segment is not valid.</span></span> |
| <span data-ttu-id="179d3-243">IncludeDirectory ("~/Scripts/Common", "T\*")</span><span class="sxs-lookup"><span data-stu-id="179d3-243">IncludeDirectory("~/Scripts/Common", "T\*")</span></span> | <span data-ttu-id="179d3-244">*ToggleDiv*, *ToggleImg*</span><span class="sxs-lookup"><span data-stu-id="179d3-244">*ToggleDiv.js*, *ToggleImg.js*</span></span> |
| <span data-ttu-id="179d3-245">IncludeDirectory ("~/Scripts/Common", "T\*", true)</span><span class="sxs-lookup"><span data-stu-id="179d3-245">IncludeDirectory("~/Scripts/Common", "T\*", true)</span></span> | <span data-ttu-id="179d3-246">*ToggleDiv*, *ToggleImg*, *ToggleLinks*</span><span class="sxs-lookup"><span data-stu-id="179d3-246">*ToggleDiv.js*, *ToggleImg.js*, *ToggleLinks.js*</span></span> |

<span data-ttu-id="179d3-247">각 파일을 번들에 명시적으로 추가 하는 것은 일반적으로 다음과 같은 이유로 파일의 와일드 카드 로드 보다 선호 됩니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-247">Explicitly adding each file to a bundle is generally the preferred over wildcard loading of files for the following reasons:</span></span>

- <span data-ttu-id="179d3-248">와일드 카드 기본값으로 스크립트를 추가 하 여 사전순으로 로드 합니다 .이는 일반적으로 원하는 항목이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-248">Adding scripts by wildcard defaults to loading them in alphabetical order, which is typically not what you want.</span></span> <span data-ttu-id="179d3-249">CSS 및 JavaScript 파일을 특정 (영문자가 아닌) 순서로 추가 해야 하는 경우가 자주 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-249">CSS and JavaScript files frequently need to be added in a specific (non-alphabetic) order.</span></span> <span data-ttu-id="179d3-250">사용자 지정 [IBundleOrderer](https://msdn.microsoft.com/library/system.web.optimization.ibundleorderer(VS.110).aspx) 구현을 추가 하 여이 위험을 완화할 수 있지만 각 파일을 명시적으로 추가 하면 오류가 발생 하기 쉽습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-250">You can mitigate this risk by adding a custom [IBundleOrderer](https://msdn.microsoft.com/library/system.web.optimization.ibundleorderer(VS.110).aspx) implementation, but explicitly adding each file is less error prone.</span></span> <span data-ttu-id="179d3-251">예를 들어 나중에 [IBundleOrderer](https://msdn.microsoft.com/library/system.web.optimization.ibundleorderer(VS.110).aspx) 구현을 수정 해야 할 수 있는 폴더에 새 자산을 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-251">For example, you might add new assets to a folder in the future which might require you to modify your [IBundleOrderer](https://msdn.microsoft.com/library/system.web.optimization.ibundleorderer(VS.110).aspx) implementation.</span></span>
- <span data-ttu-id="179d3-252">와일드 카드 로드를 사용 하 여 디렉터리에 추가 된 특정 파일 보기는 해당 번들을 참조 하는 모든 보기에 포함 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-252">View specific files added to a directory using wild card loading can be included in all views referencing that bundle.</span></span> <span data-ttu-id="179d3-253">특정 보기 스크립트를 번들에 추가 하면 번들을 참조 하는 다른 보기에서 JavaScript 오류가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-253">If the view specific script is added to a bundle, you may get a JavaScript error on other views that reference the bundle.</span></span>
- <span data-ttu-id="179d3-254">다른 파일을 가져오는 CSS 파일의 결과로 가져온 파일이 두 번 로드 됩니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-254">CSS files that import other files result in the imported files loaded twice.</span></span> <span data-ttu-id="179d3-255">예를 들어 다음 코드는 대부분의 jQuery UI 테마 CSS 파일을 두 번 로드 하 여 번들을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-255">For example, the following code creates a bundle with most of the jQuery UI theme CSS files loaded twice.</span></span> 

    [!code-csharp[Main](bundling-and-minification/samples/sample12.cs)]

  <span data-ttu-id="179d3-256">와일드 카드 선택기 "\*. s i s"는 *콘텐츠\\테마\\기본\\jquery. .css* 파일을 포함 하 여 각 css 파일을 폴더에 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-256">The wild card selector "\*.css" brings in each CSS file in the folder, including the *Content\\themes\\base\\jquery.ui.all.css* file.</span></span> <span data-ttu-id="179d3-257">*Jquery. .css* 파일은 다른 css 파일을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-257">The *jquery.ui.all.css* file imports other CSS files.</span></span>

## <a name="bundle-caching"></a><span data-ttu-id="179d3-258">번들 캐싱</span><span class="sxs-lookup"><span data-stu-id="179d3-258">Bundle Caching</span></span>

<span data-ttu-id="179d3-259">번들을 만들 때 번들에서 1 년 동안 HTTP 만료 헤더를 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-259">Bundles set the HTTP Expires Header one year from when the bundle is created.</span></span> <span data-ttu-id="179d3-260">이전에 본 페이지로 이동 하는 경우 Fiddler에서 번들에 대 한 조건부 요청을 만들지 않습니다. 즉, 번들에 대 한 HTTP GET 요청이 없고 서버에서 HTTP 304 응답이 없는 것을 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-260">If you navigate to a previously viewed page, Fiddler shows IE does not make a conditional request for the bundle, that is, there are no HTTP GET requests from IE for the bundles and no HTTP 304 responses from the server.</span></span> <span data-ttu-id="179d3-261">IE가 F5 키를 사용 하 여 각 번들에 대 한 조건부 요청을 만들도록 강제할 수 있습니다 (각 번들에 대 한 HTTP 304 응답 생성).</span><span class="sxs-lookup"><span data-stu-id="179d3-261">You can force IE to make a conditional request for each bundle with the F5 key (resulting in a HTTP 304 response for each bundle).</span></span> <span data-ttu-id="179d3-262">^ F5 키를 사용 하 여 전체 새로 고침을 강제로 실행할 수 있습니다. 그러면 각 번들에 대해 HTTP 200 응답이 생성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-262">You can force a full refresh by using ^F5 (resulting in a HTTP 200 response for each bundle.)</span></span>

<span data-ttu-id="179d3-263">다음 이미지는 Fiddler 응답 창의 **캐싱** 탭을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-263">The following image shows the **Caching** tab of the Fiddler response pane:</span></span>

![fiddler 캐싱 이미지](bundling-and-minification/_static/image8.png)

<span data-ttu-id="179d3-265">요청</span><span class="sxs-lookup"><span data-stu-id="179d3-265">The request</span></span>   
`http://localhost/MvcBM_time/bundles/AllMyScripts?v=r0sLDicvP58AIXN_mc3QdyVvVj5euZNzdsa2N1PKvb81`  
 <span data-ttu-id="179d3-266">는 번들 **Allmyscripts** 용 이며 쿼리 문자열 쌍 **v = R0sLDicvP58AIXN\\\_mc3QdyVvVj5euZNzdsa2N1PKvb81**를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-266">is for the bundle **AllMyScripts** and contains a query string pair **v=r0sLDicvP58AIXN\\\_mc3QdyVvVj5euZNzdsa2N1PKvb81**.</span></span> <span data-ttu-id="179d3-267">쿼리 문자열 **v** 에는 캐싱에 사용 되는 고유 식별자 인 값 토큰이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-267">The query string **v** has a value token that is a unique identifier used for caching.</span></span> <span data-ttu-id="179d3-268">번들이 변경 되지 않는 한 ASP.NET 응용 프로그램은이 토큰을 사용 하 여 **Allmyscripts** 번들을 요청 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-268">As long as the bundle doesn't change, the ASP.NET application will request the **AllMyScripts** bundle using this token.</span></span> <span data-ttu-id="179d3-269">번들의 파일이 변경 되 면 ASP.NET 최적화 프레임 워크는 새 토큰을 생성 하 여 번들에 대 한 브라우저 요청이 최신 번들을 가져오도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-269">If any file in the bundle changes, the ASP.NET optimization framework will generate a new token, guaranteeing that browser requests for the bundle will get the latest bundle.</span></span>

<span data-ttu-id="179d3-270">IE9 F12 개발자 도구를 실행 하 고 이전에 로드 한 페이지로 이동 하는 경우 IE는 각 번들에 대 한 조건부 GET 요청 및 HTTP 304을 반환 하는 서버를 잘못 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-270">If you run the IE9 F12 developer tools and navigate to a previously loaded page, IE incorrectly shows conditional GET requests made to each bundle and the server returning HTTP 304.</span></span> <span data-ttu-id="179d3-271">CDNs를 사용 하 여 블로그 항목에서 조건부 요청이 수행 되었는지 여부를 확인 하는 데 문제가 발생 하 [고 웹 사이트 성능을 개선 하기 위해 만료 되](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx)는 이유를 IE9 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-271">You can read why IE9 has problems determining if a conditional request was made in the blog entry [Using CDNs and Expires to Improve Web Site Performance](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span></span>

## <a name="less-coffeescript-scss-sass-bundling"></a><span data-ttu-id="179d3-272">LESS, CoffeeScript, SCSS, Sass 번들입니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-272">LESS, CoffeeScript, SCSS, Sass Bundling.</span></span>

<span data-ttu-id="179d3-273">번들 및 축소 프레임 워크는 [SCSS](http://sass-lang.com/), [Sass](http://sass-lang.com/), [LESS](http://www.dotlesscss.org/) 또는 [Coffeescript](http://coffeescript.org/)와 같은 중간 언어를 처리 하 고 결과 번들에 축소와 같은 변환을 적용 하는 메커니즘을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-273">The bundling and minification framework provides a mechanism to process intermediate languages such as [SCSS](http://sass-lang.com/), [Sass](http://sass-lang.com/), [LESS](http://www.dotlesscss.org/) or [Coffeescript](http://coffeescript.org/), and apply transforms such as minification to the resulting bundle.</span></span> <span data-ttu-id="179d3-274">예를 들어, MVC 4 프로젝트에 [더 작은](http://www.dotlesscss.org/) 파일을 추가 하려면 다음을 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-274">For example, to add [.less](http://www.dotlesscss.org/) files to your MVC 4 project:</span></span>

1. <span data-ttu-id="179d3-275">콘텐츠를 줄일 폴더를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-275">Create a folder for your LESS content.</span></span> <span data-ttu-id="179d3-276">다음 예제에서는 *\\MyLess 폴더 콘텐츠* 를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-276">The following example uses the *Content\\MyLess* folder.</span></span>
2. <span data-ttu-id="179d3-277">프로젝트에 **점** [없는 NuGet 패키지](http://www.dotlesscss.org/) 를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-277">Add the [.less](http://www.dotlesscss.org/) NuGet package **dotless** to your project.</span></span>  
    <span data-ttu-id="179d3-278">NuGet ![설치](bundling-and-minification/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="179d3-278">![NuGet dotless install](bundling-and-minification/_static/image9.png)</span></span>
3. <span data-ttu-id="179d3-279">[IBundleTransform](https://msdn.microsoft.com/library/system.web.optimization.ibundletransform(VS.110).aspx) 인터페이스를 구현 하는 클래스를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-279">Add a class that implements the [IBundleTransform](https://msdn.microsoft.com/library/system.web.optimization.ibundletransform(VS.110).aspx) interface.</span></span> <span data-ttu-id="179d3-280">Less transform의 경우 다음 코드를 프로젝트에 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-280">For the .less transform, add the following code to your project.</span></span>

    [!code-csharp[Main](bundling-and-minification/samples/sample13.cs)]
4. <span data-ttu-id="179d3-281">`LessTransform` 및 [CssMinify](https://msdn.microsoft.com/library/system.web.optimization.cssminify(VS.110).aspx) 변환을 사용 하 여 더 작은 파일의 번들을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-281">Create a bundle of LESS files with the `LessTransform` and the [CssMinify](https://msdn.microsoft.com/library/system.web.optimization.cssminify(VS.110).aspx) transform.</span></span> <span data-ttu-id="179d3-282">*앱\\_Start\\BundleConfig.cs* 파일의 `RegisterBundles` 메서드에 다음 코드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-282">Add the following code to the `RegisterBundles` method in the *App\\_Start\\BundleConfig.cs* file.</span></span>

    [!code-csharp[Main](bundling-and-minification/samples/sample14.cs)]
5. <span data-ttu-id="179d3-283">LESS 번들을 참조 하는 모든 뷰에 다음 코드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-283">Add the following code to any views which references the LESS bundle.</span></span>

    [!code-cshtml[Main](bundling-and-minification/samples/sample15.cshtml)]

## <a name="bundle-considerations"></a><span data-ttu-id="179d3-284">번들 고려 사항</span><span class="sxs-lookup"><span data-stu-id="179d3-284">Bundle Considerations</span></span>

<span data-ttu-id="179d3-285">번들을 만들 때 따라야 하는 좋은 규칙은 번들 이름에 "번들"을 접두사로 포함 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-285">A good convention to follow when creating bundles is to include "bundle" as a prefix in the bundle name.</span></span> <span data-ttu-id="179d3-286">이로 인해 [라우팅 충돌이](https://forums.asp.net/post/5012037.aspx)발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-286">This will prevent a possible [routing conflict](https://forums.asp.net/post/5012037.aspx).</span></span>

<span data-ttu-id="179d3-287">번들에서 파일 하나를 업데이트 하면 번들 쿼리 문자열 매개 변수에 대 한 새 토큰이 생성 되 고 다음에 클라이언트가 번들을 포함 하는 페이지를 요청할 때 전체 번들이 다운로드 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-287">Once you update one file in a bundle, a new token is generated for the bundle query string parameter and the full bundle must be downloaded the next time a client requests a page containing the bundle.</span></span> <span data-ttu-id="179d3-288">각 자산이 개별적으로 나열 되는 기존 태그에서 변경 된 파일만 다운로드 됩니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-288">In traditional markup where each asset is listed individually, only the changed file would be downloaded.</span></span> <span data-ttu-id="179d3-289">자주 변경 되는 자산은 묶음에 적합 하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-289">Assets that change frequently may not be good candidates for bundling.</span></span>

<span data-ttu-id="179d3-290">번들링 및 축소는 주로 첫 번째 페이지의 요청 로드 시간을 개선합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-290">Bundling and minification primarily improve the first page request load time.</span></span> <span data-ttu-id="179d3-291">웹 페이지를 요청 하 고 나면 브라우저는 자산 (JavaScript, CSS 및 이미지)을 캐시 하므로 같은 자산을 요청 하는 동일한 사이트의 페이지나 동일한 페이지를 요청 하는 경우 묶음 및 축소에서 성능 향상을 제공 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-291">Once a webpage has been requested, the browser caches the assets (JavaScript, CSS and images) so bundling and minification won't provide any performance boost when requesting the same page, or pages on the same site requesting the same assets.</span></span> <span data-ttu-id="179d3-292">자산에 대해 expires 헤더를 올바르게 설정 하지 않고 묶음 및 축소를 사용 하지 않는 경우 브라우저의 최신 추론은 며칠 후에 부실 자산을 표시 하 고 브라우저에서 각 자산에 대 한 유효성 검사 요청을 요구 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-292">If you don't set the expires header correctly on your assets, and you don't use bundling and minification, the browsers freshness heuristics will mark the assets stale after a few days and the browser will require a validation request for each asset.</span></span> <span data-ttu-id="179d3-293">이 경우 번들 및 축소를 통해 첫 번째 페이지 요청 후 성능이 향상 됩니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-293">In this case, bundling and minification provide a performance increase after the first page request.</span></span> <span data-ttu-id="179d3-294">자세한 내용은 [CDNs를 사용 하 여 블로그를 참조 하 고 웹 사이트 성능을 향상 시키기 위해 만료](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx)됩니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-294">For details, see the blog [Using CDNs and Expires to Improve Web Site Performance](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span></span>

<span data-ttu-id="179d3-295">[CDN](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx)을 사용 하 여 각 호스트 이름에 대 한 6 개의 동시 연결에 대 한 브라우저 제한 사항을 완화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-295">The browser limitation of six simultaneous connections per each hostname can be mitigated by using a [CDN](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span></span> <span data-ttu-id="179d3-296">CDN에는 호스팅 사이트와 다른 호스트 이름이 있으므로 CDN의 자산 요청은 호스팅 환경에 대 한 6 개의 동시 연결 제한에 포함 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-296">Because the CDN will have a different hostname than your hosting site, asset requests from the CDN will not count against the six simultaneous connections limit to your hosting environment.</span></span> <span data-ttu-id="179d3-297">CDN은 일반적인 패키지 캐싱과 edge 캐싱 이점을 제공할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-297">A CDN can also provide common package caching and edge caching advantages.</span></span>

<span data-ttu-id="179d3-298">번들은 필요한 페이지에 의해 분할 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-298">Bundles should be partitioned by pages that need them.</span></span> <span data-ttu-id="179d3-299">예를 들어 인터넷 응용 프로그램에 대 한 기본 ASP.NET MVC 템플릿은 jQuery와 별도의 jQuery 유효성 검사 번들을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-299">For example, the default ASP.NET MVC template for an internet application creates a jQuery Validation bundle separate from jQuery.</span></span> <span data-ttu-id="179d3-300">만든 기본 보기에는 입력이 없으며 값을 게시 하지 않으므로 유효성 검사 번들이 포함 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-300">Because the default views created have no input and do not post values, they don't include the validation bundle.</span></span>

<span data-ttu-id="179d3-301">`System.Web.Optimization` 네임 스페이스는 *system.object*에서 구현 됩니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-301">The `System.Web.Optimization` namespace is implemented in *System.Web.Optimization.dll*.</span></span> <span data-ttu-id="179d3-302">이는 *Antlr3*를 사용 하는 축소 기능을 위해 webgrease 라이브러리 (*webgrease .dll*)를 활용 합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-302">It leverages the WebGrease library (*WebGrease.dll*) for minification capabilities, which in turn uses *Antlr3.Runtime.dll*.</span></span>

<span data-ttu-id="179d3-303">*Twitter를 사용 하 여 빠른 게시를 수행 하 고 링크를 공유 합니다. 내 Twitter 핸들*: [@RickAndMSFT](http://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="179d3-303">*I use Twitter to make quick posts and share links. My Twitter handle is*: [@RickAndMSFT](http://twitter.com/RickAndMSFT)</span></span>

## <a name="additional-resources"></a><span data-ttu-id="179d3-304">추가 리소스</span><span class="sxs-lookup"><span data-stu-id="179d3-304">Additional resources</span></span>

- <span data-ttu-id="179d3-305">비디오: [Howard Dierking](https://twitter.com/#!/howard_dierking) 에서[묶음 및 최적화](https://channel9.msdn.com/Events/aspConf/aspConf/Bundling-and-Optimizing)</span><span class="sxs-lookup"><span data-stu-id="179d3-305">Video:[Bundling and Optimizing](https://channel9.msdn.com/Events/aspConf/aspConf/Bundling-and-Optimizing) by [Howard Dierking](https://twitter.com/#!/howard_dierking)</span></span>
- <span data-ttu-id="179d3-306">웹 [페이지 사이트에 웹 최적화를 추가](https://blogs.msdn.com/b/rickandy/archive/2012/08/15/adding-web-optimization-to-a-web-pages-site.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-306">[Adding Web Optimization to a Web Pages Site](https://blogs.msdn.com/b/rickandy/archive/2012/08/15/adding-web-optimization-to-a-web-pages-site.aspx).</span></span>
- <span data-ttu-id="179d3-307">[Web Forms에 묶음 및 축소를 추가](https://blogs.msdn.com/b/rickandy/archive/2012/08/14/adding-bundling-and-minification-to-web-forms.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="179d3-307">[Adding Bundling and Minification to Web Forms](https://blogs.msdn.com/b/rickandy/archive/2012/08/14/adding-bundling-and-minification-to-web-forms.aspx).</span></span>
- <span data-ttu-id="179d3-308">[Henrik F Nielsen](http://en.wikipedia.org/wiki/Henrik_Frystyk_Nielsen) [@frystyk](https://twitter.com/frystyk) 에서 [웹 검색을 통해 묶음 및 축소의 성능 영향](https://blogs.msdn.com/b/henrikn/archive/2012/06/17/performance-implications-of-bundling-and-minification-on-http.aspx)</span><span class="sxs-lookup"><span data-stu-id="179d3-308">[Performance Implications of Bundling and Minification on Web Browsing](https://blogs.msdn.com/b/henrikn/archive/2012/06/17/performance-implications-of-bundling-and-minification-on-http.aspx) by [Henrik F Nielsen](http://en.wikipedia.org/wiki/Henrik_Frystyk_Nielsen) [@frystyk](https://twitter.com/frystyk)</span></span>
- <span data-ttu-id="179d3-309">[CDNs 및를 사용 하](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx) 여 Rick Anderson [@RickAndMSFT](https://twitter.com/#!/RickAndMSFT) 의 웹 사이트 성능 향상</span><span class="sxs-lookup"><span data-stu-id="179d3-309">[Using CDNs and Expires to Improve Web Site Performance](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx) by Rick Anderson [@RickAndMSFT](https://twitter.com/#!/RickAndMSFT)</span></span>
- [<span data-ttu-id="179d3-310">RTT (왕복 시간) 최소화</span><span class="sxs-lookup"><span data-stu-id="179d3-310">Minimize RTT (round-trip times)</span></span>](https://developers.google.com/speed/docs/best-practices/rtt)

## <a name="contributors"></a><span data-ttu-id="179d3-311">참가자</span><span class="sxs-lookup"><span data-stu-id="179d3-311">Contributors</span></span>

- <span data-ttu-id="179d3-312">Jia-hao Kung</span><span class="sxs-lookup"><span data-stu-id="179d3-312">Hao Kung</span></span>
- [<span data-ttu-id="179d3-313">Howard Dierking</span><span class="sxs-lookup"><span data-stu-id="179d3-313">Howard Dierking</span></span>](https://twitter.com/#!/howard_dierking)
- <span data-ttu-id="179d3-314">Diana LaRose</span><span class="sxs-lookup"><span data-stu-id="179d3-314">Diana LaRose</span></span>
