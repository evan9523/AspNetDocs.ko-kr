---
uid: whitepapers/add-mobile-pages-to-your-aspnet-web-forms-mvc-application
title: '방법: ASP.NET Web Forms/MVC 응용 프로그램에 모바일 페이지 추가 | Microsoft Docs'
author: rick-anderson
description: ASP.NET Web Forms/MVC 응용 프로그램에서 모바일 장치에 최적화 된 페이지를 제공 하는 다양 한 방법에 대해 설명 하 고 아키텍처를 제안 하는 방법입니다.
ms.author: riande
ms.date: 01/20/2011
ms.assetid: 3124f28e-cc32-418a-afe3-519fa56f4c36
msc.legacyurl: /whitepapers/add-mobile-pages-to-your-aspnet-web-forms-mvc-application
msc.type: content
ms.openlocfilehash: 63c555358d06a9506bb5c8c993800c3307108192
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78462215"
---
# <a name="how-to-add-mobile-pages-to-your-aspnet-web-forms--mvc-application"></a><span data-ttu-id="6ffe3-103">방법: ASP.NET Web Forms/MVC 응용 프로그램에 모바일 페이지 추가</span><span class="sxs-lookup"><span data-stu-id="6ffe3-103">How To: Add Mobile Pages to Your ASP.NET Web Forms / MVC Application</span></span>

> <span data-ttu-id="6ffe3-104">**적용 대상**</span><span class="sxs-lookup"><span data-stu-id="6ffe3-104">**Applies To**</span></span>
> 
> - <span data-ttu-id="6ffe3-105">ASP.NET Web Forms 버전 4.0</span><span class="sxs-lookup"><span data-stu-id="6ffe3-105">ASP.NET Web Forms version 4.0</span></span>
> - <span data-ttu-id="6ffe3-106">ASP.NET MVC 버전 3.0</span><span class="sxs-lookup"><span data-stu-id="6ffe3-106">ASP.NET MVC version 3.0</span></span>
> 
> <span data-ttu-id="6ffe3-107">**요약**</span><span class="sxs-lookup"><span data-stu-id="6ffe3-107">**Summary**</span></span>
> 
> <span data-ttu-id="6ffe3-108">ASP.NET Web Forms/MVC 응용 프로그램에서 모바일 장치에 최적화 된 페이지를 제공 하는 다양 한 방법을 설명 하 고 다양 한 장치를 대상으로 하는 경우 고려해 야 할 아키텍처와 디자인 문제를 제안 하는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-108">This How To describes various ways to serve pages optimized for mobile devices from your ASP.NET Web Forms / MVC application, and suggests architectural and design issues to consider when targeting a broad range of devices.</span></span> <span data-ttu-id="6ffe3-109">또한이 문서에서는 ASP.NET 2.0에서 3.5로 ASP.NET 모바일 컨트롤이 더 이상 사용 되지 않는 이유와 일부 최신 대안에 대해 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-109">This document also explains why the ASP.NET Mobile Controls from ASP.NET 2.0 to 3.5 are now obsolete, and discusses some modern alternatives.</span></span>

## <a name="contents"></a><span data-ttu-id="6ffe3-110">콘텐츠</span><span class="sxs-lookup"><span data-stu-id="6ffe3-110">Contents</span></span>

- <span data-ttu-id="6ffe3-111">개요</span><span class="sxs-lookup"><span data-stu-id="6ffe3-111">Overview</span></span>
- <span data-ttu-id="6ffe3-112">아키텍처 옵션</span><span class="sxs-lookup"><span data-stu-id="6ffe3-112">Architectural options</span></span>
- <span data-ttu-id="6ffe3-113">브라우저 및 장치 검색</span><span class="sxs-lookup"><span data-stu-id="6ffe3-113">Browser and device detection</span></span>
- <span data-ttu-id="6ffe3-114">ASP.NET Web Forms 응용 프로그램에서 모바일 관련 페이지를 제공할 수 있는 방법</span><span class="sxs-lookup"><span data-stu-id="6ffe3-114">How ASP.NET Web Forms applications can present mobile-specific pages</span></span>
- <span data-ttu-id="6ffe3-115">ASP.NET MVC 응용 프로그램에서 모바일 관련 페이지를 제공 하는 방법</span><span class="sxs-lookup"><span data-stu-id="6ffe3-115">How ASP.NET MVC applications can present mobile-specific pages</span></span>
- <span data-ttu-id="6ffe3-116">추가 리소스</span><span class="sxs-lookup"><span data-stu-id="6ffe3-116">Additional resources</span></span>

<span data-ttu-id="6ffe3-117">ASP.NET Web Forms 및 MVC에 대 한이 백서 기술을 보여 주는 다운로드 가능한 코드 샘플은 [ASP.NET를 사용 하 여 사이트 Mobile Apps &](https://docs.microsoft.com/aspnet/mobile/overview)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-117">For downloadable code samples demonstrating this white paper's techniques for both ASP.NET Web Forms and MVC, see [Mobile Apps & Sites with ASP.NET](https://docs.microsoft.com/aspnet/mobile/overview).</span></span>

## <a name="overview"></a><span data-ttu-id="6ffe3-118">개요</span><span class="sxs-lookup"><span data-stu-id="6ffe3-118">Overview</span></span>

<span data-ttu-id="6ffe3-119">모바일 장치 – 스마트폰, 기능 휴대폰 및 태블릿 – 웹에 액세스 하는 수단으로 계속 해 서 성장 하 고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-119">Mobile devices – smartphones, feature phones, and tablets – continue to grow in popularity as a means to access the Web.</span></span> <span data-ttu-id="6ffe3-120">이는 많은 웹 개발자와 웹 지향 기업의 경우 해당 장치를 사용 하 여 방문자에 게 유용한 검색 환경을 제공 하는 것이 더 중요 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-120">For many web developers and web-oriented businesses, this means it's increasingly important to provide a great browsing experience for visitors using those devices.</span></span>

### <a name="how-earlier-versions-of-aspnet-supported-mobile-browsers"></a><span data-ttu-id="6ffe3-121">이전 버전의 ASP.NET 지원 되는 모바일 브라우저</span><span class="sxs-lookup"><span data-stu-id="6ffe3-121">How earlier versions of ASP.NET supported mobile browsers</span></span>

<span data-ttu-id="6ffe3-122">ASP.NET 버전 2.0 ~ 3.5에 포함 된 *모바일 컨트롤* *: system.web. ASP.NET 어셈블리 및* *MobileControls* 네임 스페이스의 모바일 장치에 대 한 서버 컨트롤 집합입니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-122">ASP.NET versions 2.0 to 3.5 included *ASP.NET Mobile Controls*: a set of server controls for mobile devices in the *System.Web.Mobile.dll* assembly and the *System.Web.UI.MobileControls* namespace.</span></span> <span data-ttu-id="6ffe3-123">어셈블리는 여전히 ASP.NET 4에 포함 되어 있지만 더 이상 사용 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-123">The assembly is still included in ASP.NET 4, but it is deprecated.</span></span> <span data-ttu-id="6ffe3-124">개발자는이 문서에서 설명 하는 것과 같은 최신 방법으로 마이그레이션하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-124">Developers are advised to migrate to more modern approaches, such as those described in this paper.</span></span>

<span data-ttu-id="6ffe3-125">ASP.NET 모바일 컨트롤이 사용 되지 않는 것으로 표시 되는 이유는 해당 디자인이 2005 이전에 일반적인 휴대폰을 중심으로 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-125">The reason why ASP.NET Mobile Controls have been marked as obsolete is that their design is oriented around the mobile phones that were common around 2005 and earlier.</span></span> <span data-ttu-id="6ffe3-126">컨트롤은 주로 해당 연대의 WAP 브라우저에 대해 일반 HTML이 아닌 WML 또는 cHTML 태그를 렌더링 하도록 디자인 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-126">The controls are mainly designed to render WML or cHTML markup (instead of regular HTML) for the WAP browsers of that era.</span></span> <span data-ttu-id="6ffe3-127">그러나 HTML은 이제 모바일 및 데스크톱 브라우저에서 사용할 수 있는 태그 언어가 되기 때문에 WAP, WML 및 cHTML은 더 이상 대부분의 프로젝트와 관련이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-127">But WAP, WML, and cHTML are no longer relevant for most projects, because HTML has now become the ubiquitous markup language for mobile and desktop browsers alike.</span></span>

### <a name="the-challenges-of-supporting-mobile-devices-today"></a><span data-ttu-id="6ffe3-128">지금 모바일 장치를 지 원하는 문제</span><span class="sxs-lookup"><span data-stu-id="6ffe3-128">The challenges of supporting mobile devices today</span></span>

<span data-ttu-id="6ffe3-129">모바일 브라우저는 일반적으로 HTML을 지원 하지만 뛰어난 모바일 검색 환경을 만들기 위해 많은 문제를 해결 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-129">Even though mobile browsers now almost universally support HTML, you will still face many challenges when aiming to create great mobile browsing experiences:</span></span>

- <span data-ttu-id="6ffe3-130">***화면 크기*** -모바일 장치는 폼에서 현저 하 게 다르며 화면에는 데스크톱 모니터 보다 훨씬 더 작은 경우가 많습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-130">***Screen size*** - Mobile devices vary dramatically in form, and their screens are often much smaller than desktop monitors.</span></span> <span data-ttu-id="6ffe3-131">따라서 완전히 다른 페이지 레이아웃을 디자인 해야 할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-131">So, you may need to design completely different page layouts for them.</span></span>
- <span data-ttu-id="6ffe3-132">***입력 방법*** – 일부 장치는 키패드, 일부는 styluses, 다른 일부는 터치를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-132">***Input methods*** – Some devices have keypads, some have styluses, others use touch.</span></span> <span data-ttu-id="6ffe3-133">여러 탐색 메커니즘과 데이터 입력 메서드를 고려해 야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-133">You may need to consider multiple navigation mechanisms and data input methods.</span></span>
- <span data-ttu-id="6ffe3-134">***표준 준수*** – 대부분의 모바일 브라우저는 최신 HTML, CSS 또는 JavaScript 표준을 지원 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-134">***Standards compliance*** – Many mobile browsers do not support the latest HTML, CSS, or JavaScript standards.</span></span>
- <span data-ttu-id="6ffe3-135">***대역폭*** – 셀룰러 데이터 네트워크 성능은 무분별 달라 지 며 일부 최종 사용자는 메가바이트 단위로 요금을 부과 하는 tariffs에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-135">***Bandwidth*** – Cellular data network performance varies wildly, and some end users are on tariffs that charge by the megabyte.</span></span>

<span data-ttu-id="6ffe3-136">단일 크기에 맞는 솔루션이 없습니다. 응용 프로그램은 액세스 하는 장치에 따라 다르게 표시 되 고 작동 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-136">There's no one-size-fits-all solution; your application will have to look and behave differently according to the device accessing it.</span></span> <span data-ttu-id="6ffe3-137">원하는 모바일 지원 수준에 따라 웹 개발자가 데스크톱 "browser 스타워즈"가 있었던 것 보다 더 큰 과제가 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-137">Depending on what level of mobile support you want, this can be a bigger challenge for web developers than the desktop "browser wars" ever was.</span></span>

<span data-ttu-id="6ffe3-138">개발자는 처음에는 일반적으로 대부분의 매우 정교한 스마트폰 (예: Windows Phone 7, iPhone 또는 Android)을 지 원하는 것으로 생각 하 고, 일반적으로는 개발자가 개인적으로 디바이스가.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-138">Developers approaching mobile browser support for the first time often initially think it's only important to support the latest and most sophisticated smartphones (e.g., Windows Phone 7, iPhone, or Android), perhaps because developers often personally own such devices.</span></span> <span data-ttu-id="6ffe3-139">그러나 더 저렴 한 휴대폰은 매우 인기 있는 것 이며, 소유자가 웹을 탐색 하는 데 사용 합니다. 특히 휴대폰을 광대역 연결 보다 더 쉽게 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-139">However, cheaper phones are still extremely popular, and their owners do use them to browse the web – especially in countries where mobile phones are easier to get than a broadband connection.</span></span> <span data-ttu-id="6ffe3-140">비즈니스는 가능한 고객을 고려 하 여 지원할 장치 범위를 결정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-140">Your business will need to decide what range of devices to support by considering its likely customers.</span></span> <span data-ttu-id="6ffe3-141">Luxury health spa에 대 한 온라인 브로슈어를 작성 하는 경우 고급 스마트폰을 대상으로 하는 비즈니스 의사 결정을 내릴 수 있습니다. 반면, 영화에 대 한 티켓 예약 시스템을 만드는 경우에는 더 강력 하지 않은 기능을 갖춘 방문자를 고려해 야 합니다. 폰.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-141">If you're building an online brochure for a luxury health spa, you might make a business decision only to target advanced smartphones, whereas if you're creating a ticket booking system for a cinema, you probably need to account for visitors with less powerful feature phones.</span></span>

## <a name="architectural-options"></a><span data-ttu-id="6ffe3-142">아키텍처 옵션</span><span class="sxs-lookup"><span data-stu-id="6ffe3-142">Architectural options</span></span>

<span data-ttu-id="6ffe3-143">ASP.NET Web Forms 또는 MVC의 특정 기술 세부 정보를 얻기 전에 웹 개발자는 일반적으로 다음과 같은 세 가지 주요 방법으로 모바일 브라우저를 지원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-143">Before we get to the specific technical details of ASP.NET Web Forms or MVC, note that web developers in general have three main possible options for supporting mobile browsers:</span></span>

1. <span data-ttu-id="6ffe3-144">***아무 작업도 수행 하지 않음 –*** 단순히 표준 데스크톱 지향 웹 응용 프로그램을 만들고 모바일 브라우저를 사용 하 여 해당 응용 프로그램을 사용 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-144">***Do nothing –*** You can simply create a standard, desktop-oriented web application, and rely on mobile browsers to render it acceptably.</span></span> 

    - <span data-ttu-id="6ffe3-145">**장점은**구현 및 유지 관리를 위한 가장 저렴 한 옵션입니다. 추가 작업은 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-145">**Advantage**: It's the cheapest option to implement and maintain – no extra work</span></span>
    - <span data-ttu-id="6ffe3-146">**단점**: 최종 사용자에 게 가장 나쁜 환경을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-146">**Disadvantage**: Gives the worst end-user experience:</span></span> 

        - <span data-ttu-id="6ffe3-147">최신 스마트폰은 데스크톱 브라우저 뿐만 아니라 HTML만 렌더링할 수 있지만 사용자는 계속 해 서 확대/축소 하 고 가로 및 세로로 스크롤해야 작은 화면에서 콘텐츠를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-147">The latest smartphones may render your HTML just as well as a desktop browser, but users will still be forced to zoom and scroll horizontally and vertically to consume your content on a small screen.</span></span> <span data-ttu-id="6ffe3-148">이는 최적이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-148">This is far from optimal.</span></span>
        - <span data-ttu-id="6ffe3-149">이전 장치 및 기능 휴대폰은 적절 한 방식으로 태그를 렌더링 하지 못할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-149">Older devices and feature phones may fail to render your markup in a satisfactory way.</span></span>
        - <span data-ttu-id="6ffe3-150">최신 태블릿 장치 에서도 (화면이 노트북 화면과 크게 클 수 있음) 다른 상호 작용 규칙이 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-150">Even on the latest tablet devices (whose screens can be as big as laptop screens), different interaction rules apply.</span></span> <span data-ttu-id="6ffe3-151">터치 기반 입력은 더 큰 단추와 링크를 사용 하 여 가장 잘 작동 하며, 플라이 아웃 메뉴 위에 마우스 커서를 올려 놓을 수 있는 방법은 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-151">Touch-based input works best with larger buttons and links spread further apart, and there's no way to hover a mouse cursor over a fly-out menu.</span></span>
2. <span data-ttu-id="6ffe3-152">***클라이언트에서 문제를 해결***  합니다. CSS 및 [프로그레시브 기능 향상](http://en.wikipedia.org/wiki/Progressive_enhancement) 을 신중 하 게 사용 하면 브라우저에서 실행 중인 모든 항목에 맞게 태그, 스타일 및 스크립트를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-152">***Solve the problem on the client* –** With careful use of CSS and [progressive enhancement](http://en.wikipedia.org/wiki/Progressive_enhancement) you can create markup, styles, and scripts that adapt to whatever browser is running them.</span></span> <span data-ttu-id="6ffe3-153">예를 들어 [CSS 3 미디어 쿼리](http://www.w3.org/TR/2010/CR-css3-mediaqueries-20100727/)를 사용 하면 화면이 선택 된 임계값 보다 좁은 장치에서 단일 열 레이아웃으로 전환 되는 다중 열 레이아웃을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-153">For example, with [CSS 3 media queries](http://www.w3.org/TR/2010/CR-css3-mediaqueries-20100727/), you could create a multi-column layout that turns into a single column layout on devices whose screens are narrower than a chosen threshold.</span></span> 

    - <span data-ttu-id="6ffe3-154">**장점**: 사용 중인 특정 장치에 대해 렌더링을 최적화 하 고, 사용 중인 화면 및 입력 특성에 따라 알 수 없는 이후 장치에 대해서도 렌더링 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-154">**Advantage**: Optimizes rendering for the specific device in use, even for unknown future devices according to whatever screen and input characteristics they have</span></span>
    - <span data-ttu-id="6ffe3-155">**장점**: 모든 장치 유형에 서 서버 쪽 논리를 쉽게 공유할 수 있습니다 (코드 또는 활동의 최소 중복).</span><span class="sxs-lookup"><span data-stu-id="6ffe3-155">**Advantage**: Easily lets you share server-side logic across all device types – minimal duplication of code or effort</span></span>
    - <span data-ttu-id="6ffe3-156">**단점**: 모바일 장치는 데스크톱 장치와는 달리 다른 정보를 표시 하는 데스크톱 페이지와 완전히 다를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-156">**Disadvantage**: Mobile devices are so different from desktop devices that you may really want your mobile pages to be completely different from your desktop pages, showing different information.</span></span> <span data-ttu-id="6ffe3-157">이러한 변형은 특히, 일관 되지 않은 이전 장치에서 CSS 규칙을 해석 하는 방법을 고려 하 여 CSS를 통해 강력 하 게 구현 하기에 비효율적 이거나 불가능 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-157">Such variations can be inefficient or impossible to achieve robustly through CSS alone, especially considering how inconsistently older devices interpret CSS rules.</span></span> <span data-ttu-id="6ffe3-158">이는 CSS 3 특성의 경우 특히 그렇습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-158">This is particularly true of CSS 3 attributes.</span></span>
    - <span data-ttu-id="6ffe3-159">**단점**: 다양 한 장치에 대 한 다양 한 서버 쪽 논리 및 워크플로를 지원 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-159">**Disadvantage**: Provides no support for varying server-side logic and workflows for different devices.</span></span> <span data-ttu-id="6ffe3-160">예를 들어 CSS만 사용 하 여 모바일 사용자를 위한 간단한 쇼핑 카트 체크 아웃 워크플로를 구현할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-160">You can't, for example, implement a simplified shopping cart checkout workflow for mobile users by means of CSS alone.</span></span>
    - <span data-ttu-id="6ffe3-161">**단점**: 비효율적인 대역폭 사용.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-161">**Disadvantage**: Inefficient bandwidth use.</span></span> <span data-ttu-id="6ffe3-162">대상 장치에서 해당 정보의 하위 집합만 사용 하는 경우에도 서버는 가능한 모든 장치에 적용 되는 태그와 스타일을 전송 해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-162">You server may have to transmit the markup and styles that apply to all possible devices, even though the target device will only use a subset of that information.</span></span>
3. <span data-ttu-id="6ffe3-163">***서버에서 문제 해결* -** 서버에서 장치에 액세스 하는 항목을 알고 있는 경우 또는 최소한 해당 장치의 특성 (예: 화면 크기 및 입력 방법) 및 모바일 장치 인지 여부를 알고 있으면 다른 논리를 실행 하 고 다른 HTML 태그를 출력할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-163">***Solve the problem on the server* –** If your server knows what device is accessing it – or at least the characteristics of that device, such as its screen size and input method, and whether it's a mobile device – it can run different logic and output different HTML markup.</span></span> 

    - <span data-ttu-id="6ffe3-164">**장점:** 최대 유연성.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-164">**Advantage:** Maximum flexibility.</span></span> <span data-ttu-id="6ffe3-165">모바일에 대 한 서버 쪽 논리를 변경 하거나 원하는 장치별 레이아웃에 대 한 태그를 최적화 하는 방법에는 제한이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-165">There's no limit to how much you can vary your server-side logic for mobiles or optimize your markup for the desired, device-specific layout.</span></span>
    - <span data-ttu-id="6ffe3-166">**장점:** 효율적인 대역폭 사용.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-166">**Advantage:** Efficient bandwidth use.</span></span> <span data-ttu-id="6ffe3-167">대상 장치에서 사용할 태그 및 스타일 정보를 전송 하기만 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-167">You only need to transmit the markup and styling information that the target device is going to use.</span></span>
    - <span data-ttu-id="6ffe3-168">**단점:** 는 경우에 따라 활동이 나 코드를 반복 해 서 수행 합니다 (예: Web Forms 페이지 또는 MVC 뷰의 유사 하지만 약간 다른 복사본을 만들 수 있음).</span><span class="sxs-lookup"><span data-stu-id="6ffe3-168">**Disadvantage:** Sometimes forces repetition of effort or code (e.g., making you create similar but slightly different copies of your Web Forms pages or MVC views).</span></span> <span data-ttu-id="6ffe3-169">가능 하면 일반적인 논리를 기본 계층 이나 서비스로 제한 하지만, UI 코드 또는 태그의 일부는 중복 된 다음 병렬로 유지 해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-169">Where possible you will factor out common logic into an underlying layer or service, but still, some parts of your UI code or markup may have to be duplicated and then maintained in parallel.</span></span>
    - <span data-ttu-id="6ffe3-170">**단점:** 장치 검색은 간단 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-170">**Disadvantage:** Device detection is not trivial.</span></span> <span data-ttu-id="6ffe3-171">이 파일에는 알려진 장치 유형 및 해당 특징 (항상 완벽 하 게 최신이 아닐 수 있음)의 목록 또는 데이터베이스가 필요 하며 들어오는 모든 요청을 정확 하 게 일치 시 키 지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-171">It requires a list or database of known device types and their characteristics (which may not always be perfectly up-to-date) and isn't guaranteed to accurately match every incoming request.</span></span> <span data-ttu-id="6ffe3-172">이 문서에서는 몇 가지 옵션과 그에 대 한 몇 가지 사항을 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-172">This document describes some options and their pitfalls later.</span></span>

<span data-ttu-id="6ffe3-173">최상의 결과를 얻기 위해 대부분의 개발자는 옵션 (2) 및 (3)을 결합 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-173">To get the best results, most developers find they need to combine options (2) and (3).</span></span> <span data-ttu-id="6ffe3-174">보조 스타일 차이는 CSS 또는 JavaScript를 사용 하 여 클라이언트에서 가장 잘 수용 되지만 데이터, 워크플로 또는 태그의 주요 차이점은 서버 쪽 코드에서 가장 효과적으로 구현 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-174">Minor stylistic differences are best accommodated on the client using CSS or even JavaScript, whereas major differences in data, workflow, or markup are most effectively implemented in server-side code.</span></span>

### <a name="this-paper-focuses-on-server-side-techniques"></a><span data-ttu-id="6ffe3-175">이 문서에서는 서버 쪽 기술에 대해 중점적으로 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-175">This paper focuses on server-side techniques</span></span>

<span data-ttu-id="6ffe3-176">ASP.NET Web Forms 및 MVC는 모두 주로 서버 쪽 기술 이므로이 백서에서는 모바일 브라우저에 대해 다른 태그와 논리를 생성할 수 있는 서버 쪽 기술에 초점을 둡니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-176">Since ASP.NET Web Forms and MVC are both primarily server-side technologies, this white paper will focus on server-side techniques that let you produce different markup and logic for mobile browsers.</span></span> <span data-ttu-id="6ffe3-177">물론,이를 클라이언트 쪽 기술 (예: CSS 3 미디어 쿼리, 프로그레시브 향상 JavaScript)과 결합할 수도 있지만이는 ASP.NET 개발에 비해 웹 디자인의 문제입니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-177">Of course, you can also combine this with any client-side technique (e.g., CSS 3 media queries, progressive-enhancement JavaScript), but that's more a matter of web design than ASP.NET development.</span></span>

## <a name="browser-and-device-detection"></a><span data-ttu-id="6ffe3-178">브라우저 및 장치 검색</span><span class="sxs-lookup"><span data-stu-id="6ffe3-178">Browser and device detection</span></span>

<span data-ttu-id="6ffe3-179">모바일 장치를 지 원하는 모든 서버 쪽 기술의 핵심 필수 구성 요소는 방문자가 사용 하 고 있는 장치를 알고 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-179">The key prerequisite for all server-side techniques for supporting mobile devices is to know what device your visitor is using.</span></span> <span data-ttu-id="6ffe3-180">실제로 해당 장치에 대 한 제조업체 및 모델 번호를 알고 있으면 장치 *특성* 을 알고 있는 것 보다 훨씬 더 효율적입니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-180">In fact, even better than knowing the manufacturer and model number of that device is knowing the *characteristics* of the device.</span></span> <span data-ttu-id="6ffe3-181">특성에는 다음이 포함 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-181">Characteristics may include:</span></span>

- <span data-ttu-id="6ffe3-182">모바일 장치 인가요?</span><span class="sxs-lookup"><span data-stu-id="6ffe3-182">Is it a mobile device?</span></span>
- <span data-ttu-id="6ffe3-183">입력 방법 (마우스/키보드, 터치, 키패드, 조이스틱 ...)</span><span class="sxs-lookup"><span data-stu-id="6ffe3-183">Input method (mouse/keyboard, touch, keypad, joystick, …)</span></span>
- <span data-ttu-id="6ffe3-184">화면 크기 (물리적 및 픽셀 단위)</span><span class="sxs-lookup"><span data-stu-id="6ffe3-184">Screen size (physically and in pixels)</span></span>
- <span data-ttu-id="6ffe3-185">지원 되는 미디어 및 데이터 형식</span><span class="sxs-lookup"><span data-stu-id="6ffe3-185">Supported media and data formats</span></span>
- <span data-ttu-id="6ffe3-186">기타</span><span class="sxs-lookup"><span data-stu-id="6ffe3-186">Etc.</span></span>

<span data-ttu-id="6ffe3-187">모델 번호의 특징에 따라 결정을 내리는 것이 더 효율적 이므로 향후 장치를 처리 하는 것이 더 효율적입니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-187">It's better to make decisions based on characteristics than model number, because then you'll be better equipped to handle future devices.</span></span>

### <a name="using-aspnets-built-in-browser-detection-support"></a><span data-ttu-id="6ffe3-188">ASP 사용. NET의 기본 제공 브라우저 검색 지원</span><span class="sxs-lookup"><span data-stu-id="6ffe3-188">Using ASP.NET's built-in browser detection support</span></span>

<span data-ttu-id="6ffe3-189">ASP.NET Web Forms 및 MVC 개발자는 *요청 .browser* 개체의 속성을 검사 하 여 방문 브라우저의 중요 한 특성을 즉시 검색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-189">ASP.NET Web Forms and MVC developers can immediately discover important characteristics of a visiting browser by inspecting properties of the *Request.Browser* object.</span></span> <span data-ttu-id="6ffe3-190">예를 들어 다음을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-190">For example, see</span></span>

- <span data-ttu-id="6ffe3-191">Request.Browser.IsMobileDevice</span><span class="sxs-lookup"><span data-stu-id="6ffe3-191">Request.Browser.IsMobileDevice</span></span>
- <span data-ttu-id="6ffe3-192">Request.Browser.MobileDeviceManufacturer, Request.Browser.MobileDeviceModel</span><span class="sxs-lookup"><span data-stu-id="6ffe3-192">Request.Browser.MobileDeviceManufacturer, Request.Browser.MobileDeviceModel</span></span>
- <span data-ttu-id="6ffe3-193">Request.Browser.ScreenPixelsWidth</span><span class="sxs-lookup"><span data-stu-id="6ffe3-193">Request.Browser.ScreenPixelsWidth</span></span>
- <span data-ttu-id="6ffe3-194">Request.Browser.SupportsXmlHttp</span><span class="sxs-lookup"><span data-stu-id="6ffe3-194">Request.Browser.SupportsXmlHttp</span></span>
- <span data-ttu-id="6ffe3-195">... 기타 여러 항목</span><span class="sxs-lookup"><span data-stu-id="6ffe3-195">…and many others</span></span>

<span data-ttu-id="6ffe3-196">내부적으로 ASP.NET 플랫폼은 브라우저 정의 XML 파일 집합의 정규식과 들어오는 *사용자 에이전트* (UA) HTTP 헤더를 일치 시킵니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-196">Behind the scenes, the ASP.NET platform matches the incoming *User-Agent* (UA) HTTP header against regular expressions in a set of Browser Definition XML files.</span></span> <span data-ttu-id="6ffe3-197">기본적으로 플랫폼에는 여러 일반적인 모바일 장치에 대 한 정의가 포함 되어 있으며 인식 하려는 다른 사용자에 대 한 사용자 지정 브라우저 정의 파일을 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-197">By default the platform includes definitions for many common mobile devices, and you can add custom Browser Definition files for others you wish to recognize.</span></span> <span data-ttu-id="6ffe3-198">자세한 내용은 MSDN 페이지 [ASP.NET 웹 서버 컨트롤 및 브라우저 기능](https://msdn.microsoft.com/library/x3k2ssx2.aspx)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-198">For more details, see the MSDN page [ASP.NET Web Server Controls and Browser Capabilities](https://msdn.microsoft.com/library/x3k2ssx2.aspx).</span></span>

### <a name="using-the-wurfl-device-database-via-51degreesmobi-foundation"></a><span data-ttu-id="6ffe3-199">51Degrees.mobi Foundation을 통해 WURFL 장치 데이터베이스 사용</span><span class="sxs-lookup"><span data-stu-id="6ffe3-199">Using the WURFL device database via 51Degrees.mobi Foundation</span></span>

<span data-ttu-id="6ffe3-200">ASP. 네트워크의 기본 제공 브라우저 검색 지원은 많은 응용 프로그램에서 충분 합니다. 두 가지 주요 사례는 충분 하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-200">While ASP.NET's built-in browser detection support will be sufficient for many applications, there are two main cases when it might not be enough:</span></span>

- <span data-ttu-id="6ffe3-201">***최신 장치를 인식 하려고***합니다 (브라우저 정의 파일을 수동으로 만들지 않음).</span><span class="sxs-lookup"><span data-stu-id="6ffe3-201">***You want to recognize the latest devices***(without manually creating Browser Definition files for them).</span></span> <span data-ttu-id="6ffe3-202">.NET 4의 브라우저 정의 파일은 Windows Phone 7, Android 휴대폰, Opera 모바일 브라우저 또는 Apple Ipad을 인식 하기에 충분 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-202">Note that .NET 4's Browser Definition files are not recent enough to recognize Windows Phone 7, Android phones, Opera Mobile browsers, or Apple iPads.</span></span>
- <span data-ttu-id="6ffe3-203">***장치 기능에 대 한 자세한 정보가 필요***합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-203">***You need more detailed information about device capabilities***.</span></span> <span data-ttu-id="6ffe3-204">장치의 입력 방법 (예: 터치 vs 키패드) 또는 브라우저에서 지 원하는 오디오 형식에 대해 알아야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-204">You may need to know about a device's input method (e.g., touch vs keypad), or what audio formats the browser supports.</span></span> <span data-ttu-id="6ffe3-205">이 정보는 표준 브라우저 정의 파일에서 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-205">This information isn't available in the standard Browser Definition files.</span></span>

<span data-ttu-id="6ffe3-206">[Wurfl ( *무선 유니버설 리소스 파일* ) 프로젝트](http://wurfl.sourceforge.net/) 는 현재 사용 중인 모바일 장치에 대해 훨씬 더 최신 정보 및 자세한 정보를 유지 관리 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-206">The [*Wireless Universal Resource File* (WURFL) project](http://wurfl.sourceforge.net/) maintains much more up-to-date and detailed information about mobile devices in use today.</span></span>

<span data-ttu-id="6ffe3-207">.NET 개발자를 위한 훌륭한 소식은 ASP입니다. NET의 브라우저 검색 기능은 확장 가능 하므로 이러한 문제를 해결 하기 위해 향상 시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-207">The great news for .NET developers is that ASP.NET's browser detection feature is extensible, so it's possible to enhance it to overcome these problems.</span></span> <span data-ttu-id="6ffe3-208">예를 들어 오픈 소스 [*51Degrees.mobi Foundation*](https://github.com/51Degrees/dotNET-Device-Detection) 라이브러리를 프로젝트에 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-208">For example, you can add the open source [*51Degrees.mobi Foundation*](https://github.com/51Degrees/dotNET-Device-Detection) library to your project.</span></span> <span data-ttu-id="6ffe3-209">ASP.NET IHttpModule 또는 브라우저 기능 공급자 (Web Forms 및 MVC 응용 프로그램 모두에서 사용 가능)는 WURFL 데이터를 직접 읽고 ASP에 후크합니다. NET의 기본 제공 브라우저 검색 메커니즘입니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-209">It's an ASP.NET IHttpModule or Browser Capabilities Provider (usable on both Web Forms and MVC applications), that directly reads WURFL data and hooks it into ASP.NET's built-in browser detection mechanism.</span></span> <span data-ttu-id="6ffe3-210">모듈을 설치한 후에는 요청이 갑자기 더 정확 하 고 자세한 정보를 포함 하 게 됩니다. *브라우저* 는 앞에서 언급 한 많은 장치를 올바르게 인식 하 고 해당 기능 (입력 방법 등의 추가 기능 포함)을 나열 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-210">Once you've installed the module, *Request.Browser* will suddenly contain a lot more accurate and detailed information: it will correctly recognize many of the devices previously mentioned and list their capabilities (including additional capabilities such as input method).</span></span> <span data-ttu-id="6ffe3-211">자세한 내용은 프로젝트 설명서를 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-211">See the project's documentation for more details.</span></span>

## <a name="how-web-forms-applications-can-present-mobile-specific-pages"></a><span data-ttu-id="6ffe3-212">응용 프로그램 Web Forms 모바일 관련 페이지를 제공 하는 방법</span><span class="sxs-lookup"><span data-stu-id="6ffe3-212">How Web Forms applications can present mobile-specific pages</span></span>

<span data-ttu-id="6ffe3-213">기본적으로 일반적인 모바일 장치에 새로운 Web Forms 응용 프로그램을 표시 하는 방법은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-213">By default, here's how a brand new Web Forms application displays on common mobile devices:</span></span>

![](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/_static/image1.png)

<span data-ttu-id="6ffe3-214">물론 레이아웃은 매우 편리 하지 않습니다 .이 페이지는 작은 세로 중심 화면이 아닌 가로 방향의 가로 방향의 모니터를 위해 설계 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-214">Clearly, neither layout looks very mobile-friendly – this page was designed for a large, landscape-oriented monitor, not for a small portrait-oriented screen.</span></span> <span data-ttu-id="6ffe3-215">무엇을 할 수 있나요?</span><span class="sxs-lookup"><span data-stu-id="6ffe3-215">So what can you do about it?</span></span>

<span data-ttu-id="6ffe3-216">이 문서 앞부분에서 설명한 것 처럼 모바일 장치에 맞게 페이지를 조정 하는 여러 가지 방법이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-216">As discussed earlier in this paper, there are many ways to tailor your pages for mobile devices.</span></span> <span data-ttu-id="6ffe3-217">일부 기술은 서버 기반 이며 다른 기술은 클라이언트에서 실행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-217">Some techniques are server-based, others run on the client.</span></span>

### <a name="creating-a-mobile-specific-master-page"></a><span data-ttu-id="6ffe3-218">모바일 관련 마스터 페이지 만들기</span><span class="sxs-lookup"><span data-stu-id="6ffe3-218">Creating a mobile-specific master page</span></span>

<span data-ttu-id="6ffe3-219">사용자의 요구 사항에 따라 모든 방문자에 게 동일한 Web Forms를 사용할 수 있지만 두 개의 마스터 페이지가 있습니다. 하나는 데스크톱 방문자 용 이며 다른 하나는 모바일 방문자를 위한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-219">Depending on your requirements, you may be able to use the same Web Forms for all visitors, but have two separate master pages: one for desktop visitors, another for mobile visitors.</span></span> <span data-ttu-id="6ffe3-220">이를 통해 페이지 논리를 복제 하지 않고도 CSS 스타일 시트 또는 최상위 HTML 태그를 모바일 장치에 맞게 변경할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-220">This gives you the flexibility of changing the CSS stylesheet or your top-level HTML markup to suit mobile devices, without forcing you to duplicate any page logic.</span></span>

<span data-ttu-id="6ffe3-221">이렇게 하는 것이 쉽습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-221">This is easy to do.</span></span> <span data-ttu-id="6ffe3-222">예를 들어 다음과 같은 PreInit 처리기를 웹 폼에 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-222">For example, you can add a PreInit handler such as the following to a Web Form:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample1.cs)]

<span data-ttu-id="6ffe3-223">이제 응용 프로그램의 최상위 폴더에 Mobile. Master 라는 마스터 페이지를 만듭니다 .이 페이지는 모바일 장치를 검색할 때 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-223">Now, create a master page called Mobile.Master in the top-level folder of your application, and it will be used when a mobile device is detected.</span></span> <span data-ttu-id="6ffe3-224">필요한 경우 모바일 마스터 페이지에서 모바일 관련 CSS 스타일 시트를 참조할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-224">Your mobile master page can reference a mobile-specific CSS stylesheet if necessary.</span></span> <span data-ttu-id="6ffe3-225">데스크톱 방문자에 게는 모바일 컴퓨터가 아닌 기본 마스터 페이지가 계속 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-225">Desktop visitors will still see your default master page, not the mobile one.</span></span>

### <a name="creating-independent-mobile-specific-web-forms"></a><span data-ttu-id="6ffe3-226">독립적인 모바일 관련 Web Forms 만들기</span><span class="sxs-lookup"><span data-stu-id="6ffe3-226">Creating independent mobile-specific Web Forms</span></span>

<span data-ttu-id="6ffe3-227">유연성을 최대화 하기 위해 서로 다른 장치 유형에 대해 별도의 마스터 페이지를 추가 하는 것 보다 훨씬 더 많은 일을 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-227">For maximum flexibility, you can go much further than just having separate master pages for different device types.</span></span> <span data-ttu-id="6ffe3-228">두 개의 *완전히 분리 된 Web Forms 페이지* 집합을 구현할 수 있습니다. 하나는 데스크톱 브라우저용으로 설정 하 고 다른 하나는 모바일에 대해 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-228">You can implement two *totally separate sets of Web Forms pages* – one set for desktop browsers, another set for mobiles.</span></span> <span data-ttu-id="6ffe3-229">이는 모바일 방문자에 게 매우 다른 정보나 워크플로를 제공 하려는 경우에 가장 잘 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-229">This works best if you want to present very different information or workflows to mobile visitors.</span></span> <span data-ttu-id="6ffe3-230">이 섹션의 나머지 부분에서는이 방법에 대해 자세히 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-230">The rest of this section describes this approach in detail.</span></span>

<span data-ttu-id="6ffe3-231">데스크톱 브라우저용으로 디자인 된 Web Forms 응용 프로그램이 있다고 가정 하 고, 계속 하는 가장 쉬운 방법은 프로젝트 내에서 "Mobile" 이라는 하위 폴더를 만들고 모바일 페이지를 빌드하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-231">Assuming you already have a Web Forms application designed for desktop browsers, the easiest way to proceed is to create a subfolder called "Mobile" within your project, and build your mobile pages there.</span></span> <span data-ttu-id="6ffe3-232">다른 Web Forms 응용 프로그램에 사용 하는 것과 동일한 기술을 모두 사용 하 여 자체 마스터 페이지, 스타일 시트 및 페이지를 사용 하 여 전체 하위 사이트를 생성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-232">You can construct an entire sub-site, with its own master pages, style sheets, and pages, using all the same techniques that you'd use for any other Web Forms application.</span></span> <span data-ttu-id="6ffe3-233">데스크톱 사이트의 *모든* 페이지에 대 한 모바일 기능을 반드시 만들 필요는 없습니다. 모바일 방문자에 게 적합 한 기능 하위 집합을 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-233">You don't necessarily need to produce a mobile equivalent for *every* page in your desktop site; you can choose what subset of functionality makes sense for mobile visitors.</span></span>

<span data-ttu-id="6ffe3-234">원하는 경우 모바일 페이지에서 일반 정적 리소스 (예: 이미지, JavaScript 또는 CSS 파일)를 일반 페이지와 공유할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-234">Your mobile pages can share common static resources (such as images, JavaScript, or CSS files) with your regular pages if you wish.</span></span> <span data-ttu-id="6ffe3-235">"모바일" 폴더는 IIS에서 호스팅될 때 별도의 응용 프로그램으로 표시 *되지* 않으므로 (Web Forms 페이지의 단순한 하위 폴더), 동일한 구성, 세션 데이터 및 기타 인프라를 데스크톱 페이지로 모두 공유 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-235">Since your "Mobile" folder will *not* be marked as a separate application when hosted in IIS (it's just a simple subfolder of Web Forms pages), it will also share all the same configuration, Session data, and other infrastructure as your desktop pages.</span></span>

> [!NOTE]
> <span data-ttu-id="6ffe3-236">이 접근 방식에는 일반적으로 일부 코드 중복이 포함 됩니다. (모바일 페이지는 데스크톱 페이지와 일부 유사성을 공유할 가능성이 있습니다.) 일반적인 비즈니스 논리 또는 데이터 액세스 코드를 공유 된 기본 계층 또는 서비스에 포함 하는 것이 중요 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-236">Since this approach usually involves some duplication of code (mobile pages are likely to share some similarities with desktop pages), it's important to factor out any common business logic or data access code into a shared underlying layer or service.</span></span> <span data-ttu-id="6ffe3-237">그렇지 않으면 응용 프로그램을 만들고 유지 관리 하는 데 드는 노력을 두는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-237">Otherwise, you'll double the effort of creating and maintaining your application.</span></span>

#### <a name="redirecting-mobile-visitors-to-your-mobile-pages"></a><span data-ttu-id="6ffe3-238">모바일 방문자를 모바일 페이지로 리디렉션</span><span class="sxs-lookup"><span data-stu-id="6ffe3-238">Redirecting mobile visitors to your mobile pages</span></span>

<span data-ttu-id="6ffe3-239">모바일 방문자를 검색 세션의 *첫 번째* 요청 (세션의 모든 요청이 아닌)에 대 한 모바일 페이지로 리디렉션하는 것이 편리한 경우가 종종 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-239">It's often convenient to redirect mobile visitors to the mobile pages only on the *first* request in their browsing session (and not on every request in their session), because:</span></span>

- <span data-ttu-id="6ffe3-240">그러면 모바일 방문자가 원하는 경우 데스크톱 페이지에 쉽게 액세스할 수 있습니다. "데스크톱 버전"으로 이동 하는 링크를 마스터 페이지에 놓기만 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-240">You can then easily allow mobile visitors to access your desktop pages if they wish – just put a link on your master page that goes to "Desktop version".</span></span> <span data-ttu-id="6ffe3-241">방문자는 세션에서 더 이상 첫 번째 요청이 아니기 때문에 모바일 페이지로 다시 리디렉션되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-241">The visitor won't be redirected back to a mobile page, because it's no longer the first request in their session.</span></span>
- <span data-ttu-id="6ffe3-242">이를 통해 사이트의 데스크톱 및 모바일 파트 간에 공유 되는 동적 리소스에 대 한 요청을 방해 하는 위험을 피할 수 있습니다. 예를 들어 사이트의 데스크톱 및 모바일 부분이 IFRAME 또는 특정 Ajax 처리기에 표시 되는 일반적인 웹 양식이 있는 경우를 들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-242">It avoids the risk of interfering with requests for any dynamic resources shared between desktop and mobile parts of your site (e.g., if you have a common Web Form that both desktop and mobile parts of your site display in an IFRAME, or certain Ajax handlers)</span></span>

<span data-ttu-id="6ffe3-243">이렇게 하려면 **세션\_시작** 메서드에 리디렉션 논리를 배치 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-243">To do this, you can place your redirection logic in a **Session\_Start** method.</span></span> <span data-ttu-id="6ffe3-244">예를 들어 Global.asax.cs 파일에 다음 메서드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-244">For example, add the following method to your Global.asax.cs file:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample2.cs)]

#### <a name="configuring-forms-authentication-to-respect-your-mobile-pages"></a><span data-ttu-id="6ffe3-245">모바일 페이지를 준수 하도록 폼 인증 구성</span><span class="sxs-lookup"><span data-stu-id="6ffe3-245">Configuring Forms Authentication to respect your mobile pages</span></span>

<span data-ttu-id="6ffe3-246">폼 인증은 인증 프로세스 중 및 후에 방문자를 리디렉션할 수 있는 위치에 대 한 특정 가정을 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-246">Note that Forms Authentication makes certain assumptions about where it can redirect visitors during and after the authentication process:</span></span>

- <span data-ttu-id="6ffe3-247">사용자를 인증 해야 하는 경우 양식 인증은 데스크톱 로그인 페이지 ( *하나의* 로그인 URL만 사용 하기 때문에 데스크톱 또는 모바일 사용자 인지 여부에 관계 없이)로 리디렉션합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-247">When a user needs to be authenticated, Forms Authentication will redirect them to your desktop login page, regardless of whether they're a desktop or mobile user (because it only has a concept of *one* login URL).</span></span> <span data-ttu-id="6ffe3-248">모바일 로그인 페이지의 스타일을 다르게 지정할 경우 모바일 사용자를 별도의 모바일 로그인 페이지로 리디렉션하는 바탕 화면 로그인 페이지를 개선 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-248">Assuming you want to style your mobile login page differently, you need to enhance your desktop login page so that it redirects mobile users to a separate mobile login page.</span></span> <span data-ttu-id="6ffe3-249">예를 들어 다음 코드를 **데스크톱** 로그인 페이지 코드 숨김으로 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-249">For example, add the following code to your **desktop** login page code-behind:</span></span> 

    [!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample3.cs)]
- <span data-ttu-id="6ffe3-250">사용자가 성공적으로 로그인 한 후에는 폼 인증이 기본적으로 바탕 화면 홈 페이지로 리디렉션됩니다 ( *하나의* 기본 페이지 개념도 있으므로).</span><span class="sxs-lookup"><span data-stu-id="6ffe3-250">After a user successfully logs in, Forms Authentication will by default redirect them to your desktop home page (because it only has a concept of *one* default page).</span></span> <span data-ttu-id="6ffe3-251">로그인에 성공한 후 모바일 홈 페이지로 리디렉션하기 위해 모바일 로그인 페이지를 개선 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-251">You need to enhance your mobile login page so that it redirects to the mobile home page after a successful log-in.</span></span> <span data-ttu-id="6ffe3-252">예를 들어 **모바일** 로그인 페이지 코드 숨김으로 다음 코드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-252">For example, add the following code to your **mobile** login page code-behind:</span></span> 

    [!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample4.cs)]
  
  <span data-ttu-id="6ffe3-253">이 코드는 기본 프로젝트 템플릿과 같이 페이지에 LoginUser 이라는 로그인 서버 컨트롤이 있다고 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-253">This code assumes your page has a Login server control called LoginUser, as in the default project template.</span></span>

### <a name="working-with-output-caching"></a><span data-ttu-id="6ffe3-254">출력 캐싱 사용</span><span class="sxs-lookup"><span data-stu-id="6ffe3-254">Working with Output Caching</span></span>

<span data-ttu-id="6ffe3-255">출력 캐싱을 사용 하는 경우에는 기본적으로 데스크톱 사용자가 특정 URL (출력이 캐시 되도록 하는)을 방문한 다음 캐시 된 데스크톱 출력을 받는 모바일 사용자를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-255">If you're using output caching, beware that by default it's possible for a desktop user to visit a certain URL (causing its output to be cached), followed by a mobile user who then receives the cached desktop output.</span></span> <span data-ttu-id="6ffe3-256">이 경고는 장치 유형별로 마스터 페이지를 변경 하거나 장치 유형별으로 완전히 분리 된 Web Forms를 구현 하는 경우에 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-256">This warning applies whether you're just varying your master page by device type, or implementing totally separate Web Forms per device type.</span></span>

<span data-ttu-id="6ffe3-257">문제를 방지 하려면 방문자가 모바일 장치를 사용 하는지 여부에 따라 캐시 항목을 변경 하도록 ASP.NET에 지시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-257">To avoid the problem, you can instruct ASP.NET to vary the cache entry according to whether the visitor is using a mobile device.</span></span> <span data-ttu-id="6ffe3-258">다음과 같이 VaryByCustom 매개 변수를 페이지의 OutputCache 선언에 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-258">Add a VaryByCustom parameter to your page's OutputCache declaration as follows:</span></span>

[!code-aspx[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample5.aspx)]

<span data-ttu-id="6ffe3-259">다음으로 Global.asax.cs 파일에 다음 메서드 재정의를 추가 하 여 *isMobileDevice* 를 사용자 지정 캐시 매개 변수로 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-259">Next, define *isMobileDevice* as a custom cache parameter by adding the following method override to your Global.asax.cs file:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample6.cs)]

<span data-ttu-id="6ffe3-260">이렇게 하면 페이지의 모바일 방문자가 이전에 데스크톱 방문자가 캐시에 넣은 출력을 받지 않게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-260">This will ensure that mobile visitors to the page don't receive output previously put into the cache by a desktop visitor.</span></span>

### <a name="a-working-example"></a><span data-ttu-id="6ffe3-261">작업 예제</span><span class="sxs-lookup"><span data-stu-id="6ffe3-261">A working example</span></span>

<span data-ttu-id="6ffe3-262">이러한 기술을 작동 하는지 확인 하려면 백서 [코드 샘플](https://docs.microsoft.com/aspnet/mobile/overview)을 다운로드 하세요.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-262">To see these techniques in action, download [this white paper's code samples](https://docs.microsoft.com/aspnet/mobile/overview).</span></span> <span data-ttu-id="6ffe3-263">Web Forms 샘플 응용 프로그램은 mobile 사용자를 mobile 이라는 하위 폴더의 모바일 특정 페이지 집합으로 자동으로 리디렉션합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-263">The Web Forms sample application automatically redirects mobile users to a set of mobile-specific pages in a subfolder called Mobile.</span></span> <span data-ttu-id="6ffe3-264">이러한 페이지의 태그 및 스타일 지정은 다음 스크린샷에서 볼 수 있는 것 처럼 모바일 브라우저에 대해 더 잘 최적화 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-264">The markup and styling of those pages is better optimized for mobile browsers, as you can see from the following screenshots:</span></span>

![](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/_static/image2.png)

<span data-ttu-id="6ffe3-265">모바일 브라우저에서 태그 및 CSS를 최적화 하는 방법에 대 한 자세한 내용은이 문서의 뒷부분에 나오는 "모바일 브라우저의 모바일 페이지 스타일 지정" 섹션을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-265">For more tips about optimizing your markup and CSS for mobile browsers, see the section "Styling mobile pages for mobile browsers" later in this document.</span></span>

## <a name="how-aspnet-mvc-applications-can-present-mobile-specific-pages"></a><span data-ttu-id="6ffe3-266">ASP.NET MVC 응용 프로그램에서 모바일 관련 페이지를 제공 하는 방법</span><span class="sxs-lookup"><span data-stu-id="6ffe3-266">How ASP.NET MVC applications can present mobile-specific pages</span></span>

<span data-ttu-id="6ffe3-267">모델-뷰 컨트롤러 패턴은 보기의 프레젠테이션 논리에서 응용 프로그램 논리 (컨트롤러)를 분리 다음 방법 중 하나를 선택 하 여 서버 쪽 코드의 모바일 지원 기능을 처리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-267">Since the Model-View-Controller pattern decouples application logic (in controllers) from presentation logic (in views), you can choose from any of the following approaches to handling mobile support in server-side code:</span></span>

1. <span data-ttu-id="6ffe3-268">\*\*데스크톱 및 모바일 브라우저에 대해 동일한 컨트롤러와 보기를 사용 *, 장치 유형 *에 따라 다른 Razor 레이아웃을 사용 하 여 보기를 렌더링 합니다.**</span><span class="sxs-lookup"><span data-stu-id="6ffe3-268">\***Use the same controllers and views for both desktop and mobile browsers, but render the views with different Razor layouts depending on the device type\*.**</span></span> <span data-ttu-id="6ffe3-269">이 옵션은 모든 장치에서 동일한 데이터를 표시 하 고 다른 CSS 스타일 시트를 제공 하거나 모바일에 대 한 몇 가지 최상위 HTML 요소를 변경 하는 경우에 가장 적합 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-269">This option works best if you're displaying identical data on all devices, but simply want to supply different CSS stylesheets or change a few top-level HTML elements for mobiles.</span></span>
2. <span data-ttu-id="6ffe3-270">***데스크톱과 모바일 브라우저에 동일한 컨트롤러를 사용 하지만 장치 유형에 따라 서로 다른 보기를 렌더링***합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-270">***Use the same controllers for both desktop and mobile browsers, but render different views depending on the device type***.</span></span> <span data-ttu-id="6ffe3-271">이 옵션은 거의 동일한 데이터를 표시 하 고 최종 사용자에 게 동일한 워크플로를 제공 하지만 사용 중인 장치에 맞게 매우 다른 HTML 태그를 렌더링 하려는 경우에 가장 적합 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-271">This option works best if you're displaying roughly the same data and providing the same workflows for end users, but want to render very different HTML markup to suit the device being used.</span></span>
3. <span data-ttu-id="6ffe3-272">\*\*데스크톱 및 모바일 브라우저를 위한 별도의 영역을 만들어 각 *에 대 한 독립적인 컨트롤러 및 뷰를 구현할 *.**</span><span class="sxs-lookup"><span data-stu-id="6ffe3-272">\***Create separate areas for desktop and mobile browsers, implementing independent controllers and views for each\*.**</span></span> <span data-ttu-id="6ffe3-273">이 옵션은 서로 다른 정보를 포함 하 고 사용자가 장치 유형에 대해 최적화 된 여러 워크플로를 통해 사용자를 안내 하는 매우 다양 한 화면을 표시 하는 경우에 가장 적합 합니다</span><span class="sxs-lookup"><span data-stu-id="6ffe3-273">This option works best if you're displaying very different screens, containing different information and leading the user through different workflows optimized for their device type.</span></span> <span data-ttu-id="6ffe3-274">일부 코드를 반복 하는 것을 의미할 수도 있지만 일반적인 논리를 기본 계층 이나 서비스로 구분 하 여이를 최소화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-274">It may mean some repetition of code, but you can minimize that by factoring out common logic into an underlying layer or service.</span></span>

<span data-ttu-id="6ffe3-275">**첫 번째** 옵션을 사용 하 고 장치 유형별 Razor 레이아웃만 변경 하려는 경우 매우 쉽습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-275">If you want to take the **first** option and vary only the Razor layout per device type, it's very easy.</span></span> <span data-ttu-id="6ffe3-276">다음과 같이 \_ViewStart. cshtml 파일을 수정 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-276">Just modify your \_ViewStart.cshtml file as follows:</span></span>

[!code-cshtml[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample7.cshtml)]

<span data-ttu-id="6ffe3-277">이제 페이지 구조와 모바일 장치에 최적화 된 CSS 규칙을 사용 하 여 \_LayoutMobile. cshtml 이라는 모바일 관련 레이아웃을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-277">Now you can create a mobile-specific layout called \_LayoutMobile.cshtml with a page structure and CSS rules optimized for mobile devices.</span></span>

<span data-ttu-id="6ffe3-278">방문자의 장치 유형에 따라 **두 번째** 옵션인 완전히 다른 보기를 렌더링 하려면 [Scott Hanselman의 블로그 게시물](http://www.hanselman.com/blog/ABetterASPNETMVCMobileDeviceCapabilitiesViewEngine.aspx)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-278">If you want to take the **second** option render totally different views according to the visitor's device type, see [Scott Hanselman's blog post](http://www.hanselman.com/blog/ABetterASPNETMVCMobileDeviceCapabilitiesViewEngine.aspx).</span></span>

<span data-ttu-id="6ffe3-279">이 문서의 나머지 부분에서는 모바일 방문자에 게 제공 되는 기능의 하위 집합을 정확 하 게 제어할 수 있도록 모바일 장치에 대 한 별도의 컨트롤러 *및* 보기를 만드는 **세 번째** 옵션을 중점적으로 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-279">The rest of this paper focuses on the **third** option – creating separate controllers *and* views for mobile devices – so you can control exactly what subset of functionality is offered for mobile visitors.</span></span>

### <a name="setting-up-a-mobile-area-within-your-aspnet-mvc-application"></a><span data-ttu-id="6ffe3-280">ASP.NET MVC 응용 프로그램 내에서 모바일 영역 설정</span><span class="sxs-lookup"><span data-stu-id="6ffe3-280">Setting up a Mobile area within your ASP.NET MVC application</span></span>

<span data-ttu-id="6ffe3-281">일반적인 방법으로 기존 ASP.NET MVC 응용 프로그램에 "Mobile" 이라는 영역을 추가할 수 있습니다. 솔루션 탐색기에서 프로젝트 이름을 마우스 오른쪽 단추로 클릭 한 다음 à 영역 추가를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-281">You can add an area called "Mobile" to an existing ASP.NET MVC application in the normal way: right-click on your project name in Solution Explorer, then choose Add à Area.</span></span> <span data-ttu-id="6ffe3-282">그런 다음 ASP.NET MVC 응용 프로그램 내의 다른 영역에 대 한 컨트롤러 및 뷰를 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-282">You can then add controllers and views as you would for any other area within an ASP.NET MVC application.</span></span> <span data-ttu-id="6ffe3-283">예를 들어 모바일 방문자를 위한 홈페이지 역할을 하는 HomeController 라는 새 컨트롤러를 모바일 영역에 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-283">For example, add to your Mobile area a new controller called HomeController to act as a homepage for mobile visitors.</span></span>

### <a name="ensuring-the-url-mobile-reaches-the-mobile-homepage"></a><span data-ttu-id="6ffe3-284">URL/모바일이 모바일 홈 페이지에 도달 하는지 확인</span><span class="sxs-lookup"><span data-stu-id="6ffe3-284">Ensuring the URL /Mobile reaches the mobile homepage</span></span>

<span data-ttu-id="6ffe3-285">URL/Mobile에서 모바일 영역 내 HomeController의 인덱스 작업에 도달 하 게 하려면 라우팅 구성을 약간 변경 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-285">If you want the URL /Mobile to reach the Index action on HomeController inside your Mobile area, you will need to make two small changes to your routing configuration.</span></span> <span data-ttu-id="6ffe3-286">먼저 MobileAreaRegistration 클래스를 업데이트 하 여 다음 코드와 같이 HomeController가 모바일 영역의 기본 컨트롤러 인지를 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-286">First, update your MobileAreaRegistration class so that HomeController is the default controller in your Mobile area, as shown in the following code:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample8.cs)]

<span data-ttu-id="6ffe3-287">이는 이제 "홈"이 모바일 페이지의 암시적 기본 컨트롤러 이름이 기 때문에 모바일 홈 페이지가/Mobile/Home이 아닌/Smobile에 배치 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-287">This means the mobile homepage will now be located at /Mobile, rather than /Mobile/Home, because "Home" is now the implicitly default controller name for mobile pages.</span></span>

<span data-ttu-id="6ffe3-288">다음으로 응용 프로그램에 두 번째 HomeController를 추가 하 여 (즉, 기존 데스크톱을 비롯 한 모바일 응용 프로그램) 일반 데스크톱 홈페이지를 중단 했습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-288">Next, note that by adding a second HomeController to your application (i.e., the mobile one, in addition to the existing desktop one), you'll have broken your regular desktop homepage.</span></span> <span data-ttu-id="6ffe3-289">"*이름이 ' Home ' 인 컨트롤러와 일치 하는 형식을 여러 개 찾았습니다*. 오류가 발생 하 여 실패 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-289">It will fail with the error "*Multiple types were found that match the controller named 'Home'*".</span></span> <span data-ttu-id="6ffe3-290">이 문제를 해결 하려면 Global.asax.cs에서 최상위 라우팅 구성 ()을 업데이트 하 여 모호성이 있을 때 desktop HomeController에 우선 순위를 적용 하도록 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-290">To resolve this, update your top-level routing configuration (in Global.asax.cs) to specify that your desktop HomeController should take priority when there's ambiguity:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample9.cs)]

<span data-ttu-id="6ffe3-291">이제 오류가 발생 하 고 URL http:\/\/해당 *사이트*/가 데스크톱 홈 페이지에 도달 하 고, http:\/\/*사이트*/mobile/가 모바일 홈 페이지에 연결 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-291">Now the error will go away, and the URL http:\/\/*yoursite*/ will reach the desktop homepage, and http:\/\/*yoursite*/mobile/ will reach the mobile homepage.</span></span>

### <a name="redirecting-mobile-visitors-to-your-mobile-area"></a><span data-ttu-id="6ffe3-292">모바일 방문자를 모바일 영역으로 리디렉션</span><span class="sxs-lookup"><span data-stu-id="6ffe3-292">Redirecting mobile visitors to your mobile area</span></span>

<span data-ttu-id="6ffe3-293">ASP.NET MVC에는 다양 한 확장성 지점이 있으므로 리디렉션 논리를 삽입할 수 있는 여러 가지 방법이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-293">There are many different extensibility points in ASP.NET MVC, so there are many possible ways to inject redirection logic.</span></span> <span data-ttu-id="6ffe3-294">한 가지 간단한 옵션은 다음 조건이 충족 되는 경우 리디렉션을 수행 하는 필터 특성 [RedirectMobileDevicesToMobileArea]을 만드는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-294">One neat option is to create a filter attribute, [RedirectMobileDevicesToMobileArea], that performs a redirection if the following conditions are met:</span></span>

1. <span data-ttu-id="6ffe3-295">사용자 세션의 첫 번째 요청 (예: Session. IsNewSession은 true와 같음)</span><span class="sxs-lookup"><span data-stu-id="6ffe3-295">It's the first request in the user's session (i.e., Session.IsNewSession equals true)</span></span>
2. <span data-ttu-id="6ffe3-296">요청은 모바일 브라우저에서 제공 됩니다. 즉, IsMobileDevice는 true와 같습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-296">The request comes from a mobile browser (i.e., Request.Browser.IsMobileDevice equals true)</span></span>
3. <span data-ttu-id="6ffe3-297">사용자가 모바일 영역에서 리소스를 아직 요청 하지 않습니다 (즉, URL의 *경로* 부분이/mobile로 시작 하지 않음).</span><span class="sxs-lookup"><span data-stu-id="6ffe3-297">The user is not already requesting a resource in the mobile area (i.e., the *path* part of the URL does not begin with /Mobile)</span></span>

<span data-ttu-id="6ffe3-298">이 백서에 포함 된 다운로드 가능한 샘플에는이 논리의 구현이 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-298">The downloadable sample included with this white paper includes an implementation of this logic.</span></span> <span data-ttu-id="6ffe3-299">이는 AuthorizeAttribute에서 파생 된 권한 부여 필터로 구현 됩니다. 즉, 출력 캐싱을 사용 하는 경우에도 제대로 작동할 수 있습니다. 그렇지 않으면 데스크톱 방문자가 특정 URL에 처음으로 액세스 하는 경우 데스크톱 출력이 캐시 된 다음에 제공 됩니다. 이후 모바일 방문자).</span><span class="sxs-lookup"><span data-stu-id="6ffe3-299">It's implemented as an authorization filter, derived from AuthorizeAttribute, which means it can work correctly even if you are using output caching (otherwise, if a desktop visitor first accesses a certain URL, the desktop output might be cached and then served to subsequent mobile visitors).</span></span>

<span data-ttu-id="6ffe3-300">필터 이므로 특정 컨트롤러 및 작업에 적용 하도록 선택할 수 있습니다 (예:).</span><span class="sxs-lookup"><span data-stu-id="6ffe3-300">As it's a filter, you can choose either to apply it to specific controllers and actions, e.g.,</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample10.cs)]

<span data-ttu-id="6ffe3-301">…</span><span class="sxs-lookup"><span data-stu-id="6ffe3-301">…</span></span> <span data-ttu-id="6ffe3-302">또는 Global.asax.cs 파일에서 MVC 3 *전역 필터로* 모든 컨트롤러 및 작업에 적용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-302">or you can apply it to all controllers and actions as an MVC 3 *global filter* in your Global.asax.cs file:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample11.cs)]

<span data-ttu-id="6ffe3-303">다운로드 가능한 샘플은 또한 모바일 영역 내의 특정 위치로 리디렉션되는이 특성의 서브 클래스를 만들 수 있는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-303">The downloadable sample also demonstrates how you can create subclasses of this attribute that redirect to specific locations within your mobile area.</span></span> <span data-ttu-id="6ffe3-304">즉, 예를 들어 다음을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-304">This means, for example, you can:</span></span>

- <span data-ttu-id="6ffe3-305">위에서 설명한 대로 전역 필터를 등록 하 여 모바일 방문자를 기본적으로 모바일 홈 페이지로 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-305">Register a global filter as shown above that sends mobile visitors to the mobile homepage by default.</span></span>
- <span data-ttu-id="6ffe3-306">또한 모바일 방문자가 요청한 제품 페이지의 모바일 버전으로 이동 하는 "제품 보기" 작업에 특수 [RedirectMobileDevicesToMobileProductPage] 필터를 적용 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-306">Also apply a special [RedirectMobileDevicesToMobileProductPage] filter to a "view product" action that takes mobile visitors to the mobile version of whatever product page they had requested.</span></span>
- <span data-ttu-id="6ffe3-307">또한 특정 작업에 필터의 다른 특수 서브 클래스를 적용 하 여 모바일 방문자를 해당 모바일 페이지로 리디렉션합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-307">Also apply other special subclasses of the filter to specific actions, redirecting mobile visitors to the equivalent mobile page</span></span>

### <a name="configuring-forms-authentication-to-respect-your-mobile-pages"></a><span data-ttu-id="6ffe3-308">모바일 페이지를 준수 하도록 폼 인증 구성</span><span class="sxs-lookup"><span data-stu-id="6ffe3-308">Configuring Forms Authentication to respect your mobile pages</span></span>

<span data-ttu-id="6ffe3-309">폼 인증을 사용 하는 경우 사용자가 로그인 해야 하는 경우 사용자가 단일 특정 "로그온" URL로 자동으로 리디렉션됩니다 .이 URL은 기본적으로 **/Account/logon**로 설정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-309">If you're using Forms Authentication, you should note that when a user needs to log in, it automatically redirects the user to a single specific "log on" URL, which by default is **/Account/LogOn**.</span></span> <span data-ttu-id="6ffe3-310">즉, 모바일 사용자는 데스크톱 "로그온" 작업으로 리디렉션될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-310">This means that mobile users may be redirected to your desktop "log on" action.</span></span>

<span data-ttu-id="6ffe3-311">이 문제를 방지 하려면 모바일 사용자를 모바일 "로그온" 작업으로 다시 리디렉션할 수 있도록 데스크톱 "로그온" 작업에 논리를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-311">To avoid this problem, add logic to your desktop "log on" action so that it redirects mobile users again to a mobile "log on" action.</span></span> <span data-ttu-id="6ffe3-312">기본 ASP.NET MVC 응용 프로그램 템플릿을 사용 하는 경우 다음과 같이 AccountController의 LogOn 작업을 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-312">If you're using the default ASP.NET MVC application template, update AccountController's LogOn action as follows:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample12.cs)]

<span data-ttu-id="6ffe3-313">…</span><span class="sxs-lookup"><span data-stu-id="6ffe3-313">…</span></span> <span data-ttu-id="6ffe3-314">그런 다음 모바일 영역에서 AccountController 라는 컨트롤러에 대해 적절 한 모바일 관련 "로그온" 작업을 구현 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-314">and then implement a suitable mobile-specific "log on" action on a controller called AccountController in your Mobile area.</span></span>

### <a name="working-with-output-caching"></a><span data-ttu-id="6ffe3-315">출력 캐싱 사용</span><span class="sxs-lookup"><span data-stu-id="6ffe3-315">Working with Output Caching</span></span>

<span data-ttu-id="6ffe3-316">[OutputCache] 필터를 사용 하는 경우 장치 유형에 따라 캐시 항목을 다르게 적용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-316">If you're using the [OutputCache] filter, you must force the cache entry to vary by device type.</span></span> <span data-ttu-id="6ffe3-317">예를 들어 다음을 작성 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-317">For example, write:</span></span>

[!code-javascript[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample13.js)]

<span data-ttu-id="6ffe3-318">그런 다음 Global.asax.cs 파일에 다음 메서드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-318">Then, add the following method to your Global.asax.cs file:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample14.cs)]

<span data-ttu-id="6ffe3-319">이렇게 하면 페이지의 모바일 방문자가 이전에 데스크톱 방문자가 캐시에 넣은 출력을 받지 않게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-319">This will ensure that mobile visitors to the page don't receive output previously put into the cache by a desktop visitor.</span></span>

### <a name="a-working-example"></a><span data-ttu-id="6ffe3-320">작업 예제</span><span class="sxs-lookup"><span data-stu-id="6ffe3-320">A working example</span></span>

<span data-ttu-id="6ffe3-321">이러한 기술을 작동 하는 것을 보려면 [이 백서의 코드 관련 샘플](https://docs.microsoft.com/aspnet/mobile/overview)을 다운로드 하세요.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-321">To see these techniques in action, download [this white paper's code associated samples](https://docs.microsoft.com/aspnet/mobile/overview).</span></span> <span data-ttu-id="6ffe3-322">이 샘플에는 위에 설명 된 방법을 사용 하 여 모바일 장치를 지원 하도록 향상 된 ASP.NET MVC 3 (릴리스 후보) 응용 프로그램이 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-322">The sample includes an ASP.NET MVC 3 (Release Candidate) application enhanced to support mobile devices using the methods described above.</span></span>

## <a name="further-guidance-and-suggestions"></a><span data-ttu-id="6ffe3-323">추가 지침 및 제안 사항</span><span class="sxs-lookup"><span data-stu-id="6ffe3-323">Further guidance and suggestions</span></span>

<span data-ttu-id="6ffe3-324">다음 논의는이 문서에서 설명 하는 기술을 사용 하는 Web Forms 및 MVC 개발자 모두에 게 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-324">The following discussion applies both to Web Forms and MVC developers who are using the techniques covered in this document.</span></span>

### <a name="enhancing-your-redirection-logic-using-51degreesmobi-foundation"></a><span data-ttu-id="6ffe3-325">51Degrees.mobi Foundation을 사용 하 여 리디렉션 논리 향상</span><span class="sxs-lookup"><span data-stu-id="6ffe3-325">Enhancing your redirection logic using 51Degrees.mobi Foundation</span></span>

<span data-ttu-id="6ffe3-326">이 문서에 표시 된 리디렉션 논리는 응용 프로그램에 대해 완벽 하 게 충분할 수 있지만 세션을 사용 하지 않도록 설정 해야 하는 경우 또는 쿠키를 거부 하는 모바일 브라우저 (세션을 포함할 수 없음)에서 지정 된 요청이 있는지 여부를 알 수 없기 때문에 작동 하지 않습니다. 해당 방문자의 첫 번째 항목입니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-326">The redirection logic shown in this document may be perfectly sufficient for your application, but it won't work if you need to disable sessions, or with mobile browsers that reject cookies (these can't have sessions), because it won't know whether a given request is the first one from that visitor.</span></span>

<span data-ttu-id="6ffe3-327">오픈 소스 51Degrees.mobi Foundation이 ASP의 정확도를 향상 시키는 방법을 이미 배웠습니다. NET의 브라우저 검색</span><span class="sxs-lookup"><span data-stu-id="6ffe3-327">You already learned how the open source 51Degrees.mobi Foundation can improve the accuracy of ASP.NET's browser detection.</span></span> <span data-ttu-id="6ffe3-328">또한 모바일 방문자를 Web.config에 구성 된 특정 위치로 리디렉션하는 기능을 기본적으로 제공 합니다. 방문자의 HTTP 헤더 및 IP 주소 해시에 대 한 임시 로그를 저장 하 여 ASP.NET 세션 (및 쿠키)에 의존 하지 않고 작업을 수행할 수 있으므로 각 요청이 지정 된 vistor의 첫 번째 요청 인지 여부를 알 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-328">It also has a built-in ability to redirect mobile visitors to specific locations configured in Web.config. It's able to work without depending on ASP.NET Sessions (and hence cookies) by storing a temporary log of hashes of visitors' HTTP headers and IP addresses, so it knows whether or not each request is the first one from a given vistor.</span></span>

<span data-ttu-id="6ffe3-329">Web.config 파일의 fiftyOne 섹션에 추가 되는 다음 요소는 검색 된 모바일 장치에서 첫 번째 요청을 페이지로 리디렉션합니다. ~/Mobile/Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-329">The following element added to the fiftyOne section of the web.config file will redirect the first request from a detected mobile device to the page ~/Mobile/Default.aspx.</span></span> <span data-ttu-id="6ffe3-330">모바일 폴더의 페이지에 대 한 모든 요청은 장치 유형에 관계 없이 리디렉션되지 *않습니다* .</span><span class="sxs-lookup"><span data-stu-id="6ffe3-330">Any requests to pages under the Mobile folder will *not* be redirected, regardless of device type.</span></span> <span data-ttu-id="6ffe3-331">모바일 장치가 20 분 이상 동안 비활성 상태 이면 장치는 기억나지 않으며 이후 요청은 리디렉션의 용도에 따라 새 서비스로 처리 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-331">If the mobile device has been inactive for a period of 20 minutes or more the device will be forgotten and subsequent requests will be treated as new ones for the purposes of redirection.</span></span>

[!code-xml[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample15.xml)]

<span data-ttu-id="6ffe3-332">자세한 내용은 [51Degrees.mobi Foundation 설명서](https://github.com/51Degrees/dotNET-Device-Detection)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-332">For more details, see [51degrees.mobi Foundation documentation](https://github.com/51Degrees/dotNET-Device-Detection).</span></span>

> [!NOTE]
> <span data-ttu-id="6ffe3-333">ASP.NET MVC 응용 프로그램에서 51Degrees.mobi Foundation의 리디렉션 기능을 사용할 *수* 있지만 라우팅 매개 변수를 사용 하거나 MVC 필터를 동작에 배치 하는 것이 아니라 일반 url을 기준으로 리디렉션 구성을 정의 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-333">You *can* use 51Degrees.mobi Foundation's redirection feature on ASP.NET MVC applications, but you will need to define your redirection configuration in terms of plain URLs, not in terms of routing parameters or by putting MVC filters on actions.</span></span> <span data-ttu-id="6ffe3-334">이는 작성 시점에 51Degrees.mobi Foundation이 필터나 라우팅을 인식 하지 못하기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-334">This is because (at the time of writing) 51Degrees.mobi Foundation does not recognize filters or routing.</span></span>

### <a name="disabling-transcoders-and-proxy-servers"></a><span data-ttu-id="6ffe3-335">트랜스코더 및 프록시 서버 사용 안 함</span><span class="sxs-lookup"><span data-stu-id="6ffe3-335">Disabling Transcoders and Proxy Servers</span></span>

<span data-ttu-id="6ffe3-336">모바일 네트워크 운영자는 모바일 인터넷에 대 한 접근 방식에 두 가지 광범위 한 목표가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-336">Mobile network operators have two broad objectives in their approach to the mobile internet:</span></span>

1. <span data-ttu-id="6ffe3-337">가능한 한 많은 관련 콘텐츠 제공</span><span class="sxs-lookup"><span data-stu-id="6ffe3-337">Provide as much relevant content as possible</span></span>
2. <span data-ttu-id="6ffe3-338">제한 된 무선 네트워크 대역폭을 공유할 수 있는 고객 수를 최대화 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-338">Maximize the number of customers who can share the limited radio network bandwidth</span></span>

<span data-ttu-id="6ffe3-339">대부분의 웹 페이지는 대규모의 데스크톱 크기 화면과 빠른 고정 회선 광대역 연결을 위해 설계 되었으므로 많은 연산자는 웹 콘텐츠를 동적으로 변경 하는 *트랜스코더* 또는 *프록시 서버* 를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-339">Since most web pages were designed for large desktop-sized screens and fast fixed-line broadband connections, many operators use *transcoders* or *proxy servers* that dynamically alter web content.</span></span> <span data-ttu-id="6ffe3-340">더 작은 화면에 맞게 HTML 태그 또는 CSS를 수정할 수 있습니다 (특히 복잡 한 레이아웃을 처리할 수 있는 처리 능력이 없는 "기능 폰"의 경우). 또한 페이지 배달 속도를 향상 시키기 위해 이미지를 다시 압축 하거나 품질을 대폭 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-340">They may modify your HTML markup or CSS to suit smaller screens (especially for "feature phones" that lack the processing power to handle complex layouts), and they may recompress your images (significantly reducing their quality) to improve page delivery speeds.</span></span>

<span data-ttu-id="6ffe3-341">그러나 모바일에 최적화 된 버전의 사이트를 생성 하는 데 필요한 작업을 수행한 경우에는 네트워크 운영자가 더 이상 충돌 하지 않도록 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-341">But if you've taken the effort to produce a mobile-optimized version of your site, you probably don't want the network operator to interfere with it any further.</span></span> <span data-ttu-id="6ffe3-342">ASP.NET 웹 폼의 Load 이벤트\_페이지에 다음 줄을 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-342">You can add the following line to the Page\_Load event in any ASP.NET Web Form:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample16.cs)]

<span data-ttu-id="6ffe3-343">또는 ASP.NET MVC 컨트롤러의 경우 다음 메서드 재정의를 추가 하 여 해당 컨트롤러의 모든 작업에 적용 되도록 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-343">Or, for an ASP.NET MVC controller, you could add the following method override so that it applies to all actions on that controller:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample17.cs)]

<span data-ttu-id="6ffe3-344">결과 HTTP 메시지는 W3C 규격 트랜스코더 및 프록시에 콘텐츠를 변경 하지 않도록 알립니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-344">The resulting HTTP message informs W3C compliant transcoders and proxies not to alter content.</span></span> <span data-ttu-id="6ffe3-345">물론, 모바일 네트워크 운영자가이 메시지를 존중 한다는 보장이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-345">Of course, there is no guarantee that mobile network operators will respect this message.</span></span>

### <a name="styling-mobile-pages-for-mobile-browsers"></a><span data-ttu-id="6ffe3-346">모바일 브라우저의 모바일 페이지 스타일 지정</span><span class="sxs-lookup"><span data-stu-id="6ffe3-346">Styling mobile pages for mobile browsers</span></span>

<span data-ttu-id="6ffe3-347">제대로 작동 하는 HTML 마크업의 종류 또는 특정 장치에서 유용성을 최대화 하는 웹 디자인 기술은이 문서의 범위를 벗어났습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-347">It's beyond the scope of this document to describe in great detail what kinds of HTML markup work correctly or which web design techniques maximize usability on particular devices.</span></span> <span data-ttu-id="6ffe3-348">불안정 한 HTML 또는 CSS 위치 지정 트릭을 사용 하지 않고 모바일 크기의 화면에 최적화 된 충분히 간단한 레이아웃을 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-348">It's up to you to find a sufficiently simple layout, optimized for a mobile-sized screen, without using unreliable HTML or CSS positioning tricks.</span></span> <span data-ttu-id="6ffe3-349">그러나 기억해 야 할 중요 한 기술 중 하나는 *뷰포트 메타 태그*입니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-349">One important technique worth mentioning, however, is the *viewport meta tag*.</span></span>

<span data-ttu-id="6ffe3-350">데스크톱 모니터를 위한 웹 페이지를 작성 하는 데 필요한 특정 최신 모바일 브라우저는 "뷰포트" 라고도 하는 가상 캔버스에서 페이지를 렌더링 합니다 (예: 가상 viewport는 iPhone에서 980 픽셀 너비이 고, 기본적으로 Opera Mobile에서는 850 픽셀 너비). 화면의 실제 픽셀에 맞게 결과를 축소 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-350">Certain modern mobile browsers, in an effort display web pages meant for desktop monitors, render the page on a virtual canvas, also called "viewport" (e.g., the virtual viewport is 980 pixels wide on iPhone, and 850 pixels wide on Opera Mobile by default) and then scale the result down to fit onto the screen's physical pixels.</span></span> <span data-ttu-id="6ffe3-351">그러면 사용자가 해당 뷰포트를 확대 하 고 이동할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-351">The user can then zoom in and pan around that viewport.</span></span> <span data-ttu-id="6ffe3-352">이렇게 하면 브라우저에서 원하는 레이아웃으로 페이지를 표시할 수 있다는 이점이 있지만 확대/축소 및 이동에 대 한 단점은 사용자에 게 불편 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-352">This has the advantage that it lets the browser display the page in its intended layout, but it's also has the disadvantage that it forces zooming and panning, which is inconvenient for the user.</span></span> <span data-ttu-id="6ffe3-353">모바일을 위해 디자인 하는 경우 확대/축소 또는 가로 스크롤이 필요 하지 않도록 좁은 화면을 디자인 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-353">If you're designing for mobile, it's better to design for a narrow screen so that no zooming or horizontal scrolling is necessary.</span></span>

<span data-ttu-id="6ffe3-354">모바일 브라우저에 지정 하는 방법은 표준이 아닌 *뷰포트* 메타 태그를 통해 뷰포트의 너비를 지정 하는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-354">A way to tell the mobile browser how wide the viewport should be is through the nonstandard *viewport* meta tag.</span></span> <span data-ttu-id="6ffe3-355">예를 들어 페이지의 헤드 섹션에 다음을 추가 하는 경우</span><span class="sxs-lookup"><span data-stu-id="6ffe3-355">For example, if you add the following to your page's HEAD section,</span></span>

[!code-html[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample18.html)]

<span data-ttu-id="6ffe3-356">…</span><span class="sxs-lookup"><span data-stu-id="6ffe3-356">…</span></span> <span data-ttu-id="6ffe3-357">그러면 smartphone 브라우저를 지 원하는 경우 480 픽셀 너비의 가상 캔버스에서 페이지가 레이아웃 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-357">then supporting smartphone browsers will lay out the page on a 480-pixel wide virtual canvas.</span></span> <span data-ttu-id="6ffe3-358">즉, HTML 요소가 너비를 백분율로 정의 하는 경우이 백분율은 기본 뷰포트 너비가 아니라이 480 픽셀 너비와 관련 하 여 해석 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-358">This means that if your HTML elements define their widths in percentage terms, the percentages will be interpreted with respect to this 480-pixel width, not the default viewport width.</span></span> <span data-ttu-id="6ffe3-359">따라서 사용자는 가로 방향으로 확대/축소 하 고 이동 하 여 모바일 검색 환경을 크게 향상 시킬 가능성이 적습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-359">As a result, the user is less likely to have to zoom and pan horizontally – considerably improving the mobile browsing experience.</span></span>

<span data-ttu-id="6ffe3-360">뷰포트 너비를 장치의 실제 픽셀과 일치 시키려면 다음을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-360">If you want the viewport width to match the device's physical pixels, you can specify the following:</span></span>

[!code-html[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample19.html)]

<span data-ttu-id="6ffe3-361">이 작업이 제대로 작동 하려면 요소를 명시적으로 사용 하 여 해당 너비를 초과 하지 않도록 해야 합니다 (예: *width* 특성 또는 CSS 속성 사용). 그렇지 않은 경우에도 브라우저에서 더 큰 뷰포트를 사용 하도록 강제 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-361">For this to work correctly, you must not explicitly force elements to exceed that width (e.g., using a *width* attribute or CSS property), otherwise the browser will be forced to use a larger viewport regardless.</span></span> <span data-ttu-id="6ffe3-362">참고 항목: [비표준 뷰포트 태그에 대 한 자세한 내용](https://developer.apple.com/library/safari/#documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html)</span><span class="sxs-lookup"><span data-stu-id="6ffe3-362">See also: [more details about the nonstandard viewport tag](https://developer.apple.com/library/safari/#documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html).</span></span>

<span data-ttu-id="6ffe3-363">대부분의 최신 스마트폰은 *이중 방향을*지원 합니다. 즉, 가로 또는 세로 모드로 유지할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-363">Most modern smartphones support *dual orientation*: they can be held in either portrait or landscape mode.</span></span> <span data-ttu-id="6ffe3-364">그러므로 화면 너비를 픽셀 단위로 가정 하지 않는 것이 중요 합니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-364">So, it's important not to make assumptions about the screen width in pixels.</span></span> <span data-ttu-id="6ffe3-365">사용자가 페이지에 있는 동안 장치를 다시 설정할 수 있으므로 화면 너비가 고정 되어 있다고 가정해 서는 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-365">Don't even assume that the screen width is fixed, because the user can re-orient their device while they are on your page.</span></span>

<span data-ttu-id="6ffe3-366">이전 Windows Mobile 및 Blackberry 장치는 콘텐츠를 모바일에 최적화 하 여 변환 하지 않아야 함을 알리기 위해 페이지 헤더에서 다음 메타 태그를 수락할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-366">Older Windows Mobile and Blackberry devices may also accept the following meta tags in the page header to inform them content has been optimized for mobile and therefore should not be transformed.</span></span>

[!code-html[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample20.html)]

## <a name="additional-resources"></a><span data-ttu-id="6ffe3-367">추가 리소스</span><span class="sxs-lookup"><span data-stu-id="6ffe3-367">Additional Resources</span></span>

<span data-ttu-id="6ffe3-368">모바일 ASP.NET 웹 응용 프로그램을 테스트 하는 데 사용할 수 있는 모바일 장치 에뮬레이터 및 시뮬레이터 목록은 [테스트를 위해 인기 있는 모바일 장치 시뮬레이션](../mobile/device-simulators.md)페이지를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="6ffe3-368">For a list of mobile device emulators and simulators you can use to test your mobile ASP.NET web application, see the page [Simulate popular mobile devices for testing](../mobile/device-simulators.md).</span></span>

## <a name="credits"></a><span data-ttu-id="6ffe3-369">크레딧</span><span class="sxs-lookup"><span data-stu-id="6ffe3-369">Credits</span></span>

- <span data-ttu-id="6ffe3-370">기본 작성자: 고 Sanderson</span><span class="sxs-lookup"><span data-stu-id="6ffe3-370">Primary author: Steven Sanderson</span></span>
- <span data-ttu-id="6ffe3-371">검토자/추가 콘텐츠 작성자: James Rosewell, Mikael Söderström, Scott Hanselman, Scott 헌터</span><span class="sxs-lookup"><span data-stu-id="6ffe3-371">Reviewers / additional content writers: James Rosewell, Mikael Söderström, Scott Hanselman, Scott Hunter</span></span>
