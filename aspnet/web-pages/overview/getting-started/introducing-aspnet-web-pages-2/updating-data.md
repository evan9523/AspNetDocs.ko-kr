---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/updating-data
title: 데이터베이스 데이터 업데이트 ASP.NET 웹 페이지 소개 | Microsoft Docs
author: Rick-Anderson
description: 이 자습서에서는 Razor (ASP.NET 웹 페이지)를 사용할 때 기존 데이터베이스 항목을 업데이트 (변경) 하는 방법을 보여 줍니다. 여기서는 시리즈를 완료 했다고 가정 합니다.
ms.author: riande
ms.date: 01/02/2018
ms.assetid: ac86ec9c-6b69-485b-b9e0-8b9127b13e6b
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/updating-data
msc.type: authoredcontent
ms.openlocfilehash: 8f8bcfb7d9d2416a2699776cadbdaae8e12415ba
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78463493"
---
# <a name="introducing-aspnet-web-pages---updating-database-data"></a><span data-ttu-id="5ef1c-104">데이터베이스 데이터 업데이트 ASP.NET 웹 페이지 소개</span><span class="sxs-lookup"><span data-stu-id="5ef1c-104">Introducing ASP.NET Web Pages - Updating Database Data</span></span>

<span data-ttu-id="5ef1c-105">만든 사람 [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="5ef1c-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="5ef1c-106">이 자습서에서는 Razor (ASP.NET 웹 페이지)를 사용할 때 기존 데이터베이스 항목을 업데이트 (변경) 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-106">This tutorial shows you how to update (change) an existing database entry when you use ASP.NET Web Pages (Razor).</span></span> <span data-ttu-id="5ef1c-107">[ASP.NET 웹 페이지를 사용 하는 양식을 사용 하 여 데이터를 입력](entering-data.md)하는 과정을 통해 계열을 완료 했다고 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-107">It assumes you have completed the series through [Entering Data by Using Forms Using ASP.NET Web Pages](entering-data.md).</span></span>
> 
> <span data-ttu-id="5ef1c-108">학습할 내용:</span><span class="sxs-lookup"><span data-stu-id="5ef1c-108">What you'll learn:</span></span>
> 
> - <span data-ttu-id="5ef1c-109">`WebGrid` 도우미에서 개별 레코드를 선택 하는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-109">How to select an individual record in the `WebGrid` helper.</span></span>
> - <span data-ttu-id="5ef1c-110">데이터베이스에서 단일 레코드를 읽는 방법</span><span class="sxs-lookup"><span data-stu-id="5ef1c-110">How to read a single record from a database.</span></span>
> - <span data-ttu-id="5ef1c-111">데이터베이스 레코드의 값을 사용 하 여 폼을 미리 로드 하는 방법</span><span class="sxs-lookup"><span data-stu-id="5ef1c-111">How to preload a form with values from the database record.</span></span>
> - <span data-ttu-id="5ef1c-112">데이터베이스에서 기존 레코드를 업데이트 하는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-112">How to update an existing record in a database.</span></span>
> - <span data-ttu-id="5ef1c-113">정보를 표시 하지 않고 페이지에 저장 하는 방법</span><span class="sxs-lookup"><span data-stu-id="5ef1c-113">How to store information in the page without displaying it.</span></span>
> - <span data-ttu-id="5ef1c-114">숨겨진 필드를 사용 하 여 정보를 저장 하는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-114">How to use a hidden field to store information.</span></span>
>   
> 
> <span data-ttu-id="5ef1c-115">설명 하는 기능/기술:</span><span class="sxs-lookup"><span data-stu-id="5ef1c-115">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="5ef1c-116">`WebGrid` 도우미입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-116">The `WebGrid` helper.</span></span>
> - <span data-ttu-id="5ef1c-117">SQL `Update` 명령입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-117">The SQL `Update` command.</span></span>
> - <span data-ttu-id="5ef1c-118">`Database.Execute` 메서드</span><span class="sxs-lookup"><span data-stu-id="5ef1c-118">The `Database.Execute` method.</span></span>
> - <span data-ttu-id="5ef1c-119">숨겨진 필드 (`<input type="hidden">`)</span><span class="sxs-lookup"><span data-stu-id="5ef1c-119">Hidden fields (`<input type="hidden">`).</span></span>

## <a name="what-youll-build"></a><span data-ttu-id="5ef1c-120">만들 내용</span><span class="sxs-lookup"><span data-stu-id="5ef1c-120">What You'll Build</span></span>

<span data-ttu-id="5ef1c-121">이전 자습서에서는 데이터베이스에 레코드를 추가 하는 방법을 알아보았습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-121">In the previous tutorial, you learned how to add a record to a database.</span></span> <span data-ttu-id="5ef1c-122">여기에서는 편집을 위해 레코드를 표시 하는 방법을 배웁니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-122">Here, you'll learn how to display a record for editing.</span></span> <span data-ttu-id="5ef1c-123">*동영상* 페이지에서 각 동영상 옆에 **편집** 링크가 표시 되도록 `WebGrid` 도우미를 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-123">In the *Movies* page, you'll update the `WebGrid` helper so that it displays an **Edit** link next to each movie:</span></span>

![각 영화에 대 한 ' 편집 ' 링크를 포함 하 여 WebGrid 표시](updating-data/_static/image1.png)

<span data-ttu-id="5ef1c-125">**편집** 링크를 클릭 하면 동영상 정보가 이미 양식에 있는 다른 페이지로 이동 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-125">When you click the **Edit** link, it takes you to a different page, where the movie information is already in a form:</span></span>

![편집할 동영상이 표시 되는 영화 편집 페이지](updating-data/_static/image2.png)

<span data-ttu-id="5ef1c-127">모든 값을 변경할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-127">You can change any of the values.</span></span> <span data-ttu-id="5ef1c-128">변경 내용을 제출할 때 페이지의 코드는 데이터베이스를 업데이트 하 고 동영상 목록으로 돌아갑니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-128">When you submit the changes, the code in the page updates the database and takes you back to the movie listing.</span></span>

<span data-ttu-id="5ef1c-129">이 프로세스의 부분은 이전 자습서에서 만든 *Addmovie* 페이지와 거의 동일 하 게 작동 하므로이 자습서의 많은 부분이 익숙할 것입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-129">This part of the process works almost exactly like the *AddMovie.cshtml* page you created in the previous tutorial, so much of this tutorial will be familiar.</span></span>

<span data-ttu-id="5ef1c-130">여러 가지 방법으로 개별 동영상을 편집 하는 방법을 구현할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-130">There are several ways you could implement a way to edit an individual movie.</span></span> <span data-ttu-id="5ef1c-131">표시 되는 방법은 구현 하기 쉬우며 이해 하기 쉽기 때문에 선택 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-131">The approach shown was chosen because it's easy to implement and easy to understand.</span></span>

## <a name="adding-an-edit-link-to-the-movie-listing"></a><span data-ttu-id="5ef1c-132">동영상 목록에 편집 링크 추가</span><span class="sxs-lookup"><span data-stu-id="5ef1c-132">Adding an Edit Link to the Movie Listing</span></span>

<span data-ttu-id="5ef1c-133">시작 하려면 동영상 페이지를 업데이트 하 여 각 동영상 목록에도 **편집** 링크가 포함 *되도록 합니다.*</span><span class="sxs-lookup"><span data-stu-id="5ef1c-133">To begin, you'll update the *Movies* page so that each movie listing also contains an **Edit** link.</span></span>

<span data-ttu-id="5ef1c-134">*영화 cshtml* 파일을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-134">Open the *Movies.cshtml* file.</span></span>

<span data-ttu-id="5ef1c-135">페이지 본문에서 열을 추가 하 여 `WebGrid` 태그를 변경 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-135">In the body of the page, change the `WebGrid` markup by adding a column.</span></span> <span data-ttu-id="5ef1c-136">수정 된 태그는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-136">Here's the modified markup:</span></span>

[!code-html[Main](updating-data/samples/sample1.html?highlight=6)]

<span data-ttu-id="5ef1c-137">새 열은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-137">The new column is this one:</span></span>

[!code-html[Main](updating-data/samples/sample2.html)]

<span data-ttu-id="5ef1c-138">이 열은 텍스트가 "Edit" 라고 표시 된 링크 (`<a>` 요소)를 표시 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-138">The point of this column is to show a link (`<a>` element) whose text says "Edit".</span></span> <span data-ttu-id="5ef1c-139">그 후의 작업은 페이지가 실행 될 때 다음과 같은 링크를 만드는 것 이며, 각 동영상 마다 `id` 값이 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-139">What we're after is to create a link that looks like the following when the page runs, with the `id` value different for each movie:</span></span>

[!code-css[Main](updating-data/samples/sample3.css)]

<span data-ttu-id="5ef1c-140">이 링크는 *Editmovie*라는 페이지를 호출 하 고 해당 페이지에 쿼리 문자열 `?id=7`를 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-140">This link will invoke a page named *EditMovie*, and it will pass the query string `?id=7` to that page.</span></span>

<span data-ttu-id="5ef1c-141">새 열에 대 한 구문은 약간 복잡할 수 있지만이는 여러 요소를 함께 배치 하기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-141">The syntax for the new column might look a bit complex, but that's only because it puts together several elements.</span></span> <span data-ttu-id="5ef1c-142">각 개별 요소는 간단 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-142">Each individual element is straightforward.</span></span> <span data-ttu-id="5ef1c-143">`<a>` 요소에만 집중 하는 경우 다음과 같은 태그가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-143">If you concentrate on just the `<a>` element, you see this markup:</span></span>

[!code-html[Main](updating-data/samples/sample4.html)]

<span data-ttu-id="5ef1c-144">Grid의 작동 방식에 대 한 배경: 그리드는 각 데이터베이스 레코드에 대해 하나씩 행을 표시 하 고 데이터베이스 레코드의 각 필드에 대 한 열을 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-144">Some background about how the grid works: the grid displays rows, one for each database record, and it displays columns for each field in the database record.</span></span> <span data-ttu-id="5ef1c-145">각 표 행을 생성 하는 동안 `item` 개체는 해당 행에 대 한 데이터베이스 레코드 (항목)를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-145">While each grid row is being constructed, the `item` object contains the database record (item) for that row.</span></span> <span data-ttu-id="5ef1c-146">이러한 정렬은 코드에서 해당 행에 대 한 데이터를 가져오는 방법을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-146">This arrangement gives you a way in code to get at the data for that row.</span></span> <span data-ttu-id="5ef1c-147">여기에 표시 되는 것은 현재 데이터베이스 항목의 ID 값을 가져오는 식 `item.ID`입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-147">That's what you see here: the expression `item.ID` is getting the ID value of the current database item.</span></span> <span data-ttu-id="5ef1c-148">`item.Title`, `item.Genre`또는 `item.Year`를 사용 하 여 동일한 방식으로 데이터베이스 값 (제목, 장르 또는 연도)을 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-148">You could get any of the database values (title, genre, or year) the same way by using `item.Title`, `item.Genre`, or `item.Year`.</span></span>

<span data-ttu-id="5ef1c-149">식 `"~/EditMovie?id=@item.ID` 대상 URL (`~/EditMovie?id=`)의 하드 코드 된 부분을 동적으로 파생 된 ID와 결합 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-149">The expression `"~/EditMovie?id=@item.ID` combines the hard-coded part of the target URL (`~/EditMovie?id=`) with this dynamically derived ID.</span></span> <span data-ttu-id="5ef1c-150">이전 자습서에서 `~` 연산자를 살펴보았습니다. 현재 웹 사이트 루트를 나타내는 ASP.NET 연산자입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-150">(You saw the `~` operator in the previous tutorial; it's an ASP.NET operator that represents the current website root.)</span></span>

<span data-ttu-id="5ef1c-151">그 결과 열에 있는 태그의이 부분에서는 런타임에 다음 태그와 같은 항목을 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-151">The result is that this part of the markup in the column simply produces something like the following markup at run time:</span></span>

[!code-xml[Main](updating-data/samples/sample5.xml)]

<span data-ttu-id="5ef1c-152">기본적으로 `id`의 실제 값은 각 행 마다 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-152">Naturally, the actual value of `id` will be different for each row.</span></span>

## <a name="creating-a-custom-display-for-a-grid-column"></a><span data-ttu-id="5ef1c-153">표 열에 대 한 사용자 지정 표시 만들기</span><span class="sxs-lookup"><span data-stu-id="5ef1c-153">Creating a Custom Display for a Grid Column</span></span>

<span data-ttu-id="5ef1c-154">이제 표 형태 열로 돌아갑니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-154">Now back to the grid column.</span></span> <span data-ttu-id="5ef1c-155">처음에는 표에 있었던 세 개의 열이 데이터 값 (제목, 장르 및 연도)만 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-155">The three columns you originally had in the grid displayed only data values (title, genre, and year).</span></span> <span data-ttu-id="5ef1c-156">데이터베이스 열의 이름을 전달 하 여이 표시를 지정 했습니다 &mdash; 예: `grid.Column("Title")`.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-156">You specified this display by passing the name of the database column &mdash; for example, `grid.Column("Title")`.</span></span>

<span data-ttu-id="5ef1c-157">이 새 링크 **편집** 열은 서로 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-157">This new **Edit** link column is different.</span></span> <span data-ttu-id="5ef1c-158">열 이름을 지정 하는 대신 `format` 매개 변수를 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-158">Instead of specifying a column name, you're passing a `format` parameter.</span></span> <span data-ttu-id="5ef1c-159">이 매개 변수를 사용 하면 `WebGrid` 도우미가 `item` 값과 함께 렌더링 하는 태그를 정의 하 여 열 데이터를 굵게 또는 녹색 또는 원하는 형식으로 표시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-159">This parameter lets you define markup that the `WebGrid` helper will render along with the `item` value to display the column data as bold or green or in whatever format that you want.</span></span> <span data-ttu-id="5ef1c-160">예를 들어 제목을 굵게 표시 하려는 경우 다음 예제와 같은 열을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-160">For example, if you wanted the title to appear bold, you could create a column like this example:</span></span>

[!code-html[Main](updating-data/samples/sample6.html)]

<span data-ttu-id="5ef1c-161">(`format` 속성에 표시 되는 다양 한 `@` 문자는 태그와 코드 값 사이에 전환을 표시 합니다.)</span><span class="sxs-lookup"><span data-stu-id="5ef1c-161">(The various `@` characters you see in the `format` property mark the transition between markup and a code value.)</span></span>

<span data-ttu-id="5ef1c-162">`format` 속성에 대 한 정보를 확인 한 후에는 새 링크 **편집** 열이 어떻게 함께 배치 되는지 쉽게 이해할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-162">Once you know about the `format` property, it's easier to understand how the new **Edit** link column is put together:</span></span>

[!code-html[Main](updating-data/samples/sample7.html)]

<span data-ttu-id="5ef1c-163">열은 링크를 렌더링 하는 태그와 행의 데이터베이스 레코드에서 추출 된 일부 정보 (ID)로 *만* 구성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-163">The column consists *only* of the markup that renders the link, plus some information (the ID) that's extracted from the database record for the row.</span></span>

> [!TIP]
> 
> <span data-ttu-id="5ef1c-164">**메서드의 명명 된 매개 변수 및 위치 매개 변수**</span><span class="sxs-lookup"><span data-stu-id="5ef1c-164">**Named Parameters and Positional Parameters for a Method**</span></span>
> 
> <span data-ttu-id="5ef1c-165">메서드를 호출 하 고 매개 변수를 전달한 경우에는 매개 변수 값을 쉼표로 구분 하 여 나열 했을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-165">Many times when you've called a method and passed parameters to it, you've simply listed the parameter values separated by commas.</span></span> <span data-ttu-id="5ef1c-166">다음은 몇 가지 예입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-166">Here are a couple of examples:</span></span>
> 
> `db.Execute(insertCommand, title, genre, year)`
> 
> `Validation.RequireField("title", "You must enter a title")`
> 
> <span data-ttu-id="5ef1c-167">이 코드를 처음 볼 때에는이 문제를 언급 하지 않았지만, 각 경우에 매개 변수가 해당 메서드에서 정의 되는 순서 &mdash; 같이 특정 순서로 메서드에 매개 변수를 전달 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-167">We didn't mention the issue when you first saw this code, but in each case, you're passing parameters to the methods in a specific order &mdash; namely, the order in which the parameters are defined in that method.</span></span> <span data-ttu-id="5ef1c-168">`db.Execute` 및 `Validation.RequireFields`에서 전달 하는 값의 순서를 혼합 하는 경우 페이지가 실행 될 때 또는 이상 이상한 결과가 발생 하는 경우 오류 메시지가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-168">For `db.Execute` and `Validation.RequireFields`, if you mixed up the order of the values you pass, you'd get an error message when the page runs, or at least some strange results.</span></span> <span data-ttu-id="5ef1c-169">에서 매개 변수를 전달 하는 순서를 알고 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-169">Clearly, you have to know the order to pass the parameters in.</span></span> <span data-ttu-id="5ef1c-170">(WebMatrix에서 IntelliSense는 매개 변수의 이름, 형식 및 순서를 파악 하는 데 도움이 될 수 있습니다.)</span><span class="sxs-lookup"><span data-stu-id="5ef1c-170">(In WebMatrix, IntelliSense can help you learn figure out the name, type, and order of the parameters.)</span></span>
> 
> <span data-ttu-id="5ef1c-171">값을 순서 대로 전달 하는 대신 *명명 된 매개 변수*를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-171">As an alternative to passing values in order, you can use *named parameters*.</span></span> <span data-ttu-id="5ef1c-172">매개 변수를 순서 대로 전달 하는 것을 *위치 매개 변수*사용 이라고 합니다. 명명 된 매개 변수의 경우 해당 값을 전달할 때 매개 변수의 이름을 명시적으로 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-172">(Passing parameters in order is known as using *positional parameters*.) For named parameters, you explicitly include the name of the parameter when passing its value.</span></span> <span data-ttu-id="5ef1c-173">이러한 자습서에서는 이미 여러 번 명명 된 매개 변수를 사용 했습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-173">You've used named parameters already a number of times in these tutorials.</span></span> <span data-ttu-id="5ef1c-174">다음은 그 예입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-174">For example:</span></span>
> 
> [!code-csharp[Main](updating-data/samples/sample8.cs)]
> 
> <span data-ttu-id="5ef1c-175">and</span><span class="sxs-lookup"><span data-stu-id="5ef1c-175">and</span></span>
> 
> [!code-css[Main](updating-data/samples/sample9.css)]
> 
> <span data-ttu-id="5ef1c-176">명명 된 매개 변수는 특히 메서드가 많은 매개 변수를 사용 하는 경우에 유용 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-176">Named parameters are handy for a couple of situations, especially when a method takes many parameters.</span></span> <span data-ttu-id="5ef1c-177">하나 또는 두 개의 매개 변수만 전달 하려고 하지만 전달 하려는 값이 매개 변수 목록의 첫 번째 위치에 없는 경우를 들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-177">One is when you want to pass only one or two parameters, but the values you want to pass are not among the first positions in the parameter list.</span></span> <span data-ttu-id="5ef1c-178">사용자에 게 가장 적합 한 순서로 매개 변수를 전달 하 여 코드를 더 쉽게 읽을 수 있도록 하려는 경우가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-178">Another situation is when you want to make your code more readable by passing the parameters in the order that makes the most sense to you.</span></span>
> 
> <span data-ttu-id="5ef1c-179">물론 명명 된 매개 변수를 사용 하려면 매개 변수의 이름을 알아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-179">Obviously, to use named parameters, you have to know the names of the parameters.</span></span> <span data-ttu-id="5ef1c-180">WebMatrix IntelliSense는 이름을 *표시할* 수 있지만 현재 사용자를 채울 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-180">WebMatrix IntelliSense can *show* you the names, but it cannot currently fill them in for you.</span></span>

## <a name="creating-the-edit-page"></a><span data-ttu-id="5ef1c-181">편집 페이지 만들기</span><span class="sxs-lookup"><span data-stu-id="5ef1c-181">Creating the Edit Page</span></span>

<span data-ttu-id="5ef1c-182">이제 *Editmovie* 페이지를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-182">Now you can create the *EditMovie* page.</span></span> <span data-ttu-id="5ef1c-183">사용자가 **편집** 링크를 클릭 하면이 페이지가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-183">When users click the **Edit** link, they'll end up on this page.</span></span>

<span data-ttu-id="5ef1c-184">*Editmovie. cshtml* 라는 페이지를 만들고 파일에서 다음 태그로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-184">Create a page named *EditMovie.cshtml* and replace what's in the file with the following markup:</span></span>

[!code-cshtml[Main](updating-data/samples/sample10.cshtml)]

<span data-ttu-id="5ef1c-185">이 태그와 코드는 *Addmovie* 페이지에 있는 것과 비슷합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-185">This markup and code is similar to what you have in the *AddMovie* page.</span></span> <span data-ttu-id="5ef1c-186">전송 단추에 대 한 텍스트에는 약간의 차이가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-186">There's a small difference in the text for the submit button.</span></span> <span data-ttu-id="5ef1c-187">*Addmovie* 페이지와 마찬가지로에는 유효성 검사 오류를 표시 하는 `Html.ValidationSummary` 호출이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-187">As with the *AddMovie* page, there's an `Html.ValidationSummary` call that will display validation errors if there are any.</span></span> <span data-ttu-id="5ef1c-188">이번에는 오류가 유효성 검사 요약에 표시 되기 때문에 `Validation.Message`에 대 한 호출을 종료 하 고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-188">This time we're leaving out calls to `Validation.Message`, since errors will be displayed in the validation summary.</span></span> <span data-ttu-id="5ef1c-189">이전 자습서에서 언급 한 것 처럼 다양 한 조합에서 유효성 검사 요약 및 개별 오류 메시지를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-189">As noted in the previous tutorial, you can use the validation summary and the individual error messages in various combinations.</span></span>

<span data-ttu-id="5ef1c-190">`<form>` 요소의 `method` 특성이 `post`으로 설정 되어 있는지 다시 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-190">Notice again that the `method` attribute of the `<form>` element is set to `post`.</span></span> <span data-ttu-id="5ef1c-191">*Addmovie. cshtml* 페이지와 마찬가지로이 페이지에서 데이터베이스를 변경 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-191">As with the *AddMovie.cshtml* page, this page makes changes to the database.</span></span> <span data-ttu-id="5ef1c-192">따라서이 양식은 `POST` 작업을 수행 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-192">Therefore, this form should perform a `POST` operation.</span></span> <span data-ttu-id="5ef1c-193">`GET`와 `POST` 작업 간의 차이점에 대 한 자세한 내용은 HTML 폼 자습서의 [GET, POST 및 HTTP Verb Safety](form-basics.md#GET,_POST,_and_HTTP_Verb_Safety) 사이드바를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-193">(For more about the difference between `GET` and `POST` operations, see the [GET, POST, and HTTP Verb Safety](form-basics.md#GET,_POST,_and_HTTP_Verb_Safety) sidebar in the tutorial on HTML forms.)</span></span>

<span data-ttu-id="5ef1c-194">이전 자습서에서 살펴본 것 처럼 텍스트 상자의 `value` 특성을 미리 로드 하기 위해 Razor 코드를 사용 하 여 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-194">As you saw in an earlier tutorial, the `value` attributes of the text boxes are being set with Razor code in order to preload them.</span></span> <span data-ttu-id="5ef1c-195">그러나 이번에는 `Request.Form["title"]`대신 해당 태스크에 대 한 `title` 및 `genre` 같은 변수를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-195">This time, though, you're using variables like `title` and `genre` for that task instead of `Request.Form["title"]`:</span></span>

`<input type="text" name="title" value="@title" />`

<span data-ttu-id="5ef1c-196">이전과 마찬가지로이 태그는 텍스트 상자 값을 동영상 값으로 미리 로드 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-196">As before, this markup will preload the text box values with the movie values.</span></span> <span data-ttu-id="5ef1c-197">지금은 `Request` 개체를 사용 하는 대신 변수를 사용 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-197">You'll see in a moment why it's handy to use variables this time instead of using the `Request` object.</span></span>

<span data-ttu-id="5ef1c-198">또한이 페이지에는 `<input type="hidden">` 요소가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-198">There's also a `<input type="hidden">` element on this page.</span></span> <span data-ttu-id="5ef1c-199">이 요소는 페이지에 표시 하지 않고 영화 ID를 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-199">This element stores the movie ID without making it visible on the page.</span></span> <span data-ttu-id="5ef1c-200">ID는 처음에 쿼리 문자열 값을 사용 하 여 페이지에 전달 됩니다 (URL에서`?id=7` 또는 유사).</span><span class="sxs-lookup"><span data-stu-id="5ef1c-200">The ID is initially passed to the page by using a query string value (`?id=7` or similar in the URL).</span></span> <span data-ttu-id="5ef1c-201">ID 값을 숨겨진 필드에 두면 페이지가 호출 된 원본 URL에 대 한 액세스 권한이 더 이상 없는 경우에도 폼이 제출 될 때 사용할 수 있는지 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-201">By putting the ID value into a hidden field, you can make sure that it's available when the form is submitted, even if you no longer have access to the original URL that the page was invoked with.</span></span>

<span data-ttu-id="5ef1c-202">*Addmovie* 페이지와 달리 *editmovie* 페이지의 코드에는 두 개의 고유한 함수가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-202">Unlike the *AddMovie* page, the code for the *EditMovie* page has two distinct functions.</span></span> <span data-ttu-id="5ef1c-203">첫 번째 함수는 페이지가 처음으로 표시 되 고 그 다음에 *만* 표시 되는 경우 코드는 쿼리 문자열에서 영화 ID를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-203">The first function is that when the page is displayed for the first time (and *only* then), the code gets the movie ID from the query string.</span></span> <span data-ttu-id="5ef1c-204">그런 다음 코드는 ID를 사용 하 여 데이터베이스에서 해당 하는 영화를 읽고 텍스트 상자에 표시 (미리 로드) 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-204">The code then uses the ID to read the corresponding movie out of the database and display (preload) it in the text boxes.</span></span>

<span data-ttu-id="5ef1c-205">두 번째 함수는 사용자가 **변경 내용 전송** 단추를 클릭할 때 코드에서 텍스트 상자의 값을 읽고 유효성을 검사 해야 한다는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-205">The second function is that when the user clicks the **Submit Changes** button, the code has to read the values of the text boxes and validate them.</span></span> <span data-ttu-id="5ef1c-206">또한이 코드는 데이터베이스 항목을 새 값으로 업데이트 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-206">The code also has to update the database item with the new values.</span></span> <span data-ttu-id="5ef1c-207">이 기법은 *Addmovie*에서 살펴본 것 처럼 레코드를 추가 하는 것과 비슷합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-207">This technique is similar to adding a record, as you saw in *AddMovie*.</span></span>

## <a name="adding-code-to-read-a-single-movie"></a><span data-ttu-id="5ef1c-208">단일 영화를 읽기 위한 코드 추가</span><span class="sxs-lookup"><span data-stu-id="5ef1c-208">Adding Code to Read a Single Movie</span></span>

<span data-ttu-id="5ef1c-209">첫 번째 함수를 수행 하려면 페이지 맨 위에 다음 코드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-209">To perform the first function, add this code to the top of the page:</span></span>

[!code-cshtml[Main](updating-data/samples/sample11.cshtml)]

<span data-ttu-id="5ef1c-210">이 코드의 대부분은 `if(!IsPost)`를 시작 하는 블록 내에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-210">Most of this code is inside a block that starts `if(!IsPost)`.</span></span> <span data-ttu-id="5ef1c-211">`!` 연산자는 "not"을 의미 하므로 식은이 *요청이 post 제출이*아님을 의미 합니다 .이는이 *요청이 처음으로 실행*되는 경우이 요청이 간접적입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-211">The `!` operator means "not," so the expression means *if this request is not a post submission*, which is an indirect way of saying *if this request is the first time that this page has been run*.</span></span> <span data-ttu-id="5ef1c-212">앞에서 설명한 것 처럼이 코드는 페이지가 처음 실행 될 때 *만* 실행 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-212">As noted earlier, this code should run *only* the first time the page runs.</span></span> <span data-ttu-id="5ef1c-213">`if(!IsPost)`에서 코드를 묶지 않은 경우 처음으로 또는 단추 클릭에 대 한 응답으로 페이지가 호출 될 때마다 실행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-213">If you didn't enclose the code in `if(!IsPost)`, it would run every time the page is invoked, whether the first time or in response to a button click.</span></span>

<span data-ttu-id="5ef1c-214">이번에는 코드에 `else` 블록이 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-214">Notice that the code includes an `else` block this time.</span></span> <span data-ttu-id="5ef1c-215">`if` 블록을 도입 했을 때와 같이 테스트 하는 조건이 충족 되지 않는 경우에는 다른 코드를 실행 하려고 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-215">As we said when we introduced `if` blocks, sometimes you want to run alternative code if the condition you're testing isn't true.</span></span> <span data-ttu-id="5ef1c-216">여기에는이 사례가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-216">That's the case here.</span></span> <span data-ttu-id="5ef1c-217">조건에 통과 하는 경우 (즉, 페이지에 전달 된 ID가 양호 하면) 데이터베이스에서 행을 읽습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-217">If the condition passes (that is, if the ID passed to the page is ok), you read a row from the database.</span></span> <span data-ttu-id="5ef1c-218">그러나 조건이 충족 되지 않으면 `else` 블록이 실행 되 고 코드에서 오류 메시지를 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-218">However, if the condition doesn't pass, the `else` block runs and the code sets an error message.</span></span>

## <a name="validating-a-value-passed-to-the-page"></a><span data-ttu-id="5ef1c-219">페이지에 전달 된 값의 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="5ef1c-219">Validating a Value Passed to the Page</span></span>

<span data-ttu-id="5ef1c-220">이 코드는 `Request.QueryString["id"]`를 사용 하 여 페이지에 전달 되는 ID를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-220">The code uses `Request.QueryString["id"]` to get the ID that's passed to the page.</span></span> <span data-ttu-id="5ef1c-221">이 코드는 값이 실제로 ID에 대해 전달 되었는지를 확인할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-221">The code makes sure that a value was actually passed for the ID.</span></span> <span data-ttu-id="5ef1c-222">값이 전달 되지 않은 경우 코드에서 유효성 검사 오류를 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-222">If no value was passed, the code sets a validation error.</span></span>

<span data-ttu-id="5ef1c-223">이 코드는 정보의 유효성을 검사 하는 다른 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-223">This code shows a different way to validate information.</span></span> <span data-ttu-id="5ef1c-224">이전 자습서에서는 `Validation` 도우미로 작업 했습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-224">In the previous tutorial, you worked with the `Validation` helper.</span></span> <span data-ttu-id="5ef1c-225">유효성을 검사할 필드를 등록 하 고 `Html.ValidationMessage` 및 `Html.ValidationSummary`를 사용 하 여 유효성 검사 및 표시 된 오류를 자동으로 ASP.NET 했습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-225">You registered fields to validate, and ASP.NET automatically did the validation and displayed errors by using `Html.ValidationMessage` and `Html.ValidationSummary`.</span></span> <span data-ttu-id="5ef1c-226">그러나이 경우 사용자 입력의 유효성을 검사 하는 것은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-226">In this case, however, you're not really validating user input.</span></span> <span data-ttu-id="5ef1c-227">대신 다른 위치에서 페이지에 전달 된 값의 유효성을 검사 하 게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-227">Instead, you're validating a value that was passed to the page from elsewhere.</span></span> <span data-ttu-id="5ef1c-228">`Validation` 도우미가이 작업을 수행 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-228">The `Validation` helper doesn't do that for you.</span></span>

<span data-ttu-id="5ef1c-229">따라서 `if(!Request.QueryString["ID"].IsEmpty()`으로 테스트 하 여 값을 직접 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-229">Therefore, you check the value yourself, by testing it with `if(!Request.QueryString["ID"].IsEmpty()`).</span></span> <span data-ttu-id="5ef1c-230">문제가 발생 하는 경우 `Validation` 도우미와 같이 `Html.ValidationSummary`를 사용 하 여 오류를 표시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-230">If there's a problem, you can display the error by using `Html.ValidationSummary`, as you did with the `Validation` helper.</span></span> <span data-ttu-id="5ef1c-231">이렇게 하려면 `Validation.AddFormError`를 호출 하 고 메시지를 전달 하 여 메시지를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-231">To do that, you call `Validation.AddFormError` and pass it a message to display.</span></span> <span data-ttu-id="5ef1c-232">`Validation.AddFormError`는 이미 친숙 한 유효성 검사 시스템에 연결 하는 사용자 지정 메시지를 정의할 수 있도록 하는 기본 제공 메서드입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-232">`Validation.AddFormError` is a built-in method that lets you define custom messages that tie in with the validation system you're already familiar with.</span></span> <span data-ttu-id="5ef1c-233">(이 자습서의 뒷부분에서는이 유효성 검사 프로세스를 좀 더 강력 하 게 만드는 방법에 대해 설명 합니다.)</span><span class="sxs-lookup"><span data-stu-id="5ef1c-233">(Later in this tutorial we'll talk about how to make this validation process a little more robust.)</span></span>

<span data-ttu-id="5ef1c-234">동영상에 대 한 ID가 있는지 확인 한 후 코드는 데이터베이스를 읽고 단일 데이터베이스 항목만 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-234">After making sure that there's an ID for the movie, the code reads the database, looking for only a single database item.</span></span> <span data-ttu-id="5ef1c-235">데이터베이스 작업에 대 한 일반적인 패턴을 알고 있을 수 있습니다. 데이터베이스를 열고 SQL 문을 정의한 다음 문을 실행 합니다. 이번에는 SQL `Select` 문에 `WHERE ID = @0`포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-235">(You probably have noticed the general pattern for database operations: open the database, define a SQL statement, and run the statement.) This time, the SQL `Select` statement includes `WHERE ID = @0`.</span></span> <span data-ttu-id="5ef1c-236">ID는 고유 하기 때문에 하나의 레코드만 반환 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-236">Because the ID is unique, only one record can be returned.</span></span>

<span data-ttu-id="5ef1c-237">`db.QuerySingle`를 사용 하 여 쿼리를 수행 합니다 .이 쿼리는 동영상 목록에 사용 된 것 처럼 `db.Query`하지 않으며, 코드는 결과를 `row` 변수에 넣습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-237">The query is performed by using `db.QuerySingle` (not `db.Query`, as you used for the movie listing), and the code puts the result into the `row` variable.</span></span> <span data-ttu-id="5ef1c-238">이름 `row` 임의의 이름입니다. 원하는 모든 변수 이름을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-238">The name `row` is arbitrary; you can name the variables anything you like.</span></span> <span data-ttu-id="5ef1c-239">그런 다음 위쪽에서 초기화 된 변수는 텍스트 상자에 이러한 값을 표시할 수 있도록 동영상 세부 정보로 채워집니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-239">The variables initialized at the top are then filled with the movie details so that these values can be displayed in the text boxes.</span></span>

## <a name="testing-the-edit-page-so-far"></a><span data-ttu-id="5ef1c-240">편집 페이지 테스트 (지금까지)</span><span class="sxs-lookup"><span data-stu-id="5ef1c-240">Testing the Edit Page (So Far)</span></span>

<span data-ttu-id="5ef1c-241">페이지를 테스트 하려면 지금 *영화* 페이지를 실행 하 고 동영상 옆의 **편집** 링크를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-241">If you'd like to test your page, run the *Movies* page now and click an **Edit** link next to any movie.</span></span> <span data-ttu-id="5ef1c-242">선택한 영화에 대 한 세부 정보가 채워진 *동영상 편집* 페이지가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-242">You'll see the *EditMovie* page with the details filled in for the movie you selected:</span></span>

![편집할 동영상이 표시 되는 영화 편집 페이지](updating-data/_static/image3.png)

<span data-ttu-id="5ef1c-244">페이지의 URL에 `?id=10` (또는 다른 숫자)와 같은 내용이 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-244">Notice that the URL of the page includes something like `?id=10` (or some other number).</span></span> <span data-ttu-id="5ef1c-245">지금까지 *, 페이지에서* 쿼리 문자열의 ID를 읽고 단일 영화 레코드를 가져오기 위해 데이터베이스 쿼리가 **작동 하는지 테스트** 했을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-245">So far you've tested that **Edit** links in the *Movie* page work, that your page is reading the ID from the query string, and that the database query to get a single movie record is working.</span></span>

<span data-ttu-id="5ef1c-246">영화 정보를 변경할 수 있지만 **변경 내용 전송**을 클릭 하면 아무 작업도 수행 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-246">You can change the movie information, but nothing happens when you click **Submit Changes**.</span></span>

## <a name="adding-code-to-update-the-movie-with-the-users-changes"></a><span data-ttu-id="5ef1c-247">사용자의 변경 내용을 사용 하 여 동영상을 업데이트 하는 코드 추가</span><span class="sxs-lookup"><span data-stu-id="5ef1c-247">Adding Code to Update the Movie with the User's Changes</span></span>

<span data-ttu-id="5ef1c-248">*Editmovie. cshtml* 파일에서 두 번째 함수 (변경 내용 저장)를 구현 하려면 `@` 블록의 닫는 중괄호 바로 안에 다음 코드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-248">In the *EditMovie.cshtml* file, to implement the second function (saving changes), add the following code just inside the closing brace of the `@` block.</span></span> <span data-ttu-id="5ef1c-249">코드의 위치를 정확 하 게 알 수 없는 경우이 자습서의 끝에 표시 되는 [동영상 편집 페이지에 대 한 전체 코드 목록을](#Complete_Page_Listing_for_EditMovie) 살펴볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-249">(If you're not sure exactly where to put the code, you can look at the [complete code listing for the Edit Movie page](#Complete_Page_Listing_for_EditMovie) that appears at the end of this tutorial.)</span></span>

[!code-csharp[Main](updating-data/samples/sample12.cs)]

<span data-ttu-id="5ef1c-250">이 태그와 코드는 *Addmovie*의 코드와 비슷합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-250">Again, this markup and code is similar to the code in *AddMovie*.</span></span> <span data-ttu-id="5ef1c-251">이 코드는 사용자가 **변경 내용 전송** &mdash; 단추를 클릭 한 경우에만 실행 되는 경우, 즉 폼이 게시 된 경우에만 실행 되기 때문에 `if(IsPost)` 블록에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-251">The code is in an `if(IsPost)` block, because this code runs only when the user clicks the **Submit Changes** button &mdash; that is, when (and only when) the form has been posted.</span></span> <span data-ttu-id="5ef1c-252">이 경우에 `if(IsPost && Validation.IsValid())`와 같은 테스트를 사용 하 고 있지 않습니다. 즉, 및를 사용 하 여 두 테스트를 결합 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-252">In this case, you're not using a test like `if(IsPost && Validation.IsValid())`— that is, you're not combining both tests by using AND.</span></span> <span data-ttu-id="5ef1c-253">이 페이지에서는 먼저 양식 제출 (`if(IsPost)`)이 있는지 확인 한 다음 유효성 검사를 위해 필드를 등록 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-253">In this page, you first determine whether there's a form submission (`if(IsPost)`), and only then register the fields for validation.</span></span> <span data-ttu-id="5ef1c-254">그런 다음 유효성 검사 결과 (`if(Validation.IsValid()`)를 테스트할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-254">Then you can test the validation results (`if(Validation.IsValid()`).</span></span> <span data-ttu-id="5ef1c-255">흐름은 *Addmovie. cshtml* 페이지와 약간 다르지만 효과는 동일 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-255">The flow is slightly different than in the *AddMovie.cshtml* page, but the effect is the same.</span></span>

<span data-ttu-id="5ef1c-256">다른 `<input>` 요소에 대 한 `Request.Form["title"]` 및 유사한 코드를 사용 하 여 텍스트 상자의 값을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-256">You get the values of the text boxes by using `Request.Form["title"]` and similar code for the other `<input>` elements.</span></span> <span data-ttu-id="5ef1c-257">이번에는 코드가 숨겨진 필드 (`<input type="hidden">`)에서 영화 ID를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-257">Notice that this time, the code gets the movie ID out of the hidden field (`<input type="hidden">`).</span></span> <span data-ttu-id="5ef1c-258">페이지가 처음 실행 되 면 코드는 쿼리 문자열에서 ID를 가져왔습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-258">When the page ran the first time, the code got the ID out of the query string.</span></span> <span data-ttu-id="5ef1c-259">이후에 쿼리 문자열이 변경 된 경우에는 숨겨진 필드에서 값을 가져와 원래 표시 된 동영상의 ID를 가져오는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-259">You get the value from the hidden field to make sure that you're getting the ID of the movie that was originally displayed, in case the query string was somehow altered since then.</span></span>

<span data-ttu-id="5ef1c-260">*Addmovie* 코드와이 코드의 매우 중요 한 차이점은이 코드에서는 `Insert Into` 문 대신 SQL `Update` 문을 사용 한다는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-260">The really important difference between the *AddMovie* code and this code is that in this code you use the SQL `Update` statement instead of the `Insert Into` statement.</span></span> <span data-ttu-id="5ef1c-261">다음 예에서는 SQL `Update` 문의 구문을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-261">The following example shows the syntax of the SQL `Update` statement:</span></span>

`UPDATE table SET col1="value", col2="value", col3="value" ... WHERE ID = value`

<span data-ttu-id="5ef1c-262">임의의 순서로 열을 지정할 수 있으며, `Update` 작업을 수행 하는 동안 모든 열을 업데이트할 필요는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-262">You can specify any columns in any order, and you don't necessarily have to update every column during an `Update` operation.</span></span> <span data-ttu-id="5ef1c-263">(이 경우에는 레코드를 새 레코드로 저장 하 고 `Update` 작업에는 사용할 수 없기 때문에 ID 자체를 업데이트할 수 없습니다.)</span><span class="sxs-lookup"><span data-stu-id="5ef1c-263">(You cannot update the ID itself, because that would in effect save the record as a new record, and that's not allowed for an `Update` operation.)</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="5ef1c-264">**중요** ID를 사용 하는 `Where` 절은 데이터베이스에서 업데이트 하려는 데이터베이스 레코드를 파악 하는 방법 이기 때문에 매우 중요 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-264">**Important** The `Where` clause with the ID is very important, because that's how the database knows which database record you want to update.</span></span> <span data-ttu-id="5ef1c-265">`Where` 절을 생략 한 경우 데이터베이스는 데이터베이스의 *모든* 레코드를 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-265">If you left off the `Where` clause, the database would update *every* record in the database.</span></span> <span data-ttu-id="5ef1c-266">대부분의 경우에는 재해가 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-266">In most cases, that would be a disaster.</span></span>

<span data-ttu-id="5ef1c-267">코드에서 업데이트할 값은 자리 표시자를 사용 하 여 SQL 문에 전달 됩니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-267">In the code, the values to update are passed to the SQL statement by using placeholders.</span></span> <span data-ttu-id="5ef1c-268">이전에 언급 한 작업을 반복 하려면: 보안상의 이유로 자리 표시자 *를 사용 하 여 값을 SQL* 문에 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-268">To repeat what we've said before: for security reasons, *only* use placeholders to pass values to a SQL statement.</span></span>

<span data-ttu-id="5ef1c-269">코드에서 `db.Execute` 사용 하 여 `Update` 문을 실행 한 후에는 목록 페이지로 다시 리디렉션되고 변경 내용을 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-269">After the code uses `db.Execute` to run the `Update` statement, it redirects back to the listing page, where you can see the changes.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="5ef1c-270">**다른 SQL 문, 다른 방법**</span><span class="sxs-lookup"><span data-stu-id="5ef1c-270">**Different SQL Statements, Different Methods**</span></span>
> 
> <span data-ttu-id="5ef1c-271">약간 다른 방법을 사용 하 여 다른 SQL 문을 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-271">You might have noticed that you use slightly different methods to run different SQL statements.</span></span> <span data-ttu-id="5ef1c-272">잠재적으로 여러 레코드를 반환 하는 `Select` 쿼리를 실행 하려면 `Query` 메서드를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-272">To run a `Select` query that potentially returns multiple records, you use the `Query` method.</span></span> <span data-ttu-id="5ef1c-273">하나의 데이터베이스 항목만 반환 될 것으로 알고 있는 `Select` 쿼리를 실행 하려면 `QuerySingle` 메서드를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-273">To run a `Select` query that you know will return only one database item, you use the `QuerySingle` method.</span></span> <span data-ttu-id="5ef1c-274">변경 작업을 수행 하지만 데이터베이스 항목을 반환 하지 않는 명령을 실행 하려면 `Execute` 메서드를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-274">To run commands that make changes but that don't return database items, you use the `Execute` method.</span></span>
> 
> <span data-ttu-id="5ef1c-275">`Query`와 `QuerySingle`의 차이에 이미 표시 된 것 처럼 각각 다른 결과를 반환 하기 때문에 다른 메서드를 가져야 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-275">You have to have different methods because each of them returns different results, as you saw already in the difference between `Query` and `QuerySingle`.</span></span> <span data-ttu-id="5ef1c-276">`Execute` 메서드는 실제로 &mdash; 값을 반환 합니다. 즉, &mdash; 명령의 영향을 받는 데이터베이스 행의 수를 반환 하지만 지금 까지는 무시 했습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-276">(The `Execute` method actually returns a value also &mdash; namely, the number of database rows that were affected by the command &mdash; but you've been ignoring that so far.)</span></span>
> 
> <span data-ttu-id="5ef1c-277">물론 `Query` 메서드는 데이터베이스 행을 하나만 반환할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-277">Of course, the `Query` method might return only one database row.</span></span> <span data-ttu-id="5ef1c-278">그러나 ASP.NET는 항상 `Query` 메서드의 결과를 컬렉션으로 처리 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-278">However, ASP.NET always treats the results of the `Query` method as a collection.</span></span> <span data-ttu-id="5ef1c-279">메서드가 하나의 행만 반환 하는 경우에도 컬렉션에서 해당 하는 단일 행을 추출 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-279">Even if the method returns just one row, you have to extract that single row from the collection.</span></span> <span data-ttu-id="5ef1c-280">따라서 행을 하나만 *반환 하는* 경우 `QuerySingle`사용 하는 것이 더 편리 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-280">Therefore, in situations where you *know* you'll get back only one row, it's a bit more convenient to use `QuerySingle`.</span></span>
> 
> <span data-ttu-id="5ef1c-281">특정 유형의 데이터베이스 작업을 수행 하는 몇 가지 다른 메서드가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-281">There are a few other methods that perform specific types of database operations.</span></span> <span data-ttu-id="5ef1c-282">[ASP.NET 웹 페이지 API 빠른 참조](../../api-reference/asp-net-web-pages-api-reference.md#Data)에서 데이터베이스 메서드 목록을 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-282">You can find a listing of database methods in the [ASP.NET Web Pages API Quick Reference](../../api-reference/asp-net-web-pages-api-reference.md#Data).</span></span>

## <a name="making-validation-for-the-id-more-robust"></a><span data-ttu-id="5ef1c-283">ID의 유효성을 보다 강력 하 게 확인</span><span class="sxs-lookup"><span data-stu-id="5ef1c-283">Making Validation for the ID More Robust</span></span>

<span data-ttu-id="5ef1c-284">페이지가 처음으로 실행 될 때 데이터베이스에서 동영상을 가져올 수 있도록 쿼리 문자열에서 영화 ID를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-284">The first time that the page runs, you get the movie ID from the query string so that you can go get that movie from the database.</span></span> <span data-ttu-id="5ef1c-285">이 코드를 사용 하 여 실제로 수행할 값이 실제로 있는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-285">You made sure that there actually was a value to go look for, which you did by using this code:</span></span>

[!code-csharp[Main](updating-data/samples/sample13.cs)]

<span data-ttu-id="5ef1c-286">이 코드를 사용 하 여 사용자가 *영화* 페이지에서 영화를 먼저 선택 하지 않고 *editmovies* 페이지로 이동할 경우 페이지에서 사용자에 게 친숙 한 오류 메시지를 표시 하는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-286">You used this code to make sure that if a user gets to the *EditMovies* page without first selecting a movie in the *Movies* page, the page would display a user-friendly error message.</span></span> <span data-ttu-id="5ef1c-287">그렇지 않으면 사용자에 게 혼동을 주는 오류가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-287">(Otherwise, users would see an error that would probably just confuse them.)</span></span>

<span data-ttu-id="5ef1c-288">그러나이 유효성 검사는 매우 강력 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-288">However, this validation isn't very robust.</span></span> <span data-ttu-id="5ef1c-289">이 페이지는 다음과 같은 오류와 함께 호출 될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-289">The page might also be invoked with these errors:</span></span>

- <span data-ttu-id="5ef1c-290">ID가 숫자가 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-290">The ID isn't a number.</span></span> <span data-ttu-id="5ef1c-291">예를 들어 `http://localhost:nnnnn/EditMovie?id=abc`와 같은 URL을 사용 하 여 페이지를 호출할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-291">For example, the page could be invoked with a URL like `http://localhost:nnnnn/EditMovie?id=abc`.</span></span>
- <span data-ttu-id="5ef1c-292">ID는 숫자 이지만 존재 하지 않는 영화를 참조 합니다 (예: `http://localhost:nnnnn/EditMovie?id=100934`).</span><span class="sxs-lookup"><span data-stu-id="5ef1c-292">The ID is a number, but it references a movie that doesn't exist (for example, `http://localhost:nnnnn/EditMovie?id=100934`).</span></span>

<span data-ttu-id="5ef1c-293">이러한 Url로 인해 발생 하는 오류를 확인 하려면 *동영상* 페이지를 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-293">If you're curious to see the errors that result from these URLs, run the *Movies* page.</span></span> <span data-ttu-id="5ef1c-294">편집할 동영상을 선택 하 고 *editmovie* 페이지의 url을 알파벳 id 또는 존재 하지 않는 동영상의 id를 포함 하는 url로 변경 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-294">Select a movie to edit, and then change the URL of the *EditMovie* page to a URL that contains an alphabetic ID or the ID of a non-existent movie.</span></span>

<span data-ttu-id="5ef1c-295">그렇다면 어떻게 해야 하나요?</span><span class="sxs-lookup"><span data-stu-id="5ef1c-295">So what should you do?</span></span> <span data-ttu-id="5ef1c-296">첫 번째 해결 방법은 페이지에 전달 된 ID가 아니라 정수 인지 확인 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-296">The first fix is to make sure that not only is an ID passed to the page, but that the ID is an integer.</span></span> <span data-ttu-id="5ef1c-297">`!IsPost` 테스트에 대 한 코드를 다음 예제와 같이 변경 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-297">Change the code for the `!IsPost` test to look like this example:</span></span>

[!code-csharp[Main](updating-data/samples/sample14.cs)]

<span data-ttu-id="5ef1c-298">`IsEmpty` 테스트에 `&&` (논리적 AND)와 연결 된 두 번째 조건을 추가 했습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-298">You've added a second condition to the `IsEmpty` test, linked with `&&` (logical AND):</span></span>

[!code-csharp[Main](updating-data/samples/sample15.cs)]

<span data-ttu-id="5ef1c-299">[ASP.NET 웹 페이지 프로그래밍 자습서 소개](../introducing-razor-syntax-c.md) 에서 `AsInt` `AsBool` 같은 메서드가 문자열을 다른 데이터 형식으로 변환 하는 방법을 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-299">You might remember from the [Introduction to ASP.NET Web Pages Programming](../introducing-razor-syntax-c.md) tutorial that methods like `AsBool` an `AsInt` convert a character string to some other data type.</span></span> <span data-ttu-id="5ef1c-300">`IsInt` 메서드 (`IsBool` 및 `IsDateTime`와 같은 기타)는 비슷합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-300">The `IsInt` method (and others, like `IsBool` and `IsDateTime`) are similar.</span></span> <span data-ttu-id="5ef1c-301">그러나 실제로 변환을 수행 하지 않고도 문자열을 변환할 *수* 있는지 여부를 테스트 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-301">However, they test only whether you *can* convert the string, without actually performing the conversion.</span></span> <span data-ttu-id="5ef1c-302">따라서 여기서 *는 쿼리 문자열 값을 정수로 변환할 수 있는지 여부*를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-302">So here you're essentially saying *If the query string value can be converted to an integer ...*.</span></span>

<span data-ttu-id="5ef1c-303">다른 잠재적인 문제는 존재 하지 않는 영화를 찾는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-303">The other potential problem is looking for a movie that doesn't exist.</span></span> <span data-ttu-id="5ef1c-304">동영상을 가져오는 코드는 다음 코드와 같습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-304">The code to get a movie looks like this code:</span></span>

[!code-csharp[Main](updating-data/samples/sample16.cs)]

<span data-ttu-id="5ef1c-305">실제 동영상과 일치 하지 않는 `QuerySingle` 메서드에 `movieId` 값을 전달 하는 경우 아무 것도 반환 되지 않고 다음 (예: `title=row.Title`)에 나오는 문에서 오류가 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-305">If you pass a `movieId` value to the `QuerySingle` method that doesn't correspond to an actual movie, nothing is returned and the statements that follow (for example, `title=row.Title`) result in errors.</span></span>

<span data-ttu-id="5ef1c-306">그러면 쉽게 해결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-306">Again there's an easy fix.</span></span> <span data-ttu-id="5ef1c-307">`db.QuerySingle` 메서드가 결과를 반환 하지 않는 경우에는 `row` 변수가 null이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-307">If the `db.QuerySingle` method returns no results, the `row` variable will be null.</span></span> <span data-ttu-id="5ef1c-308">따라서 값을 가져오기 전에 `row` 변수가 null 인지 여부를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-308">So you can check whether the `row` variable is null before you try to get values from it.</span></span> <span data-ttu-id="5ef1c-309">다음 코드는 `row` 개체에서 값을 가져오는 문 주위에 `if` 블록을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-309">The following code adds an `if` block around the statements that get the values out of the `row` object:</span></span>

[!code-csharp[Main](updating-data/samples/sample17.cs)]

<span data-ttu-id="5ef1c-310">이러한 두 가지 추가 유효성 검사 테스트를 사용 하면 페이지에 더 많은 글머리 기호가 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-310">With these two additional validation tests, the page becomes more bullet-proof.</span></span> <span data-ttu-id="5ef1c-311">이제 `!IsPost` 분기에 대 한 전체 코드는 다음 예제와 같습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-311">The complete code for the `!IsPost` branch now looks like this example:</span></span>

[!code-csharp[Main](updating-data/samples/sample18.cs)]

<span data-ttu-id="5ef1c-312">이 작업을 `else` 블록에 사용 하는 것이 더 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-312">We'll note once more that this task is a good use for an `else` block.</span></span> <span data-ttu-id="5ef1c-313">테스트가 통과 하지 못하면 `else` 블록은 오류 메시지를 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-313">If the tests don't pass, the `else` blocks set error messages.</span></span>

## <a name="adding-a-link-to-return-to-the-movies-page"></a><span data-ttu-id="5ef1c-314">동영상 페이지로 돌아가는 링크 추가</span><span class="sxs-lookup"><span data-stu-id="5ef1c-314">Adding a Link to Return to the Movies Page</span></span>

<span data-ttu-id="5ef1c-315">최종 및 유용한 세부 정보는 *동영상* 페이지에 링크를 다시 추가 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-315">A final and helpful detail is to add a link back to the *Movies* page.</span></span> <span data-ttu-id="5ef1c-316">일반적인 이벤트 흐름에서 사용자는 *동영상* 페이지에서 시작 하 여 **편집** 링크를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-316">In the ordinary flow of events, users will start at the *Movies* page and click an **Edit** link.</span></span> <span data-ttu-id="5ef1c-317">그러면 동영상을 편집 하 고 단추를 클릭할 수 있는 *editmovie* 페이지로 이동 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-317">That brings them to the *EditMovie* page, where they can edit the movie and click the button.</span></span> <span data-ttu-id="5ef1c-318">코드는 변경을 처리 한 후 *동영상* 페이지로 다시 리디렉션됩니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-318">After the code processes the change, it redirects back to the *Movies* page.</span></span>

<span data-ttu-id="5ef1c-319">그러나</span><span class="sxs-lookup"><span data-stu-id="5ef1c-319">However:</span></span>

- <span data-ttu-id="5ef1c-320">사용자는 아무것도 변경 하지 않도록 결정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-320">The user might decide not to change anything.</span></span>
- <span data-ttu-id="5ef1c-321">사용자는 먼저 *동영상* 페이지에서 **편집** 링크를 클릭 하지 않고이 페이지로 이동할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-321">The user might have gotten to this page without first clicking an **Edit** link in the *Movies* page.</span></span>

<span data-ttu-id="5ef1c-322">어느 방법을 사용 하 든 쉽게 기본 목록으로 돌아갈 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-322">Either way, you want to make it easy for them to return to the main listing.</span></span> <span data-ttu-id="5ef1c-323">태그의 닫는 `</form>` 태그 바로 뒤에 다음 태그를 추가 &mdash; 쉽게 수정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-323">It's an easy fix &mdash; add the following markup just after the closing `</form>` tag in the markup:</span></span>

[!code-html[Main](updating-data/samples/sample19.html)]

<span data-ttu-id="5ef1c-324">이 태그는 다른 곳에서 표시 된 `<a>` 요소에 대해 동일한 구문을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-324">This markup uses the same syntax for an `<a>` element that you've seen elsewhere.</span></span> <span data-ttu-id="5ef1c-325">URL에는 "웹 사이트의 루트"를 의미 하는 `~` 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-325">The URL includes `~` to mean "root of the website."</span></span>

## <a name="testing-the-movie-update-process"></a><span data-ttu-id="5ef1c-326">동영상 업데이트 프로세스 테스트</span><span class="sxs-lookup"><span data-stu-id="5ef1c-326">Testing the Movie Update Process</span></span>

<span data-ttu-id="5ef1c-327">이제를 테스트할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-327">Now you can test.</span></span> <span data-ttu-id="5ef1c-328">동영상 페이지 *를* 실행 하 고 동영상 옆의 **편집** 을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-328">Run the *Movies* page, and click **Edit** next to a movie.</span></span> <span data-ttu-id="5ef1c-329">*Editmovie* 페이지가 표시 되 면 동영상을 변경 하 고 **변경 내용 전송**을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-329">When the *EditMovie* page appears, make changes to the movie and click **Submit Changes**.</span></span> <span data-ttu-id="5ef1c-330">영화 목록이 표시 되 면 변경 내용이 표시 되는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-330">When the movie listing appears, make sure that your changes are shown.</span></span>

<span data-ttu-id="5ef1c-331">유효성 검사가 작동 하는지 확인 하려면 다른 동영상에 대해 **편집** 을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-331">To make sure that validation is working, click **Edit** for another movie.</span></span> <span data-ttu-id="5ef1c-332">*Editmovie* 페이지로 이동 하는 경우 **장르** 필드 (또는 **연도** 필드 또는 둘 다)의 선택을 취소 하 고 변경 내용을 제출 합니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-332">When you get to the *EditMovie* page, clear the **Genre** field (or **Year** field, or both) and try to submit your changes.</span></span> <span data-ttu-id="5ef1c-333">다음과 같이 오류가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-333">You'll see an error, as you'd expect:</span></span>

![유효성 검사 오류를 보여 주는 동영상 편집 페이지](updating-data/_static/image4.png)

<span data-ttu-id="5ef1c-335">**영화 목록으로 돌아가기** 링크를 클릭 하 여 변경 내용을 중단 하 고 *동영상* 페이지로 돌아갑니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-335">Click the **Return to movie listing** link to abandon your changes and return to the *Movies* page.</span></span>

## <a name="coming-up-next"></a><span data-ttu-id="5ef1c-336">다음에서 시작</span><span class="sxs-lookup"><span data-stu-id="5ef1c-336">Coming Up Next</span></span>

<span data-ttu-id="5ef1c-337">다음 자습서에서는 영화 레코드를 삭제 하는 방법을 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="5ef1c-337">In the next tutorial, you'll see how to delete a movie record.</span></span>

## <a name="complete-listing-for-movie-page-updated-with-edit-links"></a><span data-ttu-id="5ef1c-338">동영상에 대 한 목록 완료 페이지 (편집 링크를 사용 하 여 업데이트 됨)</span><span class="sxs-lookup"><span data-stu-id="5ef1c-338">Complete Listing for Movie Page (Updated with Edit Links)</span></span>

[!code-cshtml[Main](updating-data/samples/sample20.cshtml)]

<a id="Complete_Page_Listing_for_EditMovie"></a>
## <a name="complete-page-listing-for-edit-movie-page"></a><span data-ttu-id="5ef1c-339">동영상 편집 페이지의 전체 페이지 목록</span><span class="sxs-lookup"><span data-stu-id="5ef1c-339">Complete Page Listing for Edit Movie Page</span></span>

[!code-cshtml[Main](updating-data/samples/sample21.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="5ef1c-340">추가 리소스</span><span class="sxs-lookup"><span data-stu-id="5ef1c-340">Additional Resources</span></span>

- [<span data-ttu-id="5ef1c-341">Razor 구문을 사용한 ASP.NET 웹 프로그래밍 소개</span><span class="sxs-lookup"><span data-stu-id="5ef1c-341">Introduction to ASP.NET Web Programming by Using the Razor Syntax</span></span>](../../getting-started/introducing-razor-syntax-c.md)
- <span data-ttu-id="5ef1c-342">W3Schools 사이트의 [SQL UPDATE 문](http://www.w3schools.com/sql/sql_update.asp)</span><span class="sxs-lookup"><span data-stu-id="5ef1c-342">[SQL UPDATE Statement](http://www.w3schools.com/sql/sql_update.asp) on the W3Schools site</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="5ef1c-343">[이전](entering-data.md)
> [다음](deleting-data.md)</span><span class="sxs-lookup"><span data-stu-id="5ef1c-343">[Previous](entering-data.md)
[Next](deleting-data.md)</span></span>
