---
uid: web-pages/overview/ui-layouts-and-themes/9-working-with-images
title: ASP.NET 웹 페이지 (Razor) 사이트에서 이미지 작업 | Microsoft Docs
author: Rick-Anderson
description: 이 장에서는 웹 사이트에서 이미지를 추가, 표시 및 조작 (워터 마크 크기 조정, 대칭 이동 및 추가) 하는 방법을 보여 줍니다.
ms.author: riande
ms.date: 02/20/2014
ms.assetid: 778c4e58-4372-4d25-bab9-aec4a8d8e38d
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/9-working-with-images
msc.type: authoredcontent
ms.openlocfilehash: 53514b3c314fc182a43c82974ffcfa8158a636a1
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78512879"
---
# <a name="working-with-images-in-an-aspnet-web-pages-razor-site"></a>ASP.NET 웹 페이지 (Razor) 사이트에서 이미지 작업

만든 사람 [Tom FitzMacken](https://github.com/tfitzmac)

> 이 문서에서는 Razor (ASP.NET 웹 페이지) 웹 사이트에서 이미지를 추가, 표시 및 조작 (워터 마크 크기 조정, 대칭 이동 및 추가) 하는 방법을 보여 줍니다.
> 
> 학습할 내용:
> 
> - 이미지를 페이지에 동적으로 추가 하는 방법
> - 사용자가 이미지를 업로드 하도록 허용 하는 방법입니다.
> - 이미지 크기를 조정 하는 방법
> - 이미지를 대칭 이동 하거나 회전 하는 방법입니다.
> - 이미지에 워터 마크를 추가 하는 방법
> - 이미지를 워터 마크로 사용 하는 방법입니다.
> 
> 다음은이 문서에 도입 된 ASP.NET 프로그래밍 기능입니다.
> 
> - `WebImage` 도우미입니다.
> - 경로와 파일 이름을 조작할 수 있는 메서드를 제공 하는 `Path` 개체입니다.
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a>자습서에서 사용 되는 소프트웨어 버전
> 
> 
> - ASP.NET 웹 페이지 (Razor) 2
> - WebMatrix 2
>   
> 
> 이 자습서는 WebMatrix 3 에서도 작동 합니다.

<a id="Adding_an_Image"></a>
## <a name="adding-an-image-to-a-web-page-dynamically"></a>동적으로 웹 페이지에 이미지 추가

웹 사이트를 개발 하는 동안 웹 사이트 및 개별 페이지에 이미지를 추가할 수 있습니다. 사용자가 프로필 사진을 추가 하도록 허용 하는 등의 작업에 유용할 수 있는 이미지를 업로드할 수도 있습니다.

사이트에서 이미지를 이미 사용할 수 있는 경우 페이지에 이미지를 표시 하려면 다음과 같이 HTML `<img>` 요소를 사용 합니다.

[!code-html[Main](9-working-with-images/samples/sample1.html)]

그러나 경우에 따라 이미지를 동적으로 &#8212; 표시할 수 있어야 하며, 페이지를 실행 하기 전 까지는 표시할 이미지를 알 필요가 없습니다.

이 섹션의 절차에서는 사용자가 이미지 이름 목록에서 이미지 파일 이름을 지정 하는 즉석에서 이미지를 표시 하는 방법을 보여 줍니다. 드롭다운 목록에서 이미지의 이름을 선택 하 고 페이지를 전송할 때 선택한 이미지가 표시 됩니다.

![이미지로](9-working-with-images/_static/image1.jpg "ch9images-1")

1. WebMatrix에서 새 웹 사이트를 만듭니다.
2. *Dynamicimage. cshtml*라는 새 페이지를 추가 합니다.
3. 웹 사이트의 루트 폴더에 새 폴더를 추가 하 고 이름을 *images*로 추가 합니다.
4. 방금 만든 *images* 폴더에 4 개의 이미지를 추가 합니다. 유용 하 게 사용할 수 있는 모든 이미지는 페이지에 맞아야 합니다. *Photo1*, *Photo2*, *Photo3*및 *Photo4*이미지의 이름을 바꿉니다. 이 절차에서는 *Photo4* 를 사용 하지 않지만이 문서 뒷부분에서 사용 합니다.
5. 4 개의 이미지가 읽기 전용으로 표시 되어 있지 않은지 확인 합니다.
6. 페이지의 기존 콘텐츠를 다음으로 바꿉니다.

    [!code-cshtml[Main](9-working-with-images/samples/sample2.cshtml)]

    페이지 본문에는 이름이 `photoChoice`인 드롭다운 목록 (`<select>` 요소)이 있습니다. 이 목록에는 세 가지 옵션이 있으며 각 목록 옵션의 `value` 특성에는 *images* 폴더에 넣은 이미지 중 하나의 이름이 있습니다. 기본적으로이 목록을 사용 하면 사용자가 &quot;사진 1&quot;같은 이름을 선택 하 여 페이지가 전송 될 때 *.jpg* 파일 이름을 전달할 수 있습니다.

    코드에서는 `Request["photoChoice"]`을 읽어 목록에서 사용자가 선택한 항목 (즉, 이미지 파일 이름)을 가져올 수 있습니다. 먼저 선택 항목이 있는지 확인 합니다. 있는 경우 이미지의 폴더 이름 및 사용자의 이미지 파일 이름으로 구성 된 이미지의 경로를 구성 합니다. (경로를 생성 하려고 했지만 `Request["photoChoice"]`에 아무 것도 없는 경우 오류가 발생 합니다.) 이렇게 하면 다음과 같은 상대 경로가 생성 됩니다.

    *images/Photo1*

    경로는 나중에 페이지에서 필요한 `imagePath` 변수에 저장 됩니다.

    본문에는 사용자가 선택한 이미지를 표시 하는 데 사용 되는 `<img>` 요소도 있습니다. 정적 요소를 표시 하는 것 처럼 `src` 특성은 파일 이름 또는 URL로 설정 되지 않습니다. 대신 `@imagePath`로 설정 됩니다. 즉, 코드에 설정 된 경로에서 해당 값을 가져옵니다.

    그러나 페이지가 처음으로 실행 될 때 사용자가 아무것도 선택 하지 않았기 때문에 표시할 이미지가 없습니다. 이는 일반적으로 `src` 특성이 비어 있고 이미지가 빨간색 &quot;x&quot; (또는 브라우저에서 이미지를 찾을 수 없는 경우 렌더링)로 표시 됨을 의미 합니다. 이를 방지 하려면 `imagePath` 변수에 무엇이 있는지를 테스트 하는 `if` 블록에 `<img>` 요소를 배치 합니다. 사용자가 선택 하는 경우 `imagePath`에 경로가 포함 됩니다. 사용자가 이미지를 선택 하지 않았거나 페이지가 처음 표시 될 때 `<img>` 요소는 렌더링 되지 않습니다.
7. 파일을 저장 하 고 브라우저에서 페이지를 실행 합니다. (파일을 실행 하기 전에 해당 페이지가 **파일** 작업 영역에서 선택 되어 있는지 확인 합니다.)
8. 드롭다운 목록에서 이미지를 선택 하 고 **샘플 이미지**를 클릭 합니다. 선택 항목 마다 다른 이미지가 표시 되는지 확인 합니다.

<a id="Uploading_an_Image"></a>
## <a name="uploading-an-image"></a>이미지 업로드

이전 예제에서는 이미지를 동적으로 표시 하는 방법을 보여 주었습니다. 웹 사이트에 이미 있는 이미지에 대해서만 작업을 수행 했습니다. 이 절차에서는 사용자가 이미지를 업로드 하 여 페이지에 표시 하는 방법을 보여 줍니다. ASP.NET에서는 이미지를 만들고 조작 하 고 저장할 수 있는 메서드가 포함 된 `WebImage` 도우미를 사용 하 여 즉석에서 이미지를 조작할 수 있습니다. `WebImage` 도우미는 *.jpg*, *.png*및 *.bmp*를 비롯 한 모든 공통 웹 이미지 파일 형식을 지원 합니다. 이 문서 전체에서 *.jpg* 이미지를 사용 하지만 이미지 형식 중 하나를 사용할 수 있습니다.

![이미지로](9-working-with-images/_static/image2.jpg "ch9images-2")

1. 새 페이지를 추가 하 고 이름을 *UploadImage*로 다시 만듭니다.
2. 페이지의 기존 콘텐츠를 다음으로 바꿉니다. 

    [!code-cshtml[Main](9-working-with-images/samples/sample3.cshtml)]

    텍스트 본문에는 사용자가 업로드할 파일을 선택할 수 있는 `<input type="file">` 요소가 있습니다. **제출**을 클릭 하면 선택한 파일이 양식과 함께 전송 됩니다.

    업로드 된 이미지를 가져오기 위해 이미지 작업에 대 한 모든 종류의 유용한 메서드를 포함 하는 `WebImage` 도우미를 사용 합니다. 특히 `WebImage.GetImageFromRequest`를 사용 하 여 업로드 된 이미지 (있는 경우)를 가져와서 `photo`라는 변수에 저장 합니다.

    이 예제에서 많은 작업에는 파일 및 경로 이름을 가져오고 설정 하는 작업이 포함 됩니다. 이 문제는 사용자가 업로드 한 이미지의 이름과 이름만 가져온 다음 이미지를 저장할 위치에 대 한 새 경로를 만드는 것입니다. 사용자가 같은 이름의 여러 이미지를 업로드할 수 있기 때문에 다양 한 추가 코드를 사용 하 여 고유한 이름을 만들고 사용자가 기존 사진을 덮어쓰지 않도록 해야 합니다.

    이미지가 실제로 업로드 된 경우 (테스트 `if (photo != null)`) 이미지의 `FileName` 속성에서 이미지 이름을 가져옵니다. 사용자가 이미지를 업로드 하면 `FileName` 사용자의 컴퓨터에서 경로를 포함 하는 사용자의 원래 이름이 포함 됩니다. 다음과 같이 표시 될 수 있습니다.

    *C:\Users\Joe\Pictures\SamplePhoto1.jpg*

    실제 파일 이름 (*SamplePhoto1*)을 원하는 것 &#8212; 이지만 모든 경로 정보를 원하지는 않습니다. 다음과 같이 `Path.GetFileName` 메서드를 사용 하 여 경로에서 파일만 제거할 수 있습니다.

    [!code-csharp[Main](9-working-with-images/samples/sample4.cs)]

    그런 다음 GUID를 원래 이름에 추가 하 여 고유한 파일 이름을 새로 만듭니다. Guid에 대 한 자세한 내용은이 문서의 뒷부분에 있는 [Guid 정보](#SB_AboutGUIDs) 를 참조 하세요. 그런 다음 이미지를 저장 하는 데 사용할 수 있는 전체 경로를 생성 합니다. 저장 경로는 새 파일 이름, 폴더 (이미지) 및 현재 웹 사이트 위치로 구성 됩니다.

    > [!NOTE]
    > 코드를 사용 하 여 *images* 폴더에 파일을 저장 하려면 해당 폴더에 대 한 읽기/쓰기 권한이 필요 합니다. 개발 컴퓨터에는 일반적으로 문제가 되지 않습니다. 그러나 호스팅 공급자의 웹 서버에 사이트를 게시 하는 경우 해당 권한을 명시적으로 설정 해야 할 수 있습니다. 호스팅 공급자의 서버에서이 코드를 실행 하 고 오류를 수신 하는 경우 호스팅 공급자에 게 문의 하 여 이러한 권한을 설정 하는 방법을 알아보세요.

    마지막으로, `WebImage` 도우미의 `Save` 메서드에 저장 경로를 전달 합니다. 이는 업로드 된 이미지를 새 이름으로 저장 합니다. Save 메서드는 `photo.Save(@"~\" + imagePath)`같습니다. 전체 경로는 현재 웹 사이트 위치인 `@"~\"`에 추가 됩니다. `~` 연산자에 대 한 자세한 내용은 [Razor 구문을 사용한 ASP.NET 웹 프로그래밍 소개](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths)를 참조 하세요.

    이전 예제와 같이 페이지 본문에는 이미지를 표시 하는 `<img>` 요소가 포함 되어 있습니다. `imagePath` 설정 된 경우 `<img>` 요소가 렌더링 되 고 `src` 특성이 `imagePath` 값으로 설정 됩니다.
3. 브라우저에서 페이지를 실행 합니다.
4. 이미지를 업로드 하 고 페이지에 표시 되는지 확인 합니다.
5. 사이트에서 *images* 폴더를 엽니다. 파일 이름이 다음과 같이 표시 되는 새 파일이 추가 된 것을 볼 수 있습니다. 

    *45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto*

    이 이미지는 이름 앞에 GUID를 사용 하 여 업로드 한 이미지입니다. 사용자 고유의 파일은 다른 GUID를 갖게 되며, *MyPhoto*와 다른 이름으로 이름이 지정 될 수 있습니다.

> [!TIP] 
> 
> <a id="SB_AboutGUIDs"></a>
> ### <a name="about-guids"></a>Guid 정보
> 
> GUID (globally unique ID)는 일반적으로 `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`같이 형식으로 렌더링 되는 식별자입니다. -F의 숫자와 문자는 각 GUID 마다 다르지만 8-4-4-4-12 문자 그룹을 사용 하는 패턴을 따릅니다. (기술적으로 GUID는 16 바이트/128 비트 숫자입니다.) GUID가 필요한 경우 GUID를 생성 하는 특수 코드를 호출할 수 있습니다. Guid가 뒤에 나오는 개념은 숫자의 큰 크기 (3.4 x 10<sup>38</sup>)와이를 생성 하는 알고리즘 사이에서 결과 숫자가 실제로는 일종의 일이 되도록 보장 한다는 것입니다. 따라서 Guid는 동일한 이름을 두 번 사용 하지 않는 것을 보장 해야 하는 경우에 대 한 이름을 생성 하는 좋은 방법입니다. 물론, Guid가 특별히 사용자에 게 친숙 하지 않으므로 코드 에서만 이름을 사용할 때 사용 하는 것이 일반적입니다.

<a id="Resizing_an_Image"></a>
## <a name="resizing-an-image"></a>이미지 크기 조정

웹 사이트가 사용자의 이미지를 허용 하는 경우 이미지를 표시 하거나 저장 하기 전에 크기를 조정 하는 것이 좋습니다. 이에 대 한 `WebImage` 도우미를 다시 사용할 수 있습니다.

이 절차에서는 업로드 된 이미지의 크기를 조정 하 여 미리 보기를 만든 다음 웹 사이트에서 축소판 그림 및 원본 이미지를 저장 하는 방법을 보여 줍니다. 페이지에 축소판 그림을 표시 하 고 하이퍼링크를 사용 하 여 사용자를 전체 크기의 이미지로 리디렉션합니다.

![이미지로](9-working-with-images/_static/image3.jpg "ch9images-3")

1. *Thumbnail. cshtml*라는 새 페이지를 추가 합니다.
2. *Images* 폴더에 *엄지 손가락*이라는 하위 폴더를 만듭니다.
3. 페이지의 기존 콘텐츠를 다음으로 바꿉니다. 

    [!code-cshtml[Main](9-working-with-images/samples/sample5.cshtml)]

    이 코드는 이전 예제의 코드와 비슷합니다. 차이점은이 코드는 이미지의 축소판 그림 복사본을 만든 후 일반적으로 한 번 및 한 번에 이미지를 두 번 저장 한다는 것입니다. 먼저 업로드 된 이미지를 가져와 *images* 폴더에 저장 합니다. 그런 다음 미리 보기 이미지에 대 한 새 경로를 구성 합니다. 실제로 축소판 그림을 만들려면 `WebImage` 도우미의 `Resize` 메서드를 호출 하 여 60 픽셀의 60 픽셀 이미지를 만듭니다. 이 예에서는 가로 세로 비율을 유지 하는 방법과 이미지를 확대 하지 않도록 방지 하는 방법을 보여 줍니다 (새 크기에서 이미지를 실제로 크게 만드는 경우). 그러면 크기 조정 된 이미지가 *엄지 손가락* 하위 폴더에 저장 됩니다.

    태그의 끝 부분에서 이전 예제에서 확인 한 동적 `src` 특성과 동일한 `<img>` 요소를 사용 하 여 조건부로 이미지를 표시 합니다. 이 경우 축소판 그림을 표시 합니다. 또한 `<a>` 요소를 사용 하 여 이미지의 큰 버전에 대 한 하이퍼링크를 만듭니다. `<img>` 요소의 `src` 특성과 마찬가지로 `<a>` 요소의 `href` 특성을 `imagePath`에 있는 항목으로 동적으로 설정 합니다. 경로를 URL로 사용할 수 있는지 확인 하려면 경로에서 예약 된 문자를 URL에서 확인 되는 문자로 변환 하는 `Html.AttributeEncode` 메서드에 `imagePath`를 전달 합니다.
4. 브라우저에서 페이지를 실행 합니다.
5. 사진을 업로드 하 고 미리 보기가 표시 되는지 확인 합니다.
6. 축소판 그림을 클릭 하 여 전체 크기 이미지를 표시 합니다.
7. *이미지* 및 *이미지/엄지 손가락*에서 새 파일이 추가 된 것을 확인 합니다.

<a id="Rotating_and_Flipping"></a>
## <a name="rotating-and-flipping-an-image"></a>이미지 회전 및 대칭 이동

`WebImage` 도우미를 사용 하 여 이미지를 대칭 이동 하 고 회전할 수도 있습니다. 이 절차에서는 서버에서 이미지를 가져오고, 이미지를 상하 대칭 아래로 대칭 이동 하 고, 저장 한 다음 페이지에 대칭 이동 된 이미지를 표시 하는 방법을 보여 줍니다. 이 예제에서는 서버 (*Photo2*)에 이미 있는 파일을 사용 하 고 있는 것입니다. 실제 응용 프로그램에서는 이전 예제에서와 같이 이름이 동적으로 표시 되는 이미지를 대칭 이동할 수도 있습니다.

![이미지로](9-working-with-images/_static/image4.jpg "ch9images-4")

1. *FlipImage*라는 새 페이지를 추가 합니다.
2. 페이지의 기존 콘텐츠를 다음으로 바꿉니다. 

    [!code-cshtml[Main](9-working-with-images/samples/sample6.cshtml)]

    이 코드는 `WebImage` 도우미를 사용 하 여 서버에서 이미지를 가져옵니다. 이전 예제에서 이미지를 저장 하는 데 사용한 것과 동일한 기술을 사용 하 여 이미지에 대 한 경로를 만들고 `WebImage`를 사용 하 여 이미지를 만들 때이 경로를 전달 합니다.

    [!code-javascript[Main](9-working-with-images/samples/sample7.js)]

    이미지를 찾았으면 이전 예제에서와 같이 새 경로와 파일 이름을 생성 합니다. 이미지를 대칭 이동 하려면 `FlipVertical` 메서드를 호출한 다음 이미지를 다시 저장 합니다.

    `src` 특성이 `imagePath`로 설정 된 `<img>` 요소를 사용 하 여 이미지가 페이지에 다시 표시 됩니다.
3. 브라우저에서 페이지를 실행 합니다. *Photo2* 에 대 한 이미지는 거꾸로 표시 되어 있습니다.
4. 페이지를 새로 고치거 나 페이지를 다시 요청 하 여 이미지가 다시 대칭 이동 되는지 확인 합니다.

이미지를 회전 하려면 `FlipVertical` 또는 `FlipHorizontal`를 호출 하는 대신 `RotateLeft` 또는 `RotateRight`를 호출 한다는 점을 제외 하 고 동일한 코드를 사용 합니다.

<a id="Adding_a_Watermark"></a>
## <a name="adding-a-watermark-to-an-image"></a>이미지에 워터 마크 추가

웹 사이트에 이미지를 추가 하는 경우 저장 하기 전에 이미지에 워터 마크를 추가 하거나 페이지에 표시 하는 것이 좋습니다. 사용자는 종종 워터 마크를 사용 하 여 저작권 정보를 이미지에 추가 하거나 비즈니스 이름을 알립니다.

![이미지로](9-working-with-images/_static/image5.jpg "ch9images-5")

1. *워터 마크. cshtml*이라는 새 페이지를 추가 합니다.
2. 페이지의 기존 콘텐츠를 다음으로 바꿉니다. 

    [!code-cshtml[Main](9-working-with-images/samples/sample8.cshtml)]

    이 코드는 이전에 *FlipImage* 페이지의 코드와 같습니다 (이 경우에는 *Photo3* 파일을 사용). 워터 마크를 추가 하려면 이미지를 저장 하기 전에 `WebImage` 도우미의 `AddTextWatermark` 메서드를 호출 합니다. `AddTextWatermark`에 대 한 호출에서 &quot;내 워터 마크&quot;텍스트를 전달 하 고 글꼴 색을 노란색으로 설정 하 고 글꼴 패밀리를 Arial로 설정 합니다. 여기에는 표시 되지 않지만 `WebImage` 도우미를 사용 하면 불투명도, 글꼴 패밀리 및 글꼴 크기 및 워터 마크 텍스트의 위치를 지정할 수도 있습니다. 이미지를 저장 하는 경우 읽기 전용이 아니어야 합니다.

    앞서 살펴본 것 처럼, src 특성이 `@imagePath`로 설정 된 `<img>` 요소를 사용 하 여 페이지에 이미지가 표시 됩니다.
3. 브라우저에서 페이지를 실행 합니다. 이미지의 오른쪽 아래 모서리에 "My 워터 마크" 라는 텍스트가 표시 됩니다.

<a id="Using_an_Image_as_a_Watermark"></a>
## <a name="using-an-image-as-a-watermark"></a>이미지를 워터 마크로 사용

워터 마크에 텍스트를 사용 하는 대신 다른 이미지를 사용할 수 있습니다. 때때로 회사 로고와 같은 이미지를 워터 마크로 사용 하거나 저작권 정보에 대 한 텍스트 대신 워터 마크 이미지를 사용 하는 경우를 들 수 있습니다.

![이미지로](9-working-with-images/_static/image6.jpg "ch9images-6")

1. *Imagewatermark 마크. cshtml*이라는 새 페이지를 추가 합니다.
2. 로고로 사용할 수 있는 *이미지 폴더에 이미지를* 추가 하 고 *MyCompanyLogo*이미지의 이름을 바꿉니다. 이 이미지는 80 픽셀 너비와 20 픽셀 높게 설정 된 경우 명확 하 게 볼 수 있는 이미지 여야 합니다.
3. 페이지의 기존 콘텐츠를 다음으로 바꿉니다. 

    [!code-cshtml[Main](9-working-with-images/samples/sample9.cshtml)]

    이는 이전 예제의 코드에 대 한 또 다른 변형입니다. 이 경우 이미지를 저장 하기 전에 `AddImageWatermark`를 호출 하 여 워터 마크 이미지를 대상 이미지 (*Photo3*)에 추가 합니다. `AddImageWatermark`를 호출 하는 경우 너비를 80 픽셀로 설정 하 고 높이를 20 픽셀로 설정 합니다. *MyCompanyLogo* 이미지는 가로 방향으로 가운데에 맞춰지고 대상 이미지의 아래쪽에 세로로 맞춰집니다. 불투명도는 100%로 설정 되 고 안쪽 여백은 10 픽셀로 설정 됩니다. 워터 마크 이미지가 대상 이미지 보다 큰 경우 아무 작업도 수행 되지 않습니다. 워터 마크 이미지가 대상 이미지 보다 크고 이미지 워터 마크의 안쪽 여백을 0으로 설정 하면 워터 마크가 무시 됩니다.

    이전과 마찬가지로 `<img>` 요소와 동적 `src` 특성을 사용 하 여 이미지를 표시 합니다.
4. 브라우저에서 페이지를 실행 합니다. 워터 마크 이미지가 주 이미지의 아래쪽에 표시 됩니다.

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a>추가 리소스

[ASP.NET 웹 페이지 사이트에서 파일 작업](https://go.microsoft.com/fwlink/?LinkId=202896)

[Razor 구문을 사용한 ASP.NET 웹 페이지 프로그래밍 소개](https://go.microsoft.com/fwlink/?LinkID=251587)
