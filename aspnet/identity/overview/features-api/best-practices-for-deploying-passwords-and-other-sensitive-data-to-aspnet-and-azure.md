---
uid: identity/overview/features-api/best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure
title: ASP.NET 및 Azure App Service에 암호 및 기타 중요 한 데이터 배포-ASP.NET 4.x
author: Rick-Anderson
description: 이 자습서에서는 코드가 안전 하 게 보안 정보를 저장 하 고 액세스 하는 방법을 보여 줍니다. 가장 중요 한 점은 암호 또는 다른 send를 저장 하지 않는 것입니다.
ms.author: riande
ms.date: 05/21/2015
ms.assetid: 97902c66-cb61-4d11-be52-73f962f2db0a
ms.custom: seoapril2019
msc.legacyurl: /identity/overview/features-api/best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure
msc.type: authoredcontent
ms.openlocfilehash: 8356a90611f791779cc4ff4730038d82cd76242f
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78472145"
---
# <a name="best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure-app-service"></a><span data-ttu-id="ffc69-104">ASP.NET 및 Azure App Service에 암호와 기타 중요한 데이터를 배포하는 방법에 대한 모범 사례</span><span class="sxs-lookup"><span data-stu-id="ffc69-104">Best practices for deploying passwords and other sensitive data to ASP.NET and Azure App Service</span></span>

<span data-ttu-id="ffc69-105">[Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="ffc69-105">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

> <span data-ttu-id="ffc69-106">이 자습서에서는 코드가 안전 하 게 보안 정보를 저장 하 고 액세스 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-106">This tutorial shows how your code can securely store and access secure information.</span></span> <span data-ttu-id="ffc69-107">무엇보다 중요한 점은 절대로 소스 코드에 암호나 기타 중요한 데이터를 저장하면 안 될 뿐만 아니라, 프로덕션 환경의 보안 정보를 개발 및 테스트 모드에서 사용해서는 안 된다는 것입니다</span><span class="sxs-lookup"><span data-stu-id="ffc69-107">The most important point is you should never store passwords or other sensitive data in source code, and you shouldn't use production secrets in development and test mode.</span></span>
> 
> <span data-ttu-id="ffc69-108">샘플 코드는 간단한 WebJob 콘솔 앱 및 데이터베이스 연결 문자열 password, Twilio, Google 및 SendGrid secure 키에 대 한 액세스 권한이 필요한 ASP.NET MVC 앱입니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-108">The sample code is a simple WebJob console app and a ASP.NET MVC app that needs access to a database connection string password, Twilio, Google and SendGrid secure keys.</span></span>
> 
> <span data-ttu-id="ffc69-109">온-프레미스 설정 및 PHP도 설명 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-109">On premise settings and PHP is also mentioned.</span></span>

- [<span data-ttu-id="ffc69-110">개발 환경에서 암호 작업</span><span class="sxs-lookup"><span data-stu-id="ffc69-110">Working with passwords in the development environment</span></span>](#pwd)
- [<span data-ttu-id="ffc69-111">개발 환경에서 연결 문자열 작업</span><span class="sxs-lookup"><span data-stu-id="ffc69-111">Working with connection strings in the development environment</span></span>](#con)
- [<span data-ttu-id="ffc69-112">WebJobs 콘솔 앱</span><span class="sxs-lookup"><span data-stu-id="ffc69-112">WebJobs console apps</span></span>](#wj)
- [<span data-ttu-id="ffc69-113">Azure에 비밀 배포</span><span class="sxs-lookup"><span data-stu-id="ffc69-113">Deploying secrets to Azure</span></span>](#da)
- [<span data-ttu-id="ffc69-114">온-프레미스 및 PHP에 대 한 참고 사항</span><span class="sxs-lookup"><span data-stu-id="ffc69-114">Notes for On-Premise and PHP</span></span>](#not)
- [<span data-ttu-id="ffc69-115">추가 리소스</span><span class="sxs-lookup"><span data-stu-id="ffc69-115">Additional Resources</span></span>](#addRes)

<a id="pwd"></a>
## <a name="working-with-passwords-in-the-development-environment"></a><span data-ttu-id="ffc69-116">개발 환경에서 암호 작업</span><span class="sxs-lookup"><span data-stu-id="ffc69-116">Working with passwords in the development environment</span></span>

<span data-ttu-id="ffc69-117">자습서는 중요 한 데이터를 소스 코드에 자주 표시 하 고, 중요 한 데이터를 소스 코드에 저장 하지 않는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-117">Tutorials frequently show sensitive data in source code, hopefully with a caveat that you should never store sensitive data in source code.</span></span> <span data-ttu-id="ffc69-118">예를 들어 [SMS 및 전자 메일 2FA 자습서를 사용 하는 ASP.NET MVC 5 앱](../../../mvc/overview/security/aspnet-mvc-5-app-with-sms-and-email-two-factor-authentication.md) 은 web.config *파일에* 다음을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-118">For example, my [ASP.NET MVC 5 app with SMS and email 2FA](../../../mvc/overview/security/aspnet-mvc-5-app-with-sms-and-email-two-factor-authentication.md) tutorial shows the following in the *web.config* file:</span></span>

[!code-xml[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample1.xml)]

<span data-ttu-id="ffc69-119">Web.config *파일은* 소스 코드 이므로 이러한 암호는 해당 파일에 저장 되지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-119">The *web.config* file is source code, so these secrets should never be stored in that file.</span></span> <span data-ttu-id="ffc69-120">다행히 `<appSettings>` 요소에는 중요 한 앱 구성 설정이 포함 된 외부 파일을 지정할 수 있는 `file` 특성이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-120">Fortunately, the `<appSettings>` element has a `file` attribute that allows you to specify an external file that contains sensitive app config settings.</span></span> <span data-ttu-id="ffc69-121">외부 파일이 원본 트리에 체크 인 되지 않은 경우 모든 비밀을 외부 파일로 이동할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-121">You can move all your secrets to an external file as long as the external file is not checked into your source tree.</span></span> <span data-ttu-id="ffc69-122">예를 들어 다음 태그에서 *Appsettingssecrets* 파일은 모든 앱 암호를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-122">For example, in the following markup, the file *AppSettingsSecrets.config* contains all the app secrets:</span></span>

[!code-xml[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample2.xml)]

<span data-ttu-id="ffc69-123">외부 파일 (이 샘플의 경우*Appsettingssecrets* )의 태그는 *web.config 파일에* 있는 것과 동일한 태그입니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-123">The markup in the external file (*AppSettingsSecrets.config* in this sample), is the same markup found in the *web.config* file:</span></span>

[!code-xml[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample3.xml)]

<span data-ttu-id="ffc69-124">ASP.NET 런타임은 외부 파일의 내용을 &lt;appSettings&gt; 요소의 태그와 병합 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-124">The ASP.NET runtime merges the contents of the external file with the markup in &lt;appSettings&gt; element.</span></span> <span data-ttu-id="ffc69-125">지정된 파일을 찾을 수 없는 경우 런타임에서 파일 특성을 무시합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-125">The runtime ignores the file attribute if the specified file cannot be found.</span></span>

> [!WARNING]
> <span data-ttu-id="ffc69-126">보안-프로젝트에 *암호 .config* 파일을 추가 하거나 소스 제어에 체크 인 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-126">Security - Do not add your *secrets .config* file to your project or check it into source control.</span></span> <span data-ttu-id="ffc69-127">기본적으로 Visual Studio는 `Build Action`를 `Content`로 설정 합니다. 즉, 파일이 배포 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-127">By default, Visual Studio sets the `Build Action` to `Content`, which means the file is deployed.</span></span> <span data-ttu-id="ffc69-128">자세한 내용은 [내 프로젝트 폴더의 모든 파일을 배포 하지 않는 이유](https://msdn.microsoft.com/library/ee942158(v=vs.110).aspx#can_i_exclude_specific_files_or_folders_from_deployment) 를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="ffc69-128">For more information see [Why don't all of the files in my project folder get deployed?](https://msdn.microsoft.com/library/ee942158(v=vs.110).aspx#can_i_exclude_specific_files_or_folders_from_deployment)</span></span> <span data-ttu-id="ffc69-129">구성 파일이 IIS에서 제공 되지 않으므로이 *파일에* 대 한 모든 확장을 사용할 수는 있지만 구성 파일을 보관 하는 것이 좋습니다 *.*</span><span class="sxs-lookup"><span data-stu-id="ffc69-129">Although you can use any extension for the *secrets .config* file, it's best to keep it *.config*, as config files are not served by IIS.</span></span> <span data-ttu-id="ffc69-130">또한 *Appsettingssecrets* *파일은 web.config 파일의* 두 디렉터리 수준 이므로 솔루션 디렉터리에서 완전히 제외 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-130">Notice also that the *AppSettingsSecrets.config* file is two directory levels up from the *web.config* file, so it's completely out of the solution directory.</span></span> <span data-ttu-id="ffc69-131">솔루션 디렉터리에서 파일을 이동 하 여 &quot;git 추가 \*&quot; 리포지토리에 추가 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-131">By moving the file out of the solution directory, &quot;git add \*&quot; won't add it to your repository.</span></span>

<a id="con"></a>
## <a name="working-with-connection-strings-in-the-development-environment"></a><span data-ttu-id="ffc69-132">개발 환경에서 연결 문자열 작업</span><span class="sxs-lookup"><span data-stu-id="ffc69-132">Working with connection strings in the development environment</span></span>

<span data-ttu-id="ffc69-133">Visual Studio는 [LocalDB](https://blogs.msdn.com/b/sqlexpress/archive/2011/07/12/introducing-localdb-a-better-sql-express.aspx)를 사용 하는 새 ASP.NET 프로젝트를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-133">Visual Studio creates new ASP.NET projects that use [LocalDB](https://blogs.msdn.com/b/sqlexpress/archive/2011/07/12/introducing-localdb-a-better-sql-express.aspx).</span></span> <span data-ttu-id="ffc69-134">LocalDB는 개발 환경 전용으로 만들어졌습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-134">LocalDB was created specifically for the development environment.</span></span> <span data-ttu-id="ffc69-135">암호는 필요 하지 않으므로 소스 코드에서 비밀을 체크 인하지 못하도록 하기 위해 아무것도 수행할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-135">It doesn't require a password, therefore you don't need to do anything to prevent secrets from being checked into your source code.</span></span> <span data-ttu-id="ffc69-136">일부 개발 팀에서는 암호를 요구 하는 SQL Server (또는 기타 DBMS)의 전체 버전을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-136">Some development teams use the full versions of SQL Server (or other DBMS) that require a password.</span></span>

<span data-ttu-id="ffc69-137">`configSource` 특성을 사용 하 여 전체 `<connectionStrings>` 태그를 바꿀 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-137">You can use the `configSource` attribute to replace the entire `<connectionStrings>` markup.</span></span> <span data-ttu-id="ffc69-138">태그를 병합 하는 `<appSettings>` `file` 특성과 달리 `configSource` 특성은 태그를 대체 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-138">Unlike the `<appSettings>` `file` attribute that merges the markup, the `configSource` attribute replaces the markup.</span></span> <span data-ttu-id="ffc69-139">다음 태그는 *web.config 파일의* `configSource` 특성을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-139">The following markup shows the `configSource` attribute in the *web.config* file:</span></span>

[!code-xml[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample4.xml?highlight=1)]

> [!NOTE]
> <span data-ttu-id="ffc69-140">위에 표시 된 것 처럼 `configSource` 특성을 사용 하 여 연결 문자열을 외부 파일로 이동 하 고 Visual Studio에서 새 웹 사이트를 만들도록 하는 경우 데이터베이스를 사용 하 고 있는지 여부를 확인할 수 없으며 Visual Studio에서 Azure에 게시할 때 데이터베이스를 구성 하는 옵션을 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-140">If you use the `configSource` attribute as shown above to move your connection strings to an external file, and have Visual Studio create a new web site, it won't be able to detect you are using a database, and you won't get the option of configuring the database when you publish to Azure from Visual Studio.</span></span> <span data-ttu-id="ffc69-141">`configSource` 특성을 사용 하는 경우 PowerShell을 사용 하 여 웹 사이트 및 데이터베이스를 만들고 배포할 수 있습니다. 또는 게시 하기 전에 포털에서 웹 사이트 및 데이터베이스를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-141">If you are using the `configSource` attribute, you can use PowerShell to create and deploy your web site and database, or you can create the web site and the database in the portal before you publish.</span></span> <span data-ttu-id="ffc69-142">[New-AzureWebsitewithDB](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) 스크립트는 새 웹 사이트 및 데이터베이스를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-142">The [New-AzureWebsitewithDB.ps1](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) script will create a new web site and database.</span></span>

> [!WARNING]
> <span data-ttu-id="ffc69-143">보안- *Appsettingssecrets* 파일의 경우와 달리, 외부 연결 문자열 파일 *은 루트 web.config* 파일과 동일한 디렉터리에 있어야 하므로 원본 리포지토리에 체크 인 하지 않도록 주의 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-143">Security - Unlike the *AppSettingsSecrets.config* file, the external connection strings file must be in the same directory as the root *web.config* file, so you'll have to take precautions to ensure you don't check it into your source repository.</span></span>

> [!NOTE]
> <span data-ttu-id="ffc69-144">**비밀 파일의 보안 경고:** 테스트 및 개발에서 프로덕션 암호를 사용 하지 않는 것이 가장 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-144">**Security Warning on secrets file:** A best practice is to not use production secrets in test and development.</span></span> <span data-ttu-id="ffc69-145">테스트 또는 개발에서 프로덕션 암호를 사용 하면 이러한 비밀을 누출 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-145">Using production passwords in test or development leaks those secrets.</span></span>

<a id="wj"></a>
## <a name="webjobs-console-apps"></a><span data-ttu-id="ffc69-146">WebJobs 콘솔 앱</span><span class="sxs-lookup"><span data-stu-id="ffc69-146">WebJobs console apps</span></span>

<span data-ttu-id="ffc69-147">콘솔 앱에서 사용 하는 *app.config* 파일은 상대 경로를 지원 하지 않지만 절대 경로를 지원 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-147">The *app.config* file used by a console app doesn't support relative paths, but it does support absolute paths.</span></span> <span data-ttu-id="ffc69-148">절대 경로를 사용 하 여 프로젝트 디렉터리에서 비밀을 이동할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-148">You can use an absolute path to move your secrets out of your project directory.</span></span> <span data-ttu-id="ffc69-149">다음 태그는 *app.config* 파일에 있는 *C:\secrets\AppSettingsSecrets.config* 파일 및 중요 하지 않은 데이터의 비밀을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-149">The following markup shows the secrets in the *C:\secrets\AppSettingsSecrets.config* file, and non sensitive data in the *app.config* file.</span></span>

[!code-xml[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample5.xml?highlight=2)]

<a id="da"></a>
## <a name="deploying-secrets-to-azure"></a><span data-ttu-id="ffc69-150">Azure에 비밀 배포</span><span class="sxs-lookup"><span data-stu-id="ffc69-150">Deploying secrets to Azure</span></span>

<span data-ttu-id="ffc69-151">Azure에 웹 앱을 배포 하는 경우 *Appsettingssecrets .config* 파일이 배포 되지 않습니다 (원하는 항목).</span><span class="sxs-lookup"><span data-stu-id="ffc69-151">When you deploy your web app to Azure, the *AppSettingsSecrets.config* file won't be deployed (that's what you want).</span></span> <span data-ttu-id="ffc69-152">[Azure 관리 포털](https://azure.microsoft.com/services/management-portal/) 로 이동 하 고 수동으로 설정 하 여 다음과 같은 작업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-152">You could go to the [Azure Management Portal](https://azure.microsoft.com/services/management-portal/) and set them manually, to do that:</span></span>

1. <span data-ttu-id="ffc69-153">[https://portal.azure.com](https://portal.azure.com)로 이동 하 고 Azure 자격 증명을 사용 하 여 로그인 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-153">Go to [https://portal.azure.com](https://portal.azure.com), and sign in with your Azure credentials.</span></span>
2. <span data-ttu-id="ffc69-154">**찾아보기 &gt; Web Apps**를 클릭 한 다음 웹 앱의 이름을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-154">Click **Browse &gt; Web Apps**, then click the name of your web app.</span></span>
3. <span data-ttu-id="ffc69-155">**모든 설정 &gt; 응용 프로그램 설정**을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-155">Click **All settings &gt; Application settings**.</span></span>

<span data-ttu-id="ffc69-156">**앱 설정** 및 **연결 문자열** 값이 *web.config 파일의* 동일한 설정을 재정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-156">The **app settings** and **connection string** values override the same settings in the *web.config* file.</span></span> <span data-ttu-id="ffc69-157">이 예제에서는 Azure에 이러한 설정을 배포 하지 않았지만 이러한 *키가 web.config 파일에* 있는 경우 포털에 표시 되는 설정이 우선 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-157">In our example, we did not deploy these settings to Azure, but if these keys were in the *web.config* file, the settings shown on the portal would take precedence.</span></span>

<span data-ttu-id="ffc69-158">[Devops 워크플로](../../../aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/automate-everything.md) 를 따르고 [Azure PowerShell](https://azure.microsoft.com/documentation/articles/install-configure-powershell/) (또는 [Chef](http://www.opscode.com/chef/) 또는 [퍼핏](http://puppetlabs.com/puppet/what-is-puppet)와 같은 다른 프레임 워크)를 사용 하 여 Azure에서 이러한 값을 자동으로 설정 하는 것이 가장 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-158">A best practice is to follow a [DevOps workflow](../../../aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/automate-everything.md) and use [Azure PowerShell](https://azure.microsoft.com/documentation/articles/install-configure-powershell/) (or another framework such as [Chef](http://www.opscode.com/chef/) or [Puppet](http://puppetlabs.com/puppet/what-is-puppet)) to automate setting these values in Azure.</span></span> <span data-ttu-id="ffc69-159">다음 PowerShell 스크립트는 [export-clixml](http://www.powershellcookbook.com/recipe/PukO/securely-store-credentials-on-disk) 를 사용 하 여 암호화 된 암호를 디스크로 내보냅니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-159">The following PowerShell script uses [Export-CliXml](http://www.powershellcookbook.com/recipe/PukO/securely-store-credentials-on-disk) to export the encrypted secrets to disk:</span></span>

[!code-powershell[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample6.ps1)]

<span data-ttu-id="ffc69-160">위의 스크립트에서 ' n a m e '은 '&quot;FB\_AppSecret&quot; 또는 "TwitterSecret"와 같은 비밀 키의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-160">In the script above, ‘Name' is the name of the secret key, such as ‘&quot;FB\_AppSecret&quot; or "TwitterSecret".</span></span> <span data-ttu-id="ffc69-161">브라우저에서 스크립트를 통해 만든 "credential" 파일을 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-161">You can view the ".credential" file created by the script in your browser.</span></span> <span data-ttu-id="ffc69-162">아래 코드 조각은 각 자격 증명 파일을 테스트 하 고 명명 된 웹 앱에 대 한 암호를 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-162">The snippet below tests each of the credential files and sets the secrets for the named web app:</span></span>

[!code-powershell[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample7.ps1)]

> [!WARNING]
> <span data-ttu-id="ffc69-163">보안-PowerShell 스크립트에 암호 또는 기타 암호를 포함 하지 마십시오. 이렇게 하면 PowerShell 스크립트를 사용 하 여 중요 한 데이터를 배포 하는 목적이 무효화 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-163">Security - Don't include passwords or other secrets in the PowerShell script, doing so defeats the purpose of using a PowerShell script to deploy sensitive data.</span></span> <span data-ttu-id="ffc69-164">[자격 증명 가져오기](https://technet.microsoft.com/library/hh849815.aspx) cmdlet은 암호를 얻기 위한 보안 메커니즘을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-164">The [Get-Credential](https://technet.microsoft.com/library/hh849815.aspx) cmdlet provides a secure mechanism to obtain a password.</span></span> <span data-ttu-id="ffc69-165">UI 프롬프트를 사용 하면 암호 누수가 발생 하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-165">Using a UI prompt can prevent leaking a password.</span></span>

### <a name="deploying-db-connection-strings"></a><span data-ttu-id="ffc69-166">DB 연결 문자열 배포</span><span class="sxs-lookup"><span data-stu-id="ffc69-166">Deploying DB connection strings</span></span>

<span data-ttu-id="ffc69-167">DB 연결 문자열은 앱 설정과 유사 하 게 처리 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-167">DB connection strings are handled similarly to app settings.</span></span> <span data-ttu-id="ffc69-168">Visual Studio에서 웹 앱을 배포 하는 경우 연결 문자열이 구성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-168">If you deploy your web app from Visual Studio, the connection string will be configured for you.</span></span> <span data-ttu-id="ffc69-169">포털에서이를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-169">You can verify this in the portal.</span></span> <span data-ttu-id="ffc69-170">연결 문자열을 설정 하는 권장 방법은 PowerShell을 사용 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-170">The recommended way to set the connection string is with PowerShell.</span></span> <span data-ttu-id="ffc69-171">PowerShell 스크립트의 예를 보려면에서 웹 사이트 및 데이터베이스를 만들고 [Azure 스크립트 라이브러리](https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure)에서 [New-AzureWebsitewithDB](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) 를 다운로드 하 여 웹 사이트의 연결 문자열을 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-171">For an example of a PowerShell script the creates a website and database and sets the connection string in the website, download [New-AzureWebsitewithDB.ps1](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) from the [Azure Script library](https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure).</span></span>

<a id="not"></a>
## <a name="notes-for-php"></a><span data-ttu-id="ffc69-172">PHP에 대 한 참고 사항</span><span class="sxs-lookup"><span data-stu-id="ffc69-172">Notes for PHP</span></span>

<span data-ttu-id="ffc69-173">**앱 설정** 및 **연결 문자열** 의 키-값 쌍은 Azure App Service의 환경 변수에 저장 되므로 PHP와 같은 웹 앱 프레임 워크를 사용 하는 개발자는 이러한 값을 쉽게 검색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-173">Since the key-value pairs for both **app settings** and **connection strings** are stored in environment variables on Azure App Service, developers that use any web app frameworks (such as PHP) can easily retrieve these values.</span></span> <span data-ttu-id="ffc69-174">Stefan Schackow 's [Microsoft Azure 웹 사이트: 응용 프로그램 문자열 및 연결 문자열 작동 방식](https://azure.microsoft.com/blog/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work/) 블로그 게시물에서 앱 설정 및 연결 문자열을 읽는 PHP 코드 조각을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-174">See Stefan Schackow's [Windows Azure Web Sites: How Application Strings and Connection Strings Work](https://azure.microsoft.com/blog/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work/) blog post which shows a PHP snippet to read app settings and connection strings.</span></span>

## <a name="notes-for-on-premises-servers"></a><span data-ttu-id="ffc69-175">온-프레미스 서버에 대 한 참고 사항</span><span class="sxs-lookup"><span data-stu-id="ffc69-175">Notes for on-premises servers</span></span>

<span data-ttu-id="ffc69-176">온-프레미스 웹 서버에 배포 하는 경우 [구성 파일의 구성 섹션을 암호화](https://msdn.microsoft.com/library/ff647398.aspx)하 여 비밀을 보호할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-176">If you are deploying to on-premises web servers, you can help secure secrets by [encrypting the configuration sections of configuration files](https://msdn.microsoft.com/library/ff647398.aspx).</span></span> <span data-ttu-id="ffc69-177">또는 Azure Websites에 권장 되는 동일한 방법을 사용할 수 있습니다. 구성 파일에서 개발 설정을 유지 하 고 프로덕션 설정에 환경 변수 값을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-177">As an alternative, you can use the same approach recommended for Azure Websites: keep development settings in configuration files, and use environment variable values for production settings.</span></span> <span data-ttu-id="ffc69-178">그러나이 경우에는 Azure Websites에서 자동 인 기능의 응용 프로그램 코드를 작성 해야 합니다. 환경 변수에서 설정을 검색 하 고 구성 파일 설정 대신 해당 값을 사용 하거나 구성 파일 설정을 사용 합니다. 환경 변수를 찾을 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-178">In this case, however, you have to write application code for functionality that is automatic in Azure Websites: retrieve settings from environment variables and use those values in place of configuration file settings, or use configuration file settings when environment variables are not found.</span></span>

<a id="addRes"></a>
## <a name="additional-resources"></a><span data-ttu-id="ffc69-179">추가 리소스</span><span class="sxs-lookup"><span data-stu-id="ffc69-179">Additional Resources</span></span>

<span data-ttu-id="ffc69-180">웹 앱 + 데이터베이스를 만드는 PowerShell 스크립트의 예를 보려면 [Azure 스크립트 라이브러리](https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure)에서 연결 문자열 + 앱 설정, [New-AzureWebsitewithDB](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) 다운로드를 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-180">For an example of a PowerShell script that creates a web app + database, sets the connection string + app settings, download [New-AzureWebsitewithDB.ps1](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) from the [Azure Script library](https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure).</span></span> 

<span data-ttu-id="ffc69-181">Stefan Schackow 's [Microsoft Azure 웹 사이트: 응용 프로그램 문자열 및 연결 문자열 작동 방식을](https://azure.microsoft.com/blog/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work/) 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="ffc69-181">See Stefan Schackow's [Windows Azure Web Sites: How Application Strings and Connection Strings Work](https://azure.microsoft.com/blog/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work/)</span></span>

<span data-ttu-id="ffc69-182">검토를 위해 [@blowdart](https://twitter.com/blowdart) (Barry Dorrans) 및 Carlos Farre에 대해 특별히 감사 합니다.</span><span class="sxs-lookup"><span data-stu-id="ffc69-182">Special thanks to Barry Dorrans ( [@blowdart](https://twitter.com/blowdart) ) and Carlos Farre for reviewing.</span></span>
