---
uid: web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/shopping-cart
title: 쇼핑 카트 | Microsoft Docs
author: Erikre
description: 이 자습서 시리즈는 ASP.NET 4.5 및 Microsoft Visual Studio Express 2013을 사용 하 여 것에 대 한 ASP.NET Web Forms 응용 프로그램을 빌드하는 기본 사항 설명 하는 중...
ms.author: riande
ms.date: 09/08/2014
ms.assetid: 6898c601-6c31-432f-8388-e6843f8a17cb
msc.legacyurl: /web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/shopping-cart
msc.type: authoredcontent
ms.openlocfilehash: e079318b37563b1b7afe0f842f5b463541de0a81
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59405432"
---
# <a name="shopping-cart"></a><span data-ttu-id="f3a51-103">쇼핑 카트</span><span class="sxs-lookup"><span data-stu-id="f3a51-103">Shopping Cart</span></span>

<span data-ttu-id="f3a51-104">[Erik Reitan](https://github.com/Erikre)</span><span class="sxs-lookup"><span data-stu-id="f3a51-104">by [Erik Reitan](https://github.com/Erikre)</span></span>

<span data-ttu-id="f3a51-105">[Wingtip Toys 샘플 프로젝트 (C#)를 다운로드](http://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) 또는 [전자책 (PDF) 다운로드](http://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span><span class="sxs-lookup"><span data-stu-id="f3a51-105">[Download Wingtip Toys Sample Project (C#)](http://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) or [Download E-book (PDF)](http://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span></span>

> <span data-ttu-id="f3a51-106">이 자습서 시리즈는 ASP.NET 4.5와 Microsoft Visual Studio Express 2013 for Web 사용 하 여 ASP.NET Web Forms 응용 프로그램을 빌드하는 기본 사항을 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-106">This tutorial series will teach you the basics of building an ASP.NET Web Forms application using ASP.NET 4.5 and Microsoft Visual Studio Express 2013 for Web.</span></span> <span data-ttu-id="f3a51-107">Visual Studio 2013 [C# 소스 코드를 사용 하 여 프로젝트](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) 이 자습서 시리즈를 함께 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-107">A Visual Studio 2013 [project with C# source code](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) is available to accompany this tutorial series.</span></span>


<span data-ttu-id="f3a51-108">이 자습서에서는 Wingtip Toys 샘플 ASP.NET Web Forms 응용 프로그램에 쇼핑 카트에 추가 하는 데 필요한 비즈니스 논리를 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-108">This tutorial describes the business logic required to add a shopping cart to the Wingtip Toys sample ASP.NET Web Forms application.</span></span> <span data-ttu-id="f3a51-109">이 자습서는 이전 자습서 "데이터 항목 및 세부 정보를 표시" 빌드하고 Wingtip 장난감 자습서 시리즈의 일부입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-109">This tutorial builds on the previous tutorial "Display Data Items and Details" and is part of the Wingtip Toy Store tutorial series.</span></span> <span data-ttu-id="f3a51-110">이 자습서를 완료 하면 샘플 앱의 사용자 추가, 제거 및 시장 바구니의 제품을 수정 하는 일을 할 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-110">When you've completed this tutorial, the users of your sample app will be able to add, remove, and modify the products in their shopping cart.</span></span>

## <a name="what-youll-learn"></a><span data-ttu-id="f3a51-111">학습할 내용:</span><span class="sxs-lookup"><span data-stu-id="f3a51-111">What you'll learn:</span></span>

1. <span data-ttu-id="f3a51-112">웹 응용 프로그램의 쇼핑 카트를 만드는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-112">How to create a shopping cart for the web application.</span></span>
2. <span data-ttu-id="f3a51-113">사용자가 장바구니에 항목을 추가 하는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-113">How to enable users to add items to the shopping cart.</span></span>
3. <span data-ttu-id="f3a51-114">추가 하는 방법에 [GridView](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview(v=vs.110).aspx#introduction) 쇼핑 카트 세부 정보를 표시 하는 컨트롤입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-114">How to add a [GridView](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview(v=vs.110).aspx#introduction) control to display shopping cart details.</span></span>
4. <span data-ttu-id="f3a51-115">계산 및 주문 합계를 표시 하는 방법.</span><span class="sxs-lookup"><span data-stu-id="f3a51-115">How to calculate and display the order total.</span></span>
5. <span data-ttu-id="f3a51-116">제거 하 고 장바구니에 항목을 업데이트 하는 방법.</span><span class="sxs-lookup"><span data-stu-id="f3a51-116">How to remove and update items in the shopping cart.</span></span>
6. <span data-ttu-id="f3a51-117">쇼핑 카트 카운터를 포함 하는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-117">How to include a shopping cart counter.</span></span>

## <a name="code-features-in-this-tutorial"></a><span data-ttu-id="f3a51-118">이 자습서의 코드 기능:</span><span class="sxs-lookup"><span data-stu-id="f3a51-118">Code features in this tutorial:</span></span>

1. <span data-ttu-id="f3a51-119">Entity Framework Code First</span><span class="sxs-lookup"><span data-stu-id="f3a51-119">Entity Framework Code First</span></span>
2. <span data-ttu-id="f3a51-120">데이터 주석</span><span class="sxs-lookup"><span data-stu-id="f3a51-120">Data Annotations</span></span>
3. <span data-ttu-id="f3a51-121">강력한 형식의 데이터 컨트롤</span><span class="sxs-lookup"><span data-stu-id="f3a51-121">Strongly typed data controls</span></span>
4. <span data-ttu-id="f3a51-122">모델 바인딩</span><span class="sxs-lookup"><span data-stu-id="f3a51-122">Model binding</span></span>

## <a name="creating-a-shopping-cart"></a><span data-ttu-id="f3a51-123">쇼핑 카트 만들기</span><span class="sxs-lookup"><span data-stu-id="f3a51-123">Creating a Shopping Cart</span></span>

<span data-ttu-id="f3a51-124">이 자습서 시리즈의 앞부분에 나오는 페이지와 데이터베이스에서 제품 데이터를 보려면 코드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-124">Earlier in this tutorial series, you added pages and code to view product data from a database.</span></span> <span data-ttu-id="f3a51-125">이 자습서에서는 제품을 관리 하는 쇼핑 카트를 만든 사용자가 구매 관심 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-125">In this tutorial, you'll create a shopping cart to manage the products that users are interested in buying.</span></span> <span data-ttu-id="f3a51-126">사용자는 수를 찾아서 등록 하거나 로그인 하지 않더라도 장바구니에 항목을 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-126">Users will be able to browse and add items to the shopping cart even if they are not registered or logged in.</span></span> <span data-ttu-id="f3a51-127">쇼핑 카트 액세스를 관리 하려면 할당할 예정 이므로 사용자가 고유한 `ID` 처음 카트에 쇼핑을 사용자가 액세스 하는 경우에 전역적으로 고유 식별자 (GUID)를 사용 하 여 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-127">To manage shopping cart access, you will assign users a unique `ID` using a globally unique identifier (GUID) when the user accesses the shopping cart for the first time.</span></span> <span data-ttu-id="f3a51-128">이 저장 `ID` ASP.NET 세션 상태를 사용 하 여 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-128">You'll store this `ID` using the ASP.NET Session state.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="f3a51-129">ASP.NET 세션 상태가 사용자 사이트를 퇴사 만료 되는 사용자 관련 정보를 저장 하는 편리한 장소입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-129">The ASP.NET Session state is a convenient place to store user-specific information which will expire after the user leaves the site.</span></span> <span data-ttu-id="f3a51-130">세션 상태를 잘못 사용 하면 대규모 사이트에 성능에 미치는 영향을 미칠 수 있습니다, 있지만 light 세션 상태 작동 데모 용도로 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-130">While misuse of session state can have performance implications on larger sites, light use of session state works well for demonstration purposes.</span></span> <span data-ttu-id="f3a51-131">Wingtip Toys 샘플 프로젝트에 세션 상태가 저장된-프로세스에서 사이트를 호스팅하는 웹 서버에 있는 외부 공급자로 없이 세션 상태를 사용 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-131">The Wingtip Toys sample project shows how to use session state without an external provider, where session state is stored in-process on the web server hosting the site.</span></span> <span data-ttu-id="f3a51-132">응용 프로그램의 여러 인스턴스를 제공 하는 대규모 사이트 또는 다른 서버에서 응용 프로그램의 여러 인스턴스를 실행 하는 사이트에 대 한 사용을 고려 **Windows Azure Cache Service**합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-132">For larger sites that provide multiple instances of an application or for sites that run multiple instances of an application on different servers, consider using **Windows Azure Cache Service**.</span></span> <span data-ttu-id="f3a51-133">이 캐시 서비스는 외부 웹 사이트에 있으며 in-process 세션 상태를 사용 하 여 문제를 해결 하는 분산된 캐싱 서비스를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-133">This Cache Service provides a distributed caching service that is external to the web site and solves the problem of using in-process session state.</span></span> <span data-ttu-id="f3a51-134">자세한 내용은 참조 하십시오 [사용 하 여 ASP.NET 세션 상태 Windows Azure 웹 사이트와 방법](https://docs.microsoft.com/azure/redis-cache/cache-aspnet-session-state-provider)합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-134">For more information see, [How to Use ASP.NET Session State with Windows Azure Web Sites](https://docs.microsoft.com/azure/redis-cache/cache-aspnet-session-state-provider).</span></span>


### <a name="add-cartitem-as-a-model-class"></a><span data-ttu-id="f3a51-135">CartItem 모델 클래스 추가</span><span class="sxs-lookup"><span data-stu-id="f3a51-135">Add CartItem as a Model Class</span></span>

<span data-ttu-id="f3a51-136">이 자습서 시리즈의 앞부분에서 만들어 범주 및 제품 데이터에 대 한 스키마를 정의 합니다 `Category` 하 고 `Product` 의 클래스를 *모델* 폴더.</span><span class="sxs-lookup"><span data-stu-id="f3a51-136">Earlier in this tutorial series, you defined the schema for the category and product data by creating the `Category` and `Product` classes in the *Models* folder.</span></span> <span data-ttu-id="f3a51-137">이제 장바구니에 대 한 스키마를 정의 하는 새 클래스를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-137">Now, add a new class to define the schema for the shopping cart.</span></span> <span data-ttu-id="f3a51-138">이 자습서의 뒷부분에서 추가한 데이터에 대 한 액세스를 처리 하는 클래스는 `CartItem` 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-138">Later in this tutorial, you will add a class to handle data access to the `CartItem` table.</span></span> <span data-ttu-id="f3a51-139">이 클래스에는 추가, 제거 및 시장 바구니에 항목을 업데이트 하는 비즈니스 논리가 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-139">This class will provide the business logic to add, remove, and update items in the shopping cart.</span></span>

1. <span data-ttu-id="f3a51-140">마우스 오른쪽 단추로 클릭 합니다 *모델* 선택한 폴더 **추가**  - &gt; **새 항목**합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-140">Right-click the *Models* folder and select **Add** -&gt; **New Item**.</span></span> 

    ![쇼핑 카트-새 항목](shopping-cart/_static/image1.png)
2. <span data-ttu-id="f3a51-142">**새 항목 추가** 대화 상자가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-142">The **Add New Item** dialog box is displayed.</span></span> <span data-ttu-id="f3a51-143">선택 **코드**를 선택한 후 **클래스**합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-143">Select **Code**, and then select **Class**.</span></span> 

    ![쇼핑 카트-새 항목 추가 대화 상자](shopping-cart/_static/image2.png)
3. <span data-ttu-id="f3a51-145">이 새 클래스 이름을 *CartItem.cs*합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-145">Name this new class *CartItem.cs*.</span></span>
4. <span data-ttu-id="f3a51-146">**추가**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-146">Click **Add**.</span></span>  
   <span data-ttu-id="f3a51-147">새 클래스 파일을 편집기에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-147">The new class file is displayed in the editor.</span></span>
5. <span data-ttu-id="f3a51-148">기본 코드를 다음 코드로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-148">Replace the default code with the following code:</span></span>   

    [!code-csharp[Main](shopping-cart/samples/sample1.cs)]

<span data-ttu-id="f3a51-149">`CartItem` 사용자 쇼핑 카트에 추가 하는 각 제품에 정의한 스키마를 포함 하는 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-149">The `CartItem` class contains the schema that will define each product a user adds to the shopping cart.</span></span> <span data-ttu-id="f3a51-150">이 클래스는이 자습서 시리즈의 앞부분에서 만든 다른 스키마 클래스와 비슷합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-150">This class is similar to the other schema classes you created earlier in this tutorial series.</span></span> <span data-ttu-id="f3a51-151">규칙에 따라 Entity Framework Code First 예상 하는 기본 키를 `CartItem` 테이블 중 하나가 됩니다 `CartItemId` 또는 `ID`합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-151">By convention, Entity Framework Code First expects that the primary key for the `CartItem` table will be either `CartItemId` or `ID`.</span></span> <span data-ttu-id="f3a51-152">코드 데이터 주석을 사용 하 여 기본 동작을 재정의 하는 반면 `[Key]` 특성입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-152">However, the code overrides the default behavior by using the data annotation `[Key]` attribute.</span></span> <span data-ttu-id="f3a51-153">`Key` ItemId 속성의 특성을 지정 하는 `ItemID` 속성이 기본 키입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-153">The `Key` attribute of the ItemId property specifies that the `ItemID` property is the primary key.</span></span>

<span data-ttu-id="f3a51-154">합니다 `CartId` 속성을 지정 합니다 `ID` 구매 항목과 연결 된 사용자의 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-154">The `CartId` property specifies the `ID` of the user that is associated with the item to purchase.</span></span> <span data-ttu-id="f3a51-155">이 사용자를 만드는 코드를 추가할 `ID` 사용자가 장바구니를 액세스 하는 경우.</span><span class="sxs-lookup"><span data-stu-id="f3a51-155">You'll add code to create this user `ID` when the user accesses the shopping cart.</span></span> <span data-ttu-id="f3a51-156">이 `ID` 도 ASP.NET 세션 변수로 저장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-156">This `ID` will also be stored as an ASP.NET Session variable.</span></span>

### <a name="update-the-product-context"></a><span data-ttu-id="f3a51-157">제품 컨텍스트 업데이트</span><span class="sxs-lookup"><span data-stu-id="f3a51-157">Update the Product Context</span></span>

<span data-ttu-id="f3a51-158">추가 하는 것 외에도 `CartItem` 엔터티 클래스를 관리 하 고 데이터베이스에 대 한 데이터 액세스를 제공 하는 데이터베이스 컨텍스트 클래스를 업데이트 해야 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-158">In addition to adding the `CartItem` class, you will need to update the database context class that manages the entity classes and that provides data access to the database.</span></span> <span data-ttu-id="f3a51-159">이렇게 하려면 새로 만든 추가 합니다 `CartItem` 모델에 클래스는 `ProductContext` 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-159">To do this, you will add the newly created `CartItem` model class to the `ProductContext` class.</span></span>

1. <span data-ttu-id="f3a51-160">**솔루션 탐색기**, 찾기 및 열기를 *ProductContext.cs* 파일을 *모델* 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-160">In **Solution Explorer**, find and open the *ProductContext.cs* file in the *Models* folder.</span></span>
2. <span data-ttu-id="f3a51-161">강조 표시 된 코드를 추가 합니다 *ProductContext.cs* 다음과 같이 파일:</span><span class="sxs-lookup"><span data-stu-id="f3a51-161">Add the highlighted code to the *ProductContext.cs* file as follows:</span></span>  

    [!code-csharp[Main](shopping-cart/samples/sample2.cs?highlight=14)]

<span data-ttu-id="f3a51-162">이 자습서 시리즈의 코드에서 이전에 설명한 것 처럼 합니다 *ProductContext.cs* 파일 추가 `System.Data.Entity` 네임 스페이스 Entity Framework의 모든 핵심 기능에 액세스할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-162">As mentioned previously in this tutorial series, the code in the *ProductContext.cs* file adds the `System.Data.Entity` namespace so that you have access to all the core functionality of the Entity Framework.</span></span> <span data-ttu-id="f3a51-163">이 기능은 쿼리, 삽입, 업데이트 및 강력한 형식의 개체를 사용 하 여 데이터를 삭제 하는 기능을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-163">This functionality includes the capability to query, insert, update, and delete data by working with strongly typed objects.</span></span> <span data-ttu-id="f3a51-164">합니다 `ProductContext` 하 고 새로 추가한 액세스를 추가 하는 클래스 `CartItem` 모델 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-164">The `ProductContext` class adds access to the newly added `CartItem` model class.</span></span>

### <a name="managing-the-shopping-cart-business-logic"></a><span data-ttu-id="f3a51-165">쇼핑 카트 비즈니스 논리를 관리합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-165">Managing the Shopping Cart Business Logic</span></span>

<span data-ttu-id="f3a51-166">만든 다음에 `ShoppingCart` 클래스의 새 *논리* 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-166">Next, you'll create the `ShoppingCart` class in a new *Logic* folder.</span></span> <span data-ttu-id="f3a51-167">합니다 `ShoppingCart` 에 대 한 데이터 액세스를 처리 하는 클래스는 `CartItem` 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-167">The `ShoppingCart` class handles data access to the `CartItem` table.</span></span> <span data-ttu-id="f3a51-168">클래스 추가, 제거 및 시장 바구니에 항목을 업데이트 하는 비즈니스 논리가 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-168">The class will also include the business logic to add, remove, and update items in the shopping cart.</span></span>

<span data-ttu-id="f3a51-169">쇼핑 카트 하는 논리를 추가한 다음 작업을 관리 하는 기능을 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-169">The shopping cart logic that you will add will contain the functionality to manage the following actions:</span></span>

1. <span data-ttu-id="f3a51-170">쇼핑 카트에 항목 추가</span><span class="sxs-lookup"><span data-stu-id="f3a51-170">Adding items to the shopping cart</span></span>
2. <span data-ttu-id="f3a51-171">장바구니에서 항목 제거</span><span class="sxs-lookup"><span data-stu-id="f3a51-171">Removing items from the shopping cart</span></span>
3. <span data-ttu-id="f3a51-172">쇼핑 카트 ID 가져오기</span><span class="sxs-lookup"><span data-stu-id="f3a51-172">Getting the shopping cart ID</span></span>
4. <span data-ttu-id="f3a51-173">장바구니에서 항목을 가져오는 중</span><span class="sxs-lookup"><span data-stu-id="f3a51-173">Retrieving items from the shopping cart</span></span>
5. <span data-ttu-id="f3a51-174">모든 쇼핑 카트 항목의 크기를 합계 해</span><span class="sxs-lookup"><span data-stu-id="f3a51-174">Totaling the amount of all the shopping cart items</span></span>
6. <span data-ttu-id="f3a51-175">쇼핑 카트 데이터를 업데이트 하는 중</span><span class="sxs-lookup"><span data-stu-id="f3a51-175">Updating the shopping cart data</span></span>

<span data-ttu-id="f3a51-176">쇼핑 카트 페이지 (*ShoppingCart.aspx*) 쇼핑 카트 데이터를 액세스 하려면 쇼핑 카트 클래스를 함께 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-176">A shopping cart page (*ShoppingCart.aspx*) and the shopping cart class will be used together to access shopping cart data.</span></span> <span data-ttu-id="f3a51-177">쇼핑 카트 페이지에는 사용자가 장바구니에 추가 항목을 모두 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-177">The shopping cart page will display all the items the user adds to the shopping cart.</span></span> <span data-ttu-id="f3a51-178">쇼핑 카트에서 페이지 및 클래스 외에 페이지를 만듭니다 (*AddToCart.aspx*) 하 고 쇼핑 카트에 제품을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-178">Besides the shopping cart page and class, you'll create a page (*AddToCart.aspx*) to add products to the shopping cart.</span></span> <span data-ttu-id="f3a51-179">코드를 추가 합니다는 *ProductList.aspx* 페이지 및 *ProductDetails.aspx* 링크를 제공 하는 페이지를 *AddToCart.aspx* 사용자를 추가할 수 있도록 페이지 쇼핑 카트에 제품입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-179">You will also add code to the *ProductList.aspx* page and the *ProductDetails.aspx* page that will provide a link to the *AddToCart.aspx* page, so that the user can add products to the shopping cart.</span></span>

<span data-ttu-id="f3a51-180">다음 다이어그램은 사용자 쇼핑 카트에 제품을 추가할 때 발생 하는 기본 프로세스를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-180">The following diagram shows the basic process that occurs when the user adds a product to the shopping cart.</span></span>

![쇼핑 카트-쇼핑 카트에 추가](shopping-cart/_static/image3.png)

<span data-ttu-id="f3a51-182">클릭할 때 합니다 **Add To Cart** 링크에는 *ProductList.aspx* 페이지 또는 *ProductDetails.aspx* 페이지에서 응용 프로그램 이동 합니다 *AddToCart.aspx* 페이지 다음에 자동으로 *ShoppingCart.aspx* 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-182">When the user clicks the **Add To Cart** link on either the *ProductList.aspx* page or the *ProductDetails.aspx* page, the application will navigate to the *AddToCart.aspx* page and then automatically to the *ShoppingCart.aspx* page.</span></span> <span data-ttu-id="f3a51-183">합니다 *AddToCart.aspx* 페이지 ShoppingCart 클래스에서 메서드를 호출 하 여 쇼핑 카트에 제품 선택에 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-183">The *AddToCart.aspx* page will add the select product to the shopping cart by calling a method in the ShoppingCart class.</span></span> <span data-ttu-id="f3a51-184">합니다 *ShoppingCart.aspx* 쇼핑 카트에 추가 된 제품 페이지에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-184">The *ShoppingCart.aspx* page will display the products that have been added to the shopping cart.</span></span>

#### <a name="creating-the-shopping-cart-class"></a><span data-ttu-id="f3a51-185">쇼핑 카트 클래스 만들기</span><span class="sxs-lookup"><span data-stu-id="f3a51-185">Creating the Shopping Cart Class</span></span>

<span data-ttu-id="f3a51-186">`ShoppingCart` 클래스가 응용 프로그램에서 별도 폴더에 추가 되는 모델 (모델 폴더), 페이지 (루트 폴더) 및 (논리 폴더)에 논리를 명확히 구분 될 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-186">The `ShoppingCart` class will be added to a separate folder in the application so that there will be a clear distinction between the model (Models folder), the pages (root folder) and the logic (Logic folder).</span></span>

1. <span data-ttu-id="f3a51-187">**솔루션 탐색기**를 마우스 오른쪽 단추로 클릭 합니다 **WingtipToys**프로젝트를 마우스 **추가**-&gt;**새 폴더**.</span><span class="sxs-lookup"><span data-stu-id="f3a51-187">In **Solution Explorer**, right-click the **WingtipToys**project and select **Add**-&gt;**New Folder**.</span></span> <span data-ttu-id="f3a51-188">새 폴더의 이름을 *논리*합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-188">Name the new folder *Logic*.</span></span>
2. <span data-ttu-id="f3a51-189">마우스 오른쪽 단추로 클릭 합니다 *논리* 한 다음 선택한 폴더 **추가**  - &gt; **새 항목**합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-189">Right-click the *Logic* folder and then select **Add** -&gt; **New Item**.</span></span>
3. <span data-ttu-id="f3a51-190">라는 새 클래스 파일을 추가 *ShoppingCartActions.cs*합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-190">Add a new class file named *ShoppingCartActions.cs*.</span></span>
4. <span data-ttu-id="f3a51-191">기본 코드를 다음 코드로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-191">Replace the default code with the following code:</span></span>   

    [!code-csharp[Main](shopping-cart/samples/sample3.cs)]

<span data-ttu-id="f3a51-192">합니다 `AddToCart` 메서드를 사용 하면 제품에 따라 장바구니에 포함할 개별 제품 `ID`합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-192">The `AddToCart` method enables individual products to be included in the shopping cart based on the product `ID`.</span></span> <span data-ttu-id="f3a51-193">제품 장바구니에 더하거나 카트 해당 제품에 대 한 항목이 이미 있으면 수량 증가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-193">The product is added to the cart, or if the cart already contains an item for that product, the quantity is incremented.</span></span>

<span data-ttu-id="f3a51-194">합니다 `GetCartId` 반환 카트 `ID` 사용자에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-194">The `GetCartId` method returns the cart `ID` for the user.</span></span> <span data-ttu-id="f3a51-195">카트 `ID` 사용자가 장바구니에 있는 항목을 추적 하는 데 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-195">The cart `ID` is used to track the items that a user has in their shopping cart.</span></span> <span data-ttu-id="f3a51-196">사용자는 기존 카트 없으면 `ID`, 새 카트 `ID` 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-196">If the user does not have an existing cart `ID`, a new cart `ID` is created for them.</span></span> <span data-ttu-id="f3a51-197">등록 된 사용자의 카트 사용자가 로그인 하는 경우 `ID` 자신의 사용자 이름으로 설정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-197">If the user is signed in as a registered user, the cart `ID` is set to their user name.</span></span> <span data-ttu-id="f3a51-198">그러나 사용자가 바구니에 서명 되지 않은 경우 `ID` 고유 값 (GUID)로 설정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-198">However, if the user is not signed in, the cart `ID` is set to a unique value (a GUID).</span></span> <span data-ttu-id="f3a51-199">해당 하나만 카트가 세션에 따라 각 사용자에 대해 생성을 확인 하는 GUID입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-199">A GUID ensures that only one cart is created for each user, based on session.</span></span>

<span data-ttu-id="f3a51-200">`GetCartItems` 메서드 쇼핑 카트 항목 사용자에 대 한 목록을 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-200">The `GetCartItems` method returns a list of shopping cart items for the user.</span></span> <span data-ttu-id="f3a51-201">이 자습서의 뒷부분에서 보면 모델 바인딩을 사용 하 여 쇼핑 카트 카트에 항목을 표시를 사용 하 여 `GetCartItems` 메서드.</span><span class="sxs-lookup"><span data-stu-id="f3a51-201">Later in this tutorial, you will see that model binding is used to display the cart items in the shopping cart using the `GetCartItems` method.</span></span>

### <a name="creating-the-add-to-cart-functionality"></a><span data-ttu-id="f3a51-202">카트 추가 기능 만들기</span><span class="sxs-lookup"><span data-stu-id="f3a51-202">Creating the Add-To-Cart Functionality</span></span>

<span data-ttu-id="f3a51-203">라는 처리 페이지 앞에서 설명한 대로 만들어집니다 *AddToCart.aspx* 하는 데 사용할 사용자의 쇼핑 카트에 새 제품을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-203">As mentioned earlier, you will create a processing page named *AddToCart.aspx* that will be used to add new products to the shopping cart of the user.</span></span> <span data-ttu-id="f3a51-204">이 페이지는 호출을 `AddToCart` 의 메서드는 `ShoppingCart` 방금 만든 클래스.</span><span class="sxs-lookup"><span data-stu-id="f3a51-204">This page will call the `AddToCart` method in the `ShoppingCart` class that you just created.</span></span> <span data-ttu-id="f3a51-205">합니다 *AddToCart.aspx* 페이지는 것을 예상 하는 제품 `ID` 에 전달 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-205">The *AddToCart.aspx* page will expect that a product `ID` is passed to it.</span></span> <span data-ttu-id="f3a51-206">이 제품 `ID` 호출할 때 사용할 합니다 `AddToCart` 에서 메서드를 `ShoppingCart` 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-206">This product `ID` will be used when calling the `AddToCart` method in the `ShoppingCart` class.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="f3a51-207">관련 코드를 수정 합니다 (*AddToCart.aspx.cs*)이 페이지는 페이지 UI (*AddToCart.aspx*).</span><span class="sxs-lookup"><span data-stu-id="f3a51-207">You will be modifying the code-behind (*AddToCart.aspx.cs*) for this page, not the page UI (*AddToCart.aspx*).</span></span>


#### <a name="to-create-the-add-to-cart-functionality"></a><span data-ttu-id="f3a51-208">카트에 추가를 만들려면 기능:</span><span class="sxs-lookup"><span data-stu-id="f3a51-208">To create the Add-To-Cart functionality:</span></span>

1. <span data-ttu-id="f3a51-209">**솔루션 탐색기**를 마우스 오른쪽 단추로 클릭 합니다 **WingtipToys**프로젝트 **추가**  - &gt; **새 항목**합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-209">In **Solution Explorer**, right-click the **WingtipToys**project, click **Add** -&gt; **New Item**.</span></span>  
   <span data-ttu-id="f3a51-210">**새 항목 추가** 대화 상자가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-210">The **Add New Item** dialog box is displayed.</span></span>
2. <span data-ttu-id="f3a51-211">표준 새 페이지 (Web Form) 라는 응용 프로그램에 추가 *AddToCart.aspx*합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-211">Add a standard new page (Web Form) to the application named *AddToCart.aspx*.</span></span> 

    ![쇼핑 카트-Web Form 추가](shopping-cart/_static/image4.png)
3. <span data-ttu-id="f3a51-213">**솔루션 탐색기**를 마우스 오른쪽 단추로 클릭 합니다 *AddToCart.aspx* 페이지를 클릭 한 다음 **코드 보기**합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-213">In **Solution Explorer**, right-click the *AddToCart.aspx* page and then click **View Code**.</span></span> <span data-ttu-id="f3a51-214">합니다 *AddToCart.aspx.cs* 편집기에서 코드 숨김 파일이 열립니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-214">The *AddToCart.aspx.cs* code-behind file is opened in the editor.</span></span>
4. <span data-ttu-id="f3a51-215">기존 코드를 대체 합니다 *AddToCart.aspx.cs* 코드 숨김 다음을 사용 하 여:</span><span class="sxs-lookup"><span data-stu-id="f3a51-215">Replace the existing code in the *AddToCart.aspx.cs* code-behind with the following:</span></span>   

    [!code-csharp[Main](shopping-cart/samples/sample4.cs)]

<span data-ttu-id="f3a51-216">경우는 *AddToCart.aspx* 페이지가 로드 되는 제품 `ID` 쿼리 문자열에서 검색 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-216">When the *AddToCart.aspx* page is loaded, the product `ID` is retrieved from the query string.</span></span> <span data-ttu-id="f3a51-217">다음으로, 쇼핑 카트 클래스의 인스턴스 생성 되어 호출 하는 데는 `AddToCart` 이 자습서의 앞부분에서 추가한 메서드.</span><span class="sxs-lookup"><span data-stu-id="f3a51-217">Next, an instance of the shopping cart class is created and used to call the `AddToCart` method that you added earlier in this tutorial.</span></span> <span data-ttu-id="f3a51-218">합니다 `AddToCart` 에 포함 된 메서드를 *ShoppingCartActions.cs* 파일, 선택한 제품을 장바구니에 추가 하거나 선택한 제품의 제품 수량 증가 하는 논리를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-218">The `AddToCart` method, contained in the *ShoppingCartActions.cs* file, includes the logic to add the selected product to the shopping cart or increment the product quantity of the selected product.</span></span> <span data-ttu-id="f3a51-219">제품을 장바구니에 추가 되지 않은, 경우에 제품에 추가 됩니다는 `CartItem` 데이터베이스의 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-219">If the product hasn't been added to the shopping cart, the product is added to the `CartItem` table of the database.</span></span> <span data-ttu-id="f3a51-220">제품 수량 증가 제품이 쇼핑 카트에 이미 추가 되었습니다. 동일한 제품의 추가 항목을 추가 하는 사용자를는 `CartItem` 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-220">If the product has already been added to the shopping cart and the user adds an additional item of the same product, the product quantity is incremented in the `CartItem` table.</span></span> <span data-ttu-id="f3a51-221">마지막으로, 페이지를 다시 리디렉션합니다 합니다 *ShoppingCart.aspx* 페이지를 사용자에 게 바구니에 항목의 업데이트 된 목록을 표시 하는 다음 단계에 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-221">Finally, the page redirects back to the *ShoppingCart.aspx* page that you'll add in the next step, where the user sees an updated list of items in the cart.</span></span>

<span data-ttu-id="f3a51-222">앞서 언급 했 듯이 사용자 `ID` 특정 사용자와 연관 된 제품을 식별 하는 데 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-222">As previously mentioned, a user `ID` is used to identify the products that are associated with a specific user.</span></span> <span data-ttu-id="f3a51-223">이 `ID` 의 행에 추가 되는 `CartItem` 사용자 쇼핑 카트에 제품을 추가할 때마다 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-223">This `ID` is added to a row in the `CartItem` table each time the user adds a product to the shopping cart.</span></span>

### <a name="creating-the-shopping-cart-ui"></a><span data-ttu-id="f3a51-224">쇼핑 카트 UI 만들기</span><span class="sxs-lookup"><span data-stu-id="f3a51-224">Creating the Shopping Cart UI</span></span>

<span data-ttu-id="f3a51-225">합니다 *ShoppingCart.aspx* 페이지는 사용자가 해당 쇼핑 카트에 추가 하는 제품을 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-225">The *ShoppingCart.aspx* page will display the products that the user has added to their shopping cart.</span></span> <span data-ttu-id="f3a51-226">또한 추가, 제거 및 시장 바구니에 항목을 업데이트 하는 기능을 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-226">It will also provide the ability to add, remove and update items in the shopping cart.</span></span>

1. <span data-ttu-id="f3a51-227">**솔루션 탐색기**를 마우스 오른쪽 단추로 클릭 **WingtipToys**, 클릭 **추가**  - &gt; **새 항목**합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-227">In **Solution Explorer**, right-click **WingtipToys**, click **Add** -&gt; **New Item**.</span></span>  
   <span data-ttu-id="f3a51-228">**새 항목 추가** 대화 상자가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-228">The **Add New Item** dialog box is displayed.</span></span>
2. <span data-ttu-id="f3a51-229">선택 하 여 마스터 페이지를 포함 하는 새 페이지 (Web Form)를 추가 **웹 폼 마스터 페이지를 사용 하 여**입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-229">Add a new page (Web Form) that includes a master page by selecting **Web Form using Master Page**.</span></span> <span data-ttu-id="f3a51-230">새 페이지의 이름을 *ShoppingCart.aspx*합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-230">Name the new page *ShoppingCart.aspx*.</span></span>
3. <span data-ttu-id="f3a51-231">선택 **Site.Master** 마스터 페이지를 새로 만든 연결할 *.aspx* 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-231">Select **Site.Master** to attach the master page to the newly created *.aspx* page.</span></span>
4. <span data-ttu-id="f3a51-232">에 *ShoppingCart.aspx* 페이지에서 기존 태그를 다음 태그로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-232">In the *ShoppingCart.aspx* page, replace the existing markup with the following markup:</span></span>   

    [!code-aspx[Main](shopping-cart/samples/sample5.aspx)]

<span data-ttu-id="f3a51-233">*ShoppingCart.aspx* 페이지에는 **GridView** 라는 컨트롤 `CartList`합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-233">The *ShoppingCart.aspx* page includes a **GridView** control named `CartList`.</span></span> <span data-ttu-id="f3a51-234">이 컨트롤을 데이터베이스에서 쇼핑 카트 데이터를 바인딩할 모델 바인딩을 사용 하 여 **GridView** 제어 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-234">This control uses model binding to bind the shopping cart data from the database to the **GridView** control.</span></span> <span data-ttu-id="f3a51-235">설정한 경우는 `ItemType` 의 속성을 **GridView** 컨트롤을 데이터 바인딩 식을 `Item` 에서 사용할 수 있습니다 컨트롤 및 컨트롤의 태그를 강력 하 게 형식화 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-235">When you set the `ItemType` property of the **GridView** control, the data-binding expression `Item` is available in the markup of the control and the control becomes strongly typed.</span></span> <span data-ttu-id="f3a51-236">이 자습서 시리즈의 앞부분에서 설명 했 듯이의 세부 정보를 선택할 수 있습니다는 `Item` IntelliSense를 사용 하 여 개체입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-236">As mentioned earlier in this tutorial series, you can select details of the `Item` object using IntelliSense.</span></span> <span data-ttu-id="f3a51-237">모델 바인딩을 사용 하 여 데이터를 선택 하도록 데이터 컨트롤을 구성 하려면 설정의 `SelectMethod` 컨트롤의 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-237">To configure a data control to use model binding to select data, you set the `SelectMethod` property of the control.</span></span> <span data-ttu-id="f3a51-238">위의 태그에서 설정 합니다 `SelectMethod` 목록을 반환 하는 GetShoppingCartItems 메서드를 사용 하 `CartItem` 개체입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-238">In the markup above, you set the `SelectMethod` to use the GetShoppingCartItems method which returns a list of `CartItem` objects.</span></span> <span data-ttu-id="f3a51-239">합니다 **GridView** 데이터 컨트롤의 페이지 수명 주기의 적절 한 시간에 메서드를 호출 하 고 자동으로 반환된 된 데이터를 바인딩합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-239">The **GridView** data control calls the method at the appropriate time in the page life cycle and automatically binds the returned data.</span></span> <span data-ttu-id="f3a51-240">`GetShoppingCartItems` 메서드 추가 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-240">The `GetShoppingCartItems` method must still be added.</span></span>

#### <a name="retrieving-the-shopping-cart-items"></a><span data-ttu-id="f3a51-241">쇼핑 카트 항목 검색</span><span class="sxs-lookup"><span data-stu-id="f3a51-241">Retrieving the Shopping Cart Items</span></span>

<span data-ttu-id="f3a51-242">다음으로 코드를 추가 합니다 *ShoppingCart.aspx.cs* 검색 하 고 쇼핑 카트 UI를 채우는 코드 숨김입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-242">Next, you add code to the *ShoppingCart.aspx.cs* code-behind to retrieve and populate the Shopping Cart UI.</span></span>

1. <span data-ttu-id="f3a51-243">**솔루션 탐색기**를 마우스 오른쪽 단추로 클릭 합니다 *ShoppingCart.aspx* 페이지를 클릭 한 다음 **코드 보기**합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-243">In **Solution Explorer**, right-click the *ShoppingCart.aspx* page and then click **View Code**.</span></span> <span data-ttu-id="f3a51-244">합니다 *ShoppingCart.aspx.cs* 편집기에서 코드 숨김 파일이 열립니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-244">The *ShoppingCart.aspx.cs* code-behind file is opened in the editor.</span></span>
2. <span data-ttu-id="f3a51-245">기존 코드를 다음으로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-245">Replace the existing code with the following:</span></span>  

    [!code-csharp[Main](shopping-cart/samples/sample6.cs)]

<span data-ttu-id="f3a51-246">위에서 설명한 대로 합니다 `GridView` 데이터 컨트롤을 호출 합니다 `GetShoppingCartItems` 페이지의 적절 한 시간 주기 메서드와 반환된 된 데이터를 자동으로 바인딩합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-246">As mentioned above, the `GridView` data control calls the `GetShoppingCartItems` method at the appropriate time in the page life cycle and automatically binds the returned data.</span></span> <span data-ttu-id="f3a51-247">합니다 `GetShoppingCartItems` 메서드는 인스턴스를 만듭니다를 `ShoppingCartActions` 개체입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-247">The `GetShoppingCartItems` method creates an instance of the `ShoppingCartActions` object.</span></span> <span data-ttu-id="f3a51-248">코드를 호출 하 여 바구니에 항목을 반환 하는 인스턴스를 사용 하는 다음을 `GetCartItems` 메서드.</span><span class="sxs-lookup"><span data-stu-id="f3a51-248">Then, the code uses that instance to return the items in the cart by calling the `GetCartItems` method.</span></span>

### <a name="adding-products-to-the-shopping-cart"></a><span data-ttu-id="f3a51-249">쇼핑 카트에 추가 제품</span><span class="sxs-lookup"><span data-stu-id="f3a51-249">Adding Products to the Shopping Cart</span></span>

<span data-ttu-id="f3a51-250">경우 중 하나는 *ProductList.aspx* 또는 *ProductDetails.aspx* 페이지가 표시 되 면 사용자 링크를 사용 하 여 쇼핑 카트에 제품을 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-250">When either the *ProductList.aspx* or the *ProductDetails.aspx* page is displayed, the user will be able to add the product to the shopping cart using a link.</span></span> <span data-ttu-id="f3a51-251">응용 프로그램 이라는 처리 페이지를 탐색 링크를 클릭 하면 *AddToCart.aspx*합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-251">When they click the link, the application navigates to the processing page named *AddToCart.aspx*.</span></span> <span data-ttu-id="f3a51-252">*AddToCart.aspx* 페이지는 호출을 `AddToCart` 에서 메서드는 `ShoppingCart` 이 자습서의 앞부분에서 추가한 클래스.</span><span class="sxs-lookup"><span data-stu-id="f3a51-252">The *AddToCart.aspx* page will call the `AddToCart` method in the `ShoppingCart` class that you added earlier in this tutorial.</span></span>

<span data-ttu-id="f3a51-253">이제를 추가 합니다는 **카트에 추가** 둘 다에 대 한 링크는 *ProductList.aspx* 페이지와 *ProductDetails.aspx* 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-253">Now, you'll add an **Add to Cart** link to both the *ProductList.aspx* page and the *ProductDetails.aspx* page.</span></span> <span data-ttu-id="f3a51-254">이 링크는 제품을 포함 하는 `ID` 는 데이터베이스에서 검색 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-254">This link will include the product `ID` that is retrieved from the database.</span></span>

1. <span data-ttu-id="f3a51-255">**솔루션 탐색기**찾아 라는 페이지를 열려면 *ProductList.aspx*합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-255">In **Solution Explorer**, find and open the page named *ProductList.aspx*.</span></span>
2. <span data-ttu-id="f3a51-256">노란색으로 강조 표시 된 태그를 추가 합니다 *ProductList.aspx* 전체 페이지는 다음과 같이 표시 되도록 페이지:</span><span class="sxs-lookup"><span data-stu-id="f3a51-256">Add the markup highlighted in yellow to the *ProductList.aspx* page so that the entire page appears as follows:</span></span>  

    [!code-aspx[Main](shopping-cart/samples/sample7.aspx?highlight=50-54)]

### <a name="testing-the-shopping-cart"></a><span data-ttu-id="f3a51-257">쇼핑 카트를 테스트합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-257">Testing the Shopping Cart</span></span>

<span data-ttu-id="f3a51-258">쇼핑 카트에 제품을 추가 하는 방법을 확인 하려면 응용 프로그램을 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-258">Run the application to see how you add products to the shopping cart.</span></span>

1. <span data-ttu-id="f3a51-259">**F5** 키를 눌러 응용 프로그램을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-259">Press **F5** to run the application.</span></span>  
 <span data-ttu-id="f3a51-260">후 프로젝트 데이터베이스를 다시 만듭니다, 브라우저를 열고 표시 합니다 *Default.aspx* 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-260">After the project recreates the database, the browser will open and show the *Default.aspx* page.</span></span>
2. <span data-ttu-id="f3a51-261">선택 **자동차** 범주 탐색 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-261">Select **Cars** from the category navigation menu.</span></span>  
 <span data-ttu-id="f3a51-262">합니다 *ProductList.aspx* "자동차" 범주에 포함 된 제품만 보여 주는 페이지가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-262">The *ProductList.aspx* page is displayed showing only products included in the "Cars" category.</span></span> 

    ![쇼핑 카트-자동차](shopping-cart/_static/image5.png)
3. <span data-ttu-id="f3a51-264">클릭 합니다 **카트에 추가** 첫 번째 제품 옆에 있는 링크 (변환할 자동차)을 나열 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-264">Click the **Add to Cart** link next to the first product listed (the convertible car).</span></span>   
 <span data-ttu-id="f3a51-265">합니다 *ShoppingCart.aspx* 쇼핑 카트에 선택 영역을 보여 주는 페이지가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-265">The *ShoppingCart.aspx* page is displayed, showing the selection in your shopping cart.</span></span> 

    ![쇼핑 카트-카트](shopping-cart/_static/image6.png)
4. <span data-ttu-id="f3a51-267">추가 제품을 선택 하 여 볼 **평면** 범주 탐색 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-267">View additional products by selecting **Planes** from the category navigation menu.</span></span>
5. <span data-ttu-id="f3a51-268">클릭 합니다 **카트에 추가** 나열 된 첫 번째 제품 옆에 있는 링크입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-268">Click the **Add to Cart** link next to the first product listed.</span></span>  
 <span data-ttu-id="f3a51-269">합니다 *ShoppingCart.aspx* 페이지가 추가 항목으로 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-269">The *ShoppingCart.aspx* page is displayed with the additional item.</span></span>
6. <span data-ttu-id="f3a51-270">브라우저를 닫습니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-270">Close the browser.</span></span>

### <a name="calculating-and-displaying-the-order-total"></a><span data-ttu-id="f3a51-271">계산 및 주문 합계를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-271">Calculating and Displaying the Order Total</span></span>

<span data-ttu-id="f3a51-272">제품을 장바구니에 추가 하는 것 외에도 추가 합니다는 `GetTotal` 메서드를는 `ShoppingCart` 클래스 및 총 주문 금액이 쇼핑 카트 페이지에 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-272">In addition to adding products to the shopping cart, you will add a `GetTotal` method to the `ShoppingCart` class and display the total order amount in the shopping cart page.</span></span>

1. <span data-ttu-id="f3a51-273">**솔루션 탐색기**오픈를 *ShoppingCartActions.cs* 파일을 *논리* 폴더.</span><span class="sxs-lookup"><span data-stu-id="f3a51-273">In **Solution Explorer**, open the *ShoppingCartActions.cs* file in the *Logic* folder.</span></span>
2. <span data-ttu-id="f3a51-274">다음을 추가 합니다 `GetTotal` 에 노란색으로 강조 표시 하는 메서드는 `ShoppingCart` 클래스는 다음과 같이 표시 되도록 클래스:</span><span class="sxs-lookup"><span data-stu-id="f3a51-274">Add the following `GetTotal` method highlighted in yellow to the `ShoppingCart` class, so that the class appears as follows:</span></span>   

    [!code-csharp[Main](shopping-cart/samples/sample8.cs?highlight=85-97)]

<span data-ttu-id="f3a51-275">첫 번째는 `GetTotal` 메서드는 사용자에 대 한 장바구니의 ID를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-275">First, the `GetTotal` method gets the ID of the shopping cart for the user.</span></span> <span data-ttu-id="f3a51-276">다음 메서드는 장바구니에 나열 된 각 제품에 대 한 제품 수량 제품 가격을 곱하여 총 카트를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-276">Then the method gets the cart total by multiplying the product price by the product quantity for each product listed in the cart.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="f3a51-277">위의 코드에서는 nullable 형식 "`int?`"입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-277">The above code uses the nullable type "`int?`".</span></span> <span data-ttu-id="f3a51-278">Nullable 형식은 기본 형식 및 null 값으로 모든 값을 나타낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-278">Nullable types can represent all the values of an underlying type, and also as a null value.</span></span> <span data-ttu-id="f3a51-279">자세한 내용은 참조 하십시오 [Nullable 형식 사용](https://msdn.microsoft.com/library/2cf62fcy(v=vs.110).aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-279">For more information see, [Using Nullable Types](https://msdn.microsoft.com/library/2cf62fcy(v=vs.110).aspx).</span></span>


### <a name="modify-the-shopping-cart-display"></a><span data-ttu-id="f3a51-280">쇼핑 카트 표시 수정</span><span class="sxs-lookup"><span data-stu-id="f3a51-280">Modify the Shopping Cart Display</span></span>

<span data-ttu-id="f3a51-281">다음의 코드를 수정 합니다 *ShoppingCart.aspx* 를 호출 하는 페이지는 `GetTotal` 메서드와 해당에서 합계를 표시를 *ShoppingCart.aspx* 페이지가 페이지가 로드 될 때.</span><span class="sxs-lookup"><span data-stu-id="f3a51-281">Next you'll modify the code for the *ShoppingCart.aspx* page to call the `GetTotal` method and display that total on the *ShoppingCart.aspx* page when the page loads.</span></span>

1. <span data-ttu-id="f3a51-282">**솔루션 탐색기**를 마우스 오른쪽 단추로 클릭 합니다 *ShoppingCart.aspx* 페이지를 선택 **코드 보기**합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-282">In **Solution Explorer**, right-click the *ShoppingCart.aspx* page and select **View Code**.</span></span>
2. <span data-ttu-id="f3a51-283">에 *ShoppingCart.aspx.cs* 파일을 업데이트 합니다 `Page_Load` 노란색으로 강조 표시 하는 다음 코드를 추가 하 여 처리기:</span><span class="sxs-lookup"><span data-stu-id="f3a51-283">In the *ShoppingCart.aspx.cs* file, update the `Page_Load` handler by adding the following code highlighted in yellow:</span></span>   

    [!code-csharp[Main](shopping-cart/samples/sample9.cs?highlight=16-31)]

<span data-ttu-id="f3a51-284">경우는 *ShoppingCart.aspx* 페이지 로드, 쇼핑 카트 개체를 로드 하 고 호출 하 여 쇼핑 카트 합계를 검색 한 다음 해당 합니다 `GetTotal` 메서드의 `ShoppingCart` 클래스.</span><span class="sxs-lookup"><span data-stu-id="f3a51-284">When the *ShoppingCart.aspx* page loads, it loads the shopping cart object and then retrieves the shopping cart total by calling the `GetTotal` method of the `ShoppingCart` class.</span></span> <span data-ttu-id="f3a51-285">쇼핑 카트 비어 있는 경우 메시지를 그 결과 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-285">If the shopping cart is empty, a message to that effect is displayed.</span></span>

### <a name="testing-the-shopping-cart-total"></a><span data-ttu-id="f3a51-286">쇼핑 카트 합계를 테스트합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-286">Testing the Shopping Cart Total</span></span>

<span data-ttu-id="f3a51-287">응용 프로그램이 이제 어떻게 추가할 수 없습니다만 제품을 장바구니를 실행 하지만 쇼핑 카트 합계를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-287">Run the application now to see how you can not only add a product to the shopping cart, but you can see the shopping cart total.</span></span>

1. <span data-ttu-id="f3a51-288">**F5** 키를 눌러 응용 프로그램을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-288">Press **F5** to run the application.</span></span>  
 <span data-ttu-id="f3a51-289">브라우저를 열고 표시 합니다 *Default.aspx* 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-289">The browser will open and show the *Default.aspx* page.</span></span>
2. <span data-ttu-id="f3a51-290">선택 **자동차** 범주 탐색 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-290">Select **Cars** from the category navigation menu.</span></span>
3. <span data-ttu-id="f3a51-291">클릭 합니다 **Add To Cart** 첫 번째 제품 옆에 있는 링크입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-291">Click the **Add To Cart** link next to the first product.</span></span>   
 <span data-ttu-id="f3a51-292">합니다 *ShoppingCart.aspx* 주문 합계를 사용 하 여 페이지가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-292">The *ShoppingCart.aspx* page is displayed with the order total.</span></span> 

    ![쇼핑 카트-카트 합계](shopping-cart/_static/image7.png)
4. <span data-ttu-id="f3a51-294">일부 다른 제품 (예를 들어, 평면) 카트에 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-294">Add some other products (for example, a plane) to the cart.</span></span>
5. <span data-ttu-id="f3a51-295">합니다 *ShoppingCart.aspx* 추가한 다음 모든 제품에 대 한 업데이트 된 합계를 사용 하 여 페이지가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-295">The *ShoppingCart.aspx* page is displayed with an updated total for all the products you've added.</span></span> 

    ![쇼핑 카트-여러 제품](shopping-cart/_static/image8.png)
6. <span data-ttu-id="f3a51-297">브라우저 창을 닫아 실행 중인 앱을 중지 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-297">Stop the running app by closing the browser window.</span></span>

### <a name="adding-update-and-checkout-buttons-to-the-shopping-cart"></a><span data-ttu-id="f3a51-298">시장 바구니에 업데이트 및 체크 아웃 단추 추가</span><span class="sxs-lookup"><span data-stu-id="f3a51-298">Adding Update and Checkout Buttons to the Shopping Cart</span></span>

<span data-ttu-id="f3a51-299">쇼핑 카트를 수정 하려면 사용자를 허용 하려면 추가 **업데이트** 단추와 **체크 아웃** 쇼핑 카트 페이지에는 단추입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-299">To allow the users to modify the shopping cart, you'll add an **Update** button and a **Checkout** button to the shopping cart page.</span></span> <span data-ttu-id="f3a51-300">합니다 **체크 아웃** 이 자습서 시리즈에서는 나중까지 단추가 사용 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-300">The **Checkout** button is not used until later in this tutorial series.</span></span>

1. <span data-ttu-id="f3a51-301">**솔루션 탐색기**엽니다는 *ShoppingCart.aspx* 웹 응용 프로그램 프로젝트의 루트에는 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-301">In **Solution Explorer**, open the *ShoppingCart.aspx* page in the root of the web application project.</span></span>
2. <span data-ttu-id="f3a51-302">추가할 합니다 **업데이트** 단추 및 **체크 아웃** 단추를 *ShoppingCart.aspx* 페이지에 표시 된 대로 기존 태그에는 노란색으로 강조 표시 태그를 추가 합니다는 코드를 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-302">To add the **Update** button and the **Checkout** button to the *ShoppingCart.aspx* page, add the markup highlighted in yellow to the existing markup, as shown in the following code:</span></span>   

    [!code-aspx[Main](shopping-cart/samples/sample10.aspx?highlight=36-45)]

<span data-ttu-id="f3a51-303">클릭할 때 합니다 **업데이트** 단추를 `UpdateBtn_Click` 이벤트 처리기가 호출 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-303">When the user clicks the **Update** button, the `UpdateBtn_Click` event handler will be called.</span></span> <span data-ttu-id="f3a51-304">이 이벤트 처리기는 다음 단계에서 추가 하는 코드를 호출 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-304">This event handler will call the code that you'll add in the next step.</span></span>

<span data-ttu-id="f3a51-305">다음으로, 포함 된 코드를 업데이트할 수 있습니다 합니다 *ShoppingCart.aspx.cs* 카트 항목 및 호출을 반복 하는 파일을 `RemoveItem` 및 `UpdateItem` 메서드.</span><span class="sxs-lookup"><span data-stu-id="f3a51-305">Next, you can update the code contained in the *ShoppingCart.aspx.cs* file to loop through the cart items and call the `RemoveItem` and `UpdateItem` methods.</span></span>

1. <span data-ttu-id="f3a51-306">**솔루션 탐색기**오픈 합니다 *ShoppingCart.aspx.cs* 웹 응용 프로그램 프로젝트의 루트에 있는 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-306">In **Solution Explorer**, open the *ShoppingCart.aspx.cs* file in the root of the web application project.</span></span>
2. <span data-ttu-id="f3a51-307">다음 코드 섹션에는 노란색으로 강조 표시를 추가 합니다 *ShoppingCart.aspx.cs* 파일:</span><span class="sxs-lookup"><span data-stu-id="f3a51-307">Add the following code sections highlighted in yellow to the *ShoppingCart.aspx.cs* file:</span></span>   

    [!code-csharp[Main](shopping-cart/samples/sample11.cs?highlight=9-11,33,44-89)]

<span data-ttu-id="f3a51-308">클릭할 때 합니다 **업데이트** 단추를 *ShoppingCart.aspx* 페이지 UpdateCartItems 메서드를 호출 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-308">When the user clicks the **Update** button on the *ShoppingCart.aspx* page, the UpdateCartItems method is called.</span></span> <span data-ttu-id="f3a51-309">UpdateCartItems 메서드 쇼핑 카트의 각 항목에 대 한 업데이트 된 값을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-309">The UpdateCartItems method gets the updated values for each item in the shopping cart.</span></span> <span data-ttu-id="f3a51-310">UpdateCartItems 메서드를 호출 하는 다음을 `UpdateShoppingCartDatabase` 메서드 (추가 및 다음 단계에서 설명) 추가 하거나 장바구니에서 항목을 제거 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-310">Then, the UpdateCartItems method calls the `UpdateShoppingCartDatabase` method (added and explained in the next step) to either add or remove items from the shopping cart.</span></span> <span data-ttu-id="f3a51-311">데이터베이스를 업데이트 하 고 쇼핑 카트에 반영 하도록 업데이트 하면를 **GridView** 컨트롤이 호출 하 여 쇼핑 카트 페이지에서 업데이트 됩니다는 `DataBind` 에 대 한 메서드를 **GridView**합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-311">Once the database has been updated to reflect the updates to the shopping cart, the **GridView** control is updated on the shopping cart page by calling the `DataBind` method for the **GridView**.</span></span> <span data-ttu-id="f3a51-312">또한 주문 총액 쇼핑 카트 페이지에서 업데이트 된 항목 목록을 반영 하도록 업데이트 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-312">Also, the total order amount on the shopping cart page is updated to reflect the updated list of items.</span></span>

### <a name="updating-and-removing-shopping-cart-items"></a><span data-ttu-id="f3a51-313">업데이트 및 쇼핑 카트 항목 제거</span><span class="sxs-lookup"><span data-stu-id="f3a51-313">Updating and Removing Shopping Cart Items</span></span>

<span data-ttu-id="f3a51-314">에 *ShoppingCart.aspx* 페이지 항목의 수량을 업데이트 하 고 항목을 제거 하는 것에 대 한 추가 된 컨트롤을 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-314">On the *ShoppingCart.aspx* page, you can see controls have been added for updating the quantity of an item and removing an item.</span></span> <span data-ttu-id="f3a51-315">이제 이러한 컨트롤을 작동 하 게 하는 코드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-315">Now, add the code that will make these controls work.</span></span>

1. <span data-ttu-id="f3a51-316">**솔루션 탐색기**오픈를 *ShoppingCartActions.cs* 파일을 *논리* 폴더.</span><span class="sxs-lookup"><span data-stu-id="f3a51-316">In **Solution Explorer**, open the *ShoppingCartActions.cs* file in the *Logic* folder.</span></span>
2. <span data-ttu-id="f3a51-317">노란색으로 강조 표시 된 다음 코드를 추가 합니다 *ShoppingCartActions.cs* 클래스 파일:</span><span class="sxs-lookup"><span data-stu-id="f3a51-317">Add the following code highlighted in yellow to the *ShoppingCartActions.cs* class file:</span></span>   

    [!code-csharp[Main](shopping-cart/samples/sample12.cs?highlight=99-213)]

<span data-ttu-id="f3a51-318">`UpdateShoppingCartDatabase` 에서 호출 된 메서드를 `UpdateCartItems` 메서드는 *ShoppingCart.aspx.cs* 페이지, 업데이트 또는 장바구니에서 항목을 제거 하기 위한 논리가 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-318">The `UpdateShoppingCartDatabase` method, called from the `UpdateCartItems` method on the *ShoppingCart.aspx.cs* page, contains the logic to either update or remove items from the shopping cart.</span></span> <span data-ttu-id="f3a51-319">`UpdateShoppingCartDatabase` 메서드 쇼핑 카트 목록 내에서 모든 행을 반복 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-319">The `UpdateShoppingCartDatabase` method iterates through all the rows within the shopping cart list.</span></span> <span data-ttu-id="f3a51-320">쇼핑 카트에 항목을 제거 하려면 표시 된 수량은 1 보다 작은 경우는 `RemoveItem` 메서드가 호출 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-320">If a shopping cart item has been marked to be removed, or the quantity is less than one, the `RemoveItem` method is called.</span></span> <span data-ttu-id="f3a51-321">쇼핑 카트 항목에 대 한 확인란이 고, 그렇지 경우 업데이트는 `UpdateItem` 메서드가 호출 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-321">Otherwise, the shopping cart item is checked for updates when the `UpdateItem` method is called.</span></span> <span data-ttu-id="f3a51-322">쇼핑 카트 항목 제거 되거나 업데이트 된 후 데이터베이스 변경 내용이 저장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-322">After the shopping cart item has been removed or updated, the database changes are saved.</span></span>

<span data-ttu-id="f3a51-323">`ShoppingCartUpdates` 구조에 쇼핑 카트에 항목을 모두를 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-323">The `ShoppingCartUpdates` structure is used to hold all the shopping cart items.</span></span> <span data-ttu-id="f3a51-324">합니다 `UpdateShoppingCartDatabase` 메서드는 `ShoppingCartUpdates` 구조를 업데이트 하거나 제거 해야 항목을 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-324">The `UpdateShoppingCartDatabase` method uses the `ShoppingCartUpdates` structure to determine if any of the items need to be updated or removed.</span></span>

<span data-ttu-id="f3a51-325">다음 자습서에서는 사용 하 여는 `EmptyCart` 제품을 구매한 후 카트에 쇼핑의 선택을 취소 하는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-325">In the next tutorial, you will use the `EmptyCart` method to clear the shopping cart after purchasing products.</span></span> <span data-ttu-id="f3a51-326">이제 사용 하지만 합니다 `GetCount` 에 방금 추가한 메서드를 *ShoppingCartActions.cs* 시장 바구니에 있는 항목 수를 결정 하는 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-326">But for now, you will use the `GetCount` method that you just added to the *ShoppingCartActions.cs* file to determine how many items are in the shopping cart.</span></span>

### <a name="adding-a-shopping-cart-counter"></a><span data-ttu-id="f3a51-327">쇼핑 카트 카운터 추가</span><span class="sxs-lookup"><span data-stu-id="f3a51-327">Adding a Shopping Cart Counter</span></span>

<span data-ttu-id="f3a51-328">시장 바구니에 항목의 총 수를 볼 수 있도록 하는 카운터를 추가 합니다 *Site.Master* 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-328">To allow the user to view the total number of items in the shopping cart, you will add a counter to the *Site.Master* page.</span></span> <span data-ttu-id="f3a51-329">이 카운터는 장바구니에 대 한 링크 처럼도 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-329">This counter will also act as a link to the shopping cart.</span></span>

1. <span data-ttu-id="f3a51-330">**솔루션 탐색기**오픈 합니다 *Site.Master* 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-330">In **Solution Explorer**, open the *Site.Master* page.</span></span>
2. <span data-ttu-id="f3a51-331">다음과 같이 표시 되도록 탐색 섹션에는 노란색으로 표시 된 것 처럼 쇼핑 카트 카운터 링크를 추가 하 여 태그를 수정 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-331">Modify the markup by adding the shopping cart counter link as shown in yellow to the navigation section so it appears as follows:</span></span>  

    [!code-html[Main](shopping-cart/samples/sample13.html?highlight=6)]
3. <span data-ttu-id="f3a51-332">다음으로 업데이트 하는 코드 숨김 합니다 *Site.Master.cs* 같이 노란색으로 강조 표시 된 코드를 추가 하 여 파일:</span><span class="sxs-lookup"><span data-stu-id="f3a51-332">Next, update the code-behind of the *Site.Master.cs* file by adding the code highlighted in yellow as follows:</span></span>  

    [!code-csharp[Main](shopping-cart/samples/sample14.cs?highlight=11,77-84)]

<span data-ttu-id="f3a51-333">페이지가 HTML로 렌더링 되기 전에 `Page_PreRender` 이벤트가 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-333">Before the page is rendered as HTML, the `Page_PreRender` event is raised.</span></span> <span data-ttu-id="f3a51-334">에 `Page_PreRender` 쇼핑 카트 총 처리기를 호출 하 여 결정 됩니다는 `GetCount` 메서드.</span><span class="sxs-lookup"><span data-stu-id="f3a51-334">In the `Page_PreRender` handler, the total count of the shopping cart is determined by calling the `GetCount` method.</span></span> <span data-ttu-id="f3a51-335">반환 된 값을 추가 합니다 `cartCount` 의 태그에 포함 된 범위를 *Site.Master* 페이지.</span><span class="sxs-lookup"><span data-stu-id="f3a51-335">The returned value is added to the `cartCount` span included in the markup of the *Site.Master* page.</span></span> <span data-ttu-id="f3a51-336">`<span>` 태그 올바르게 렌더링 되어야 하 고 내부 요소를 사용 하도록 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-336">The `<span>` tags enables the inner elements to be properly rendered.</span></span> <span data-ttu-id="f3a51-337">사이트의 모든 페이지가 표시 되 면 쇼핑 카트 합계 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-337">When any page of the site is displayed, the shopping cart total will be displayed.</span></span> <span data-ttu-id="f3a51-338">또한 쇼핑 카트를 표시 하려면 쇼핑 카트 합계 클릭할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-338">The user can also click the shopping cart total to display the shopping cart.</span></span>

## <a name="testing-the-completed-shopping-cart"></a><span data-ttu-id="f3a51-339">완료 된 쇼핑 카트를 테스트합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-339">Testing the Completed Shopping Cart</span></span>

<span data-ttu-id="f3a51-340">시장 바구니에 추가 하는 방법을 확인 하려면 지금를 응용 프로그램, 삭제 및 업데이트 항목을 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-340">You can run the application now to see how you can add, delete, and update items in the shopping cart.</span></span> <span data-ttu-id="f3a51-341">쇼핑 카트 합계에는 시장 바구니에 있는 모든 항목의 총 비용은 반영 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-341">The shopping cart total will reflect the total cost of all items in the shopping cart.</span></span>

1. <span data-ttu-id="f3a51-342">**F5** 키를 눌러 응용 프로그램을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-342">Press **F5** to run the application.</span></span>  
 <span data-ttu-id="f3a51-343">브라우저가 열리고 표시 합니다 *Default.aspx* 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-343">The browser opens and shows the *Default.aspx* page.</span></span>
2. <span data-ttu-id="f3a51-344">선택 **자동차** 범주 탐색 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-344">Select **Cars** from the category navigation menu.</span></span>
3. <span data-ttu-id="f3a51-345">클릭 합니다 **Add To Cart** 첫 번째 제품 옆에 있는 링크입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-345">Click the **Add To Cart** link next to the first product.</span></span>   
 <span data-ttu-id="f3a51-346">합니다 *ShoppingCart.aspx* 주문 합계를 사용 하 여 페이지가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-346">The *ShoppingCart.aspx* page is displayed with the order total.</span></span>
4. <span data-ttu-id="f3a51-347">선택 **평면** 범주 탐색 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-347">Select **Planes** from the category navigation menu.</span></span>
5. <span data-ttu-id="f3a51-348">클릭 합니다 **Add To Cart** 첫 번째 제품 옆에 있는 링크입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-348">Click the **Add To Cart** link next to the first product.</span></span>
6. <span data-ttu-id="f3a51-349">첫 번째 항목의 수량을 3으로 시장 바구니에 설정 하 고 선택 합니다 **항목 제거** 두 번째 항목의 확인란 합니다.<a id="a"></a></span><span class="sxs-lookup"><span data-stu-id="f3a51-349">Set the quantity of the first item in the shopping cart to 3 and select the **Remove Item** check box of the second item.<a id="a"></a></span></span>
7. <span data-ttu-id="f3a51-350">클릭 합니다 **업데이트** 단추 쇼핑 카트 페이지를 업데이트 하 고 새 주문 합계를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-350">Click the **Update** button to update the shopping cart page and display the new order total.</span></span> 

    ![쇼핑 카트-장바구니 업데이트](shopping-cart/_static/image9.png)

## <a name="summary"></a><span data-ttu-id="f3a51-352">요약</span><span class="sxs-lookup"><span data-stu-id="f3a51-352">Summary</span></span>

<span data-ttu-id="f3a51-353">이 자습서에서는 Wingtip Toys Web Forms 샘플 응용 프로그램의 쇼핑 카트를 만든 것입니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-353">In this tutorial, you have created a shopping cart for the Wingtip Toys Web Forms sample application.</span></span> <span data-ttu-id="f3a51-354">이 자습서에서 Entity Framework Code First, 데이터 주석, 강력한 형식의 데이터 컨트롤 및 모델 바인딩을 사용 했습니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-354">During this tutorial you have used Entity Framework Code First, data annotations, strongly typed data controls, and model binding.</span></span>

<span data-ttu-id="f3a51-355">쇼핑 카트는 추가, 삭제 및 구매에 대 한 사용자가 선택한 항목 업데이트를 지원 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-355">The shopping cart supports adding, deleting, and updating items that the user has selected for purchase.</span></span> <span data-ttu-id="f3a51-356">쇼핑 카트 기능을 구현 하는 것 외에도 장바구니 품목을 표시 하는 방법을 익 혔는 **GridView** 제어 하 고 주문 합계를 계산 합니다.</span><span class="sxs-lookup"><span data-stu-id="f3a51-356">In addition to implementing the shopping cart functionality, you have learned how to display shopping cart items in a **GridView** control and calculate the order total.</span></span>

## <a name="addition-information"></a><span data-ttu-id="f3a51-357">추가 정보</span><span class="sxs-lookup"><span data-stu-id="f3a51-357">Addition Information</span></span>

[<span data-ttu-id="f3a51-358">ASP.NET 세션 상태 개요</span><span class="sxs-lookup"><span data-stu-id="f3a51-358">ASP.NET Session State Overview</span></span>](https://msdn.microsoft.com/library/ms178581.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="f3a51-359">[이전](display_data_items_and_details.md)
> [다음](checkout-and-payment-with-paypal.md)</span><span class="sxs-lookup"><span data-stu-id="f3a51-359">[Previous](display_data_items_and_details.md)
[Next](checkout-and-payment-with-paypal.md)</span></span>
