---
uid: web-forms/overview/data-access/database-driven-site-maps/building-a-custom-database-driven-site-map-provider-cs
title: 사용자 지정 데이터베이스 기반 사이트 맵 공급자 빌드 (C#) | Microsoft Docs
author: rick-anderson
description: ASP.NET 2.0의 기본 사이트 맵 공급자는 정적 XML 파일에서 해당 데이터를 검색 합니다. XML 기반 공급자는 많은 소형 및 중간 siz에 적합 합니다.
ms.author: riande
ms.date: 06/26/2007
ms.assetid: 04b7591d-106f-4f05-87e9-d416cb65a8a6
msc.legacyurl: /web-forms/overview/data-access/database-driven-site-maps/building-a-custom-database-driven-site-map-provider-cs
msc.type: authoredcontent
ms.openlocfilehash: a3e27b37703b12c9796e8516f0d805aef1fdf8d8
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74637258"
---
# <a name="building-a-custom-database-driven-site-map-provider-c"></a><span data-ttu-id="4a2e4-104">사용자 지정 데이터베이스 중심 사이트 맵 공급자 빌드(C#)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-104">Building a Custom Database-Driven Site Map Provider (C#)</span></span>

<span data-ttu-id="4a2e4-105">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="4a2e4-106">[코드 다운로드](https://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_62_CS.zip) 또는 [PDF 다운로드](building-a-custom-database-driven-site-map-provider-cs/_static/datatutorial62cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-106">[Download Code](https://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_62_CS.zip) or [Download PDF](building-a-custom-database-driven-site-map-provider-cs/_static/datatutorial62cs1.pdf)</span></span>

> <span data-ttu-id="4a2e4-107">ASP.NET 2.0의 기본 사이트 맵 공급자는 정적 XML 파일에서 해당 데이터를 검색 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-107">The default site map provider in ASP.NET 2.0 retrieves its data from a static XML file.</span></span> <span data-ttu-id="4a2e4-108">XML 기반 공급자는 중소 규모의 여러 웹 사이트에 적합 하지만 더 큰 규모의 웹 응용 프로그램에는 보다 동적인 사이트 맵이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-108">While the XML-based provider is suitable to many small and medium-sized Web sites, larger Web applications require a more dynamic site map.</span></span> <span data-ttu-id="4a2e4-109">이 자습서에서는 비즈니스 논리 계층에서 데이터를 검색 하는 사용자 지정 사이트 맵 공급자를 빌드하여 데이터베이스에서 데이터를 검색 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-109">In this tutorial we'll build a custom site map provider that retrieves its data from the Business Logic Layer, which in turn retrieves data from the database.</span></span>

## <a name="introduction"></a><span data-ttu-id="4a2e4-110">소개</span><span class="sxs-lookup"><span data-stu-id="4a2e4-110">Introduction</span></span>

<span data-ttu-id="4a2e4-111">ASP.NET 2.0 s 사이트 맵 기능을 사용 하면 페이지 개발자가 XML 파일 등의 일부 영구 미디어에서 웹 응용 프로그램의 사이트 맵을 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-111">ASP.NET 2.0 s site map feature enables a page developer to define a web application s site map in some persistent medium, such as in an XML file.</span></span> <span data-ttu-id="4a2e4-112">일단 정의 되 면 [`System.Web` 네임 스페이스](https://msdn.microsoft.com/library/system.web.aspx) 의 [`SiteMap` 클래스](https://msdn.microsoft.com/library/system.web.sitemap.aspx) 를 통해 또는 SiteMapPath, Menu 및 TreeView 컨트롤과 같은 다양 한 탐색 웹 컨트롤을 통해 프로그래밍 방식으로 사이트 맵 데이터에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-112">Once defined, the site map data can be accessed programmatically through the [`SiteMap` class](https://msdn.microsoft.com/library/system.web.sitemap.aspx) in the [`System.Web` namespace](https://msdn.microsoft.com/library/system.web.aspx) or through a variety of navigation Web controls, such as the SiteMapPath, Menu, and TreeView controls.</span></span> <span data-ttu-id="4a2e4-113">사이트 맵 시스템은 다른 사이트 맵 serialization 구현을 생성 하 고 웹 응용 프로그램에 연결할 수 있도록 [공급자 모델](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx) 을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-113">The site map system uses the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx) so that different site map serialization implementations can be created and plugged into a web application.</span></span> <span data-ttu-id="4a2e4-114">ASP.NET 2.0와 함께 제공 되는 기본 사이트 맵 공급자는 XML 파일에서 사이트 맵 구조를 유지 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-114">The default site map provider that ships with ASP.NET 2.0 persists site map structure in an XML file.</span></span> <span data-ttu-id="4a2e4-115">[마스터 페이지 및 사이트 탐색](../introduction/master-pages-and-site-navigation-cs.md) 자습서로 돌아가서이 구조를 포함 하 고 각각의 새 자습서 섹션을 사용 하 여 해당 XML을 업데이트 한 `Web.sitemap` 라는 파일을 만들었습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-115">Back in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-cs.md) tutorial we created a file named `Web.sitemap` that contained this structure and have been updating its XML with each new tutorial section.</span></span>

<span data-ttu-id="4a2e4-116">기본 XML 기반 사이트 맵 공급자는 이러한 자습서와 같이 사이트 맵 구조가 매우 정적인 경우 제대로 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-116">The default XML-based site map provider works well if the site map s structure is fairly static, such as for these tutorials.</span></span> <span data-ttu-id="4a2e4-117">그러나 많은 경우에는 더 동적인 사이트 맵이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-117">In many scenarios, however, a more dynamic site map is needed.</span></span> <span data-ttu-id="4a2e4-118">그림 1에 표시 된 사이트 맵을 고려 합니다. 여기서 각 범주와 제품은 웹 사이트의 구조에 섹션으로 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-118">Consider the site map shown in Figure 1, where each category and product appear as sections in the website s structure.</span></span> <span data-ttu-id="4a2e4-119">이 사이트 맵을 사용 하면 루트 노드에 해당 하는 웹 페이지를 방문 하면 모든 범주가 나열 될 수 있습니다. 반면 특정 범주에 속한 웹 페이지를 방문 하면 해당 범주의 제품이 표시 되 고 특정 제품의 웹 페이지를 볼 때 해당 제품의 세부 정보가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-119">With this site map, visiting the web page corresponding to the root node might list all of the categories, whereas visiting a particular category s web page would list that category s products and viewing a particular product s web page would show that product s details.</span></span>

<span data-ttu-id="4a2e4-120">[사이트 맵 구조를 구성을 범주 및 제품 ![](building-a-custom-database-driven-site-map-provider-cs/_static/image1.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-120">[![The Categories and Products Makeup the Site Map s Structure](building-a-custom-database-driven-site-map-provider-cs/_static/image1.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image1.png)</span></span>

<span data-ttu-id="4a2e4-121">**그림 1**: 범주 및 제품이 사이트 맵 구조를 구성을 ([전체 크기 이미지를 보려면 클릭](building-a-custom-database-driven-site-map-provider-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="4a2e4-121">**Figure 1**: The Categories and Products Makeup the Site Map s Structure ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image2.png))</span></span>

<span data-ttu-id="4a2e4-122">이 범주 및 제품 기반 구조는 `Web.sitemap` 파일에 하드 코딩 될 수 있지만, 범주 또는 제품이 추가, 제거 또는 이름이 변경 될 때마다 파일을 업데이트 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-122">While this category- and product-based structure could be hard-coded into the `Web.sitemap` file, the file would need to be updated each time a category or product was added, removed, or renamed.</span></span> <span data-ttu-id="4a2e4-123">따라서 데이터베이스에서 구조를 검색 하거나 응용 프로그램 아키텍처의 비즈니스 논리 계층에서 이상적으로 사이트 맵 유지 관리를 크게 간소화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-123">Consequently, the site map maintenance would be greatly simplified if its structure was retrieved from the database or, ideally, from the Business Logic Layer of the application s architecture.</span></span> <span data-ttu-id="4a2e4-124">이러한 방식으로 제품 및 범주가 추가, 이름 변경 또는 삭제 되 면 사이트 맵은 이러한 변경 내용을 반영 하도록 자동으로 업데이트 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-124">That way, as products and categories were added, renamed, or deleted, the site map would automatically update to reflect these changes.</span></span>

<span data-ttu-id="4a2e4-125">ASP.NET 2.0 s 사이트 맵 직렬화는 공급자 모델을 기반으로 하기 때문에 데이터베이스 또는 아키텍처와 같은 대체 데이터 저장소에서 데이터를 가져와 하는 고유한 사용자 지정 사이트 맵 공급자를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-125">Since ASP.NET 2.0 s site map serialization is built atop the provider model, we can create our own custom site map provider that grabs its data from an alternate data store, such as the database or architecture.</span></span> <span data-ttu-id="4a2e4-126">이 자습서에서는 BLL에서 데이터를 검색 하는 사용자 지정 공급자를 빌드합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-126">In this tutorial we'll build a custom provider that retrieves its data from the BLL.</span></span> <span data-ttu-id="4a2e4-127">S를 시작 하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-127">Let s get started!</span></span>

> [!NOTE]
> <span data-ttu-id="4a2e4-128">이 자습서에서 만든 사용자 지정 사이트 맵 공급자는 응용 프로그램의 아키텍처 및 데이터 모델과 긴밀 하 게 연관 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-128">The custom site map provider created in this tutorial is tightly coupled to the application s architecture and data model.</span></span> <span data-ttu-id="4a2e4-129">[SQL Server에 사이트 맵을 저장](https://msdn.microsoft.com/msdnmag/issues/05/06/WickedCode/) 하는 Jeff Prosise와 문서 [를 대기 하는 SQL 사이트 맵 공급자는](https://msdn.microsoft.com/msdnmag/issues/06/02/wickedcode/default.aspx) SQL Server에서 사이트 맵 데이터를 저장 하는 일반화 된 방법을 검토 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-129">Jeff Prosise s [Storing Site Maps in SQL Server](https://msdn.microsoft.com/msdnmag/issues/05/06/WickedCode/) and [The SQL Site Map Provider You ve Been Waiting For](https://msdn.microsoft.com/msdnmag/issues/06/02/wickedcode/default.aspx) articles examine a generalized approach to storing site map data in SQL Server.</span></span>

## <a name="step-1-creating-the-custom-site-map-provider-web-pages"></a><span data-ttu-id="4a2e4-130">1 단계: 사용자 지정 사이트 맵 공급자 웹 페이지 만들기</span><span class="sxs-lookup"><span data-stu-id="4a2e4-130">Step 1: Creating the Custom Site Map Provider Web Pages</span></span>

<span data-ttu-id="4a2e4-131">사용자 지정 사이트 맵 공급자 만들기를 시작 하기 전에 먼저이 자습서에 필요한 ASP.NET 페이지를 추가 해 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-131">Before we start creating a custom site map provider, let s first add the ASP.NET pages we'll need for this tutorial.</span></span> <span data-ttu-id="4a2e4-132">`SiteMapProvider`이라는 새 폴더를 추가 하 여 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-132">Start by adding a new folder named `SiteMapProvider`.</span></span> <span data-ttu-id="4a2e4-133">그런 다음, 다음 ASP.NET 페이지를 해당 폴더에 추가 하 여 각 페이지를 `Site.master` 마스터 페이지에 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-133">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `ProductsByCategory.aspx`
- `ProductDetails.aspx`

<span data-ttu-id="4a2e4-134">또한 `App_Code` 폴더에 `CustomProviders` 하위 폴더를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-134">Also add a `CustomProviders` subfolder to the `App_Code` folder.</span></span>

![사이트 맵 공급자 관련 자습서에 대 한 ASP.NET 페이지 추가](building-a-custom-database-driven-site-map-provider-cs/_static/image2.gif)

<span data-ttu-id="4a2e4-136">**그림 2**: 사이트 맵 공급자 관련 자습서에 대 한 ASP.NET 페이지 추가</span><span class="sxs-lookup"><span data-stu-id="4a2e4-136">**Figure 2**: Add the ASP.NET Pages for the Site Map Provider-Related Tutorials</span></span>

<span data-ttu-id="4a2e4-137">이 섹션에 대 한 자습서는 하나만 있으므로 s 자습서를 나열 하는 `Default.aspx` 필요 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-137">Since there is only one tutorial for this section, we don t need `Default.aspx` to list the section s tutorials.</span></span> <span data-ttu-id="4a2e4-138">대신 `Default.aspx` GridView 컨트롤에 범주가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-138">Instead, `Default.aspx` will display the categories in a GridView control.</span></span> <span data-ttu-id="4a2e4-139">이에 대해서는 2 단계에서 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-139">We'll tackle this in Step 2.</span></span>

<span data-ttu-id="4a2e4-140">다음에는 `Default.aspx` 페이지에 대 한 참조를 포함 하도록 `Web.sitemap`를 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-140">Next, update `Web.sitemap` to include a reference to the `Default.aspx` page.</span></span> <span data-ttu-id="4a2e4-141">특히 캐싱 `<siteMapNode>`후에 다음 태그를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-141">Specifically, add the following markup after the Caching `<siteMapNode>`:</span></span>

[!code-xml[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample1.xml)]

<span data-ttu-id="4a2e4-142">`Web.sitemap`업데이트 한 후 브라우저를 통해 자습서 웹 사이트를 잠시 기다려 주십시오.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-142">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="4a2e4-143">이제 왼쪽의 메뉴에는 유일한 사이트 맵 공급자 자습서에 대 한 항목이 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-143">The menu on the left now includes an item for the sole site map provider tutorial.</span></span>

![이제 사이트 맵에 사이트 맵 공급자 자습서에 대 한 항목이 포함 되어 있습니다.](building-a-custom-database-driven-site-map-provider-cs/_static/image3.gif)

<span data-ttu-id="4a2e4-145">**그림 3**: 사이트 맵에 사이트 맵 공급자 자습서에 대 한 항목이 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-145">**Figure 3**: The Site Map Now Includes an Entry for the Site Map Provider Tutorial</span></span>

<span data-ttu-id="4a2e4-146">이 자습서에서는 사용자 지정 사이트 맵 공급자를 만들고 해당 공급자를 사용 하도록 웹 응용 프로그램을 구성 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-146">This tutorial s main focus is to illustrate creating a custom site map provider and configuring a web application to use that provider.</span></span> <span data-ttu-id="4a2e4-147">특히 그림 1에 나와 있는 것 처럼 각 범주 및 제품에 대 한 노드와 함께 루트 노드를 포함 하는 사이트 맵을 반환 하는 공급자를 빌드합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-147">In particular, we'll build a provider that returns a site map that includes a root node along with a node for each category and product, as depicted in Figure 1.</span></span> <span data-ttu-id="4a2e4-148">일반적으로 사이트 맵의 각 노드는 URL을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-148">In general, each node in the site map may specify a URL.</span></span> <span data-ttu-id="4a2e4-149">사이트 맵의 경우 루트 노드 URL은 `~/SiteMapProvider/Default.aspx`되며 데이터베이스의 모든 범주가 나열 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-149">For our site map, the root node s URL will be `~/SiteMapProvider/Default.aspx`, which will list all of the categories in the database.</span></span> <span data-ttu-id="4a2e4-150">사이트 맵의 각 범주 노드에는 지정 된 *categoryID*의 모든 제품을 나열 하는 `~/SiteMapProvider/ProductsByCategory.aspx?CategoryID=categoryID`를 가리키는 URL이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-150">Each category node in the site map will have a URL that points to `~/SiteMapProvider/ProductsByCategory.aspx?CategoryID=categoryID`, which will list all of the products in the specified *categoryID*.</span></span> <span data-ttu-id="4a2e4-151">마지막으로, 각 제품 사이트 맵 노드는 특정 제품의 세부 정보를 표시 하는 `~/SiteMapProvider/ProductDetails.aspx?ProductID=productID`을 가리킵니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-151">Finally, each product site map node will point to `~/SiteMapProvider/ProductDetails.aspx?ProductID=productID`, which will display the specific product s details.</span></span>

<span data-ttu-id="4a2e4-152">시작 하려면 `Default.aspx`, `ProductsByCategory.aspx`및 `ProductDetails.aspx` 페이지를 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-152">To start we need to create the `Default.aspx`, `ProductsByCategory.aspx`, and `ProductDetails.aspx` pages.</span></span> <span data-ttu-id="4a2e4-153">이러한 페이지는 각각 2, 3 및 4 단계에서 완료 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-153">These pages are completed in Steps 2, 3, and 4, respectively.</span></span> <span data-ttu-id="4a2e4-154">이 자습서의 위한 것는 사이트 맵 공급자에 포함 되어 있으며, 이전 자습서에서는 이러한 종류의 다중 페이지 마스터/세부 보고서를 만들기 때문에 2 ~ 4 단계를 진행 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-154">Since the thrust of this tutorial is on site map providers, and since past tutorials have covered creating these sorts of multi-page master/detail reports, we will hurry through Steps 2 through 4.</span></span> <span data-ttu-id="4a2e4-155">여러 페이지에 걸쳐 있는 마스터/세부 보고서를 만드는 데 리프레셔가 필요한 경우 [두 페이지의 마스터/세부 정보 필터링](../masterdetail/master-detail-filtering-across-two-pages-cs.md) 자습서를 다시 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-155">If you need a refresher on creating master/detail reports that span multiple pages, refer back to the [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial.</span></span>

## <a name="step-2-displaying-a-list-of-categories"></a><span data-ttu-id="4a2e4-156">2 단계: 범주 목록 표시</span><span class="sxs-lookup"><span data-stu-id="4a2e4-156">Step 2: Displaying a List of Categories</span></span>

<span data-ttu-id="4a2e4-157">`SiteMapProvider` 폴더에서 `Default.aspx` 페이지를 열고 GridView를 도구 상자에서 디자이너로 끌어 `ID`를 `Categories`로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-157">Open the `Default.aspx` page in the `SiteMapProvider` folder and drag a GridView from the Toolbox onto the Designer, setting its `ID` to `Categories`.</span></span> <span data-ttu-id="4a2e4-158">GridView의 스마트 태그에서 `CategoriesDataSource` 라는 새 ObjectDataSource에 바인딩하고 `CategoriesBLL` 클래스 s `GetCategories` 메서드를 사용 하 여 데이터를 검색 하도록 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-158">From the GridView s smart tag, bind it to a new ObjectDataSource named `CategoriesDataSource` and configure it so that it retrieves its data using the `CategoriesBLL` class s `GetCategories` method.</span></span> <span data-ttu-id="4a2e4-159">이 GridView는 범주를 표시 하기만 하 고 데이터 수정 기능을 제공 하지 않으므로 업데이트, 삽입 및 삭제 탭의 드롭다운 목록을 (없음)으로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-159">Since this GridView just displays the categories and does not provide data modification capabilities, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) .</span></span>

<span data-ttu-id="4a2e4-160">[GetCategories 메서드를 사용 하 여 범주를 반환 하도록 ObjectDataSource를 구성 ![](building-a-custom-database-driven-site-map-provider-cs/_static/image4.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-160">[![Configure the ObjectDataSource to Return Categories Using the GetCategories Method](building-a-custom-database-driven-site-map-provider-cs/_static/image4.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image3.png)</span></span>

<span data-ttu-id="4a2e4-161">**그림 4**: `GetCategories` 메서드를 사용 하 여 범주를 반환 하도록 ObjectDataSource 구성 ([전체 크기 이미지를 보려면 클릭](building-a-custom-database-driven-site-map-provider-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="4a2e4-161">**Figure 4**: Configure the ObjectDataSource to Return Categories Using the `GetCategories` Method ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image4.png))</span></span>

<span data-ttu-id="4a2e4-162">[업데이트, 삽입 및 삭제 탭의 드롭다운 목록을 (없음)으로 설정 ![](building-a-custom-database-driven-site-map-provider-cs/_static/image5.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-162">[![Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None)](building-a-custom-database-driven-site-map-provider-cs/_static/image5.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image5.png)</span></span>

<span data-ttu-id="4a2e4-163">**그림 5**: 업데이트, 삽입 및 삭제 탭의 드롭다운 목록을 (없음)로 설정 ([전체 크기 이미지를 보려면 클릭](building-a-custom-database-driven-site-map-provider-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="4a2e4-163">**Figure 5**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None) ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image6.png))</span></span>

<span data-ttu-id="4a2e4-164">데이터 소스 구성 마법사를 완료 한 후 Visual Studio에서는 `CategoryID`, `CategoryName`, `Description`, `NumberOfProducts`및 `BrochurePath`에 대 한 BoundField를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-164">After completing the Configure Data Source wizard, Visual Studio will add a BoundField for `CategoryID`, `CategoryName`, `Description`, `NumberOfProducts`, and `BrochurePath`.</span></span> <span data-ttu-id="4a2e4-165">`CategoryName` 및 `Description` BoundFields 포함 하 고 `CategoryName` BoundField s `HeaderText` 속성을 Category로 업데이트 하도록 GridView를 편집 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-165">Edit the GridView so that it only contains the `CategoryName` and `Description` BoundFields and update the `CategoryName` BoundField s `HeaderText` property to Category .</span></span>

<span data-ttu-id="4a2e4-166">다음으로, 하이퍼링크 필드를 추가 하 고 맨 왼쪽 필드에 배치 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-166">Next, add a HyperLinkField and position it so that it s the left-most field.</span></span> <span data-ttu-id="4a2e4-167">`DataNavigateUrlFields` 속성을 `CategoryID`로 설정 하 고 `DataNavigateUrlFormatString` 속성을 `~/SiteMapProvider/ProductsByCategory.aspx?CategoryID={0}`로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-167">Set the `DataNavigateUrlFields` property to `CategoryID` and the `DataNavigateUrlFormatString` property to `~/SiteMapProvider/ProductsByCategory.aspx?CategoryID={0}`.</span></span> <span data-ttu-id="4a2e4-168">제품을 보려면 `Text` 속성을 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-168">Set the `Text` property to View Products .</span></span>

![범주 GridView에 하이퍼링크 필드 추가](building-a-custom-database-driven-site-map-provider-cs/_static/image6.gif)

<span data-ttu-id="4a2e4-170">**그림 6**: `Categories` GridView에 하이퍼링크 필드 추가</span><span class="sxs-lookup"><span data-stu-id="4a2e4-170">**Figure 6**: Add a HyperLinkField to the `Categories` GridView</span></span>

<span data-ttu-id="4a2e4-171">ObjectDataSource를 만들고 GridView 필드를 사용자 지정한 후에 두 가지 컨트롤 선언 태그는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-171">After creating the ObjectDataSource and customizing the GridView s fields, the two controls declarative markup will look like the following:</span></span>

[!code-aspx[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample2.aspx)]

<span data-ttu-id="4a2e4-172">그림 7에는 브라우저를 통해 볼 때 `Default.aspx` 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-172">Figure 7 shows `Default.aspx` when viewed through a browser.</span></span> <span data-ttu-id="4a2e4-173">범주 s 제품 보기 링크를 클릭 하면 3 단계에서 빌드할 `ProductsByCategory.aspx?CategoryID=categoryID`으로 이동 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-173">Clicking a category s View Products link takes you to `ProductsByCategory.aspx?CategoryID=categoryID`, which we will build in Step 3.</span></span>

<span data-ttu-id="4a2e4-174">[각 범주가 제품 보기 링크와 함께 나열 ![](building-a-custom-database-driven-site-map-provider-cs/_static/image7.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-174">[![Each Category is Listed Along with a View Products Link](building-a-custom-database-driven-site-map-provider-cs/_static/image7.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image7.png)</span></span>

<span data-ttu-id="4a2e4-175">**그림 7**: 각 범주가 제품 보기 링크와 함께 나열 됨 ([전체 크기 이미지를 보려면 클릭](building-a-custom-database-driven-site-map-provider-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="4a2e4-175">**Figure 7**: Each Category is Listed Along with a View Products Link ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image8.png))</span></span>

## <a name="step-3-listing-the-selected-category-s-products"></a><span data-ttu-id="4a2e4-176">3 단계: 선택한 범주 제품 나열</span><span class="sxs-lookup"><span data-stu-id="4a2e4-176">Step 3: Listing the Selected Category s Products</span></span>

<span data-ttu-id="4a2e4-177">`ProductsByCategory.aspx` 페이지를 열고 GridView를 추가 하 여 `ProductsByCategory`이름을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-177">Open the `ProductsByCategory.aspx` page and add a GridView, naming it `ProductsByCategory`.</span></span> <span data-ttu-id="4a2e4-178">해당 스마트 태그에서 GridView를 `ProductsByCategoryDataSource`라는 새 ObjectDataSource에 바인딩합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-178">From its smart tag, bind the GridView to a new ObjectDataSource named `ProductsByCategoryDataSource`.</span></span> <span data-ttu-id="4a2e4-179">`ProductsBLL` 클래스 s `GetProductsByCategoryID(categoryID)` 메서드를 사용 하도록 ObjectDataSource를 구성 하 고 업데이트, 삽입 및 삭제 탭에서 드롭다운 목록을 (없음)으로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-179">Configure the ObjectDataSource to use the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method and set the drop-down lists to (None) in the UPDATE, INSERT, and DELETE tabs.</span></span>

<span data-ttu-id="4a2e4-180">[ProductsBLL 클래스 s GetProductsByCategoryID (categoryID) 메서드를 사용 ![](building-a-custom-database-driven-site-map-provider-cs/_static/image8.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-180">[![Use the ProductsBLL Class s GetProductsByCategoryID(categoryID) Method](building-a-custom-database-driven-site-map-provider-cs/_static/image8.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image9.png)</span></span>

<span data-ttu-id="4a2e4-181">**그림 8**: `ProductsBLL` 클래스의 `GetProductsByCategoryID(categoryID)` 메서드 사용 ([전체 크기 이미지를 보려면 클릭](building-a-custom-database-driven-site-map-provider-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="4a2e4-181">**Figure 8**: Use the `ProductsBLL` Class s `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image10.png))</span></span>

<span data-ttu-id="4a2e4-182">데이터 원본 구성 마법사의 마지막 단계에서는 *categoryID*의 매개 변수 원본을 확인 하는 메시지를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-182">The final step in the Configure Data Source wizard prompts for a parameter source for *categoryID*.</span></span> <span data-ttu-id="4a2e4-183">이 정보는 querystring 필드 `CategoryID`를 통해 전달 되므로 그림 9에 표시 된 것 처럼 드롭다운 목록에서 QueryString을 선택 하 고 QueryStringField 텍스트 상자에 CategoryID를 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-183">Since this information is passed through the querystring field `CategoryID`, select QueryString from the drop-down list and enter CategoryID in the QueryStringField textbox as shown in Figure 9.</span></span> <span data-ttu-id="4a2e4-184">마침을 클릭하여 마법사를 완료합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-184">Click Finish to complete the wizard.</span></span>

<span data-ttu-id="4a2e4-185">[categoryID 매개 변수에 대 한 CategoryID Querystring 필드를 사용 ![](building-a-custom-database-driven-site-map-provider-cs/_static/image9.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-185">[![Use the CategoryID Querystring Field for the categoryID Parameter](building-a-custom-database-driven-site-map-provider-cs/_static/image9.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image11.png)</span></span>

<span data-ttu-id="4a2e4-186">**그림 9**: *categoryID* 매개 변수에 대 한 `CategoryID` Querystring 필드 사용 ([전체 크기 이미지를 보려면 클릭](building-a-custom-database-driven-site-map-provider-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="4a2e4-186">**Figure 9**: Use the `CategoryID` Querystring Field for the *categoryID* Parameter ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image12.png))</span></span>

<span data-ttu-id="4a2e4-187">마법사를 완료 한 후 Visual Studio에서 해당 BoundFields 및 CheckBoxField를 product 데이터 필드에 대 한 GridView에 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-187">After completing the wizard, Visual Studio will add corresponding BoundFields and a CheckBoxField to the GridView for the product data fields.</span></span> <span data-ttu-id="4a2e4-188">`ProductName`, `UnitPrice`및 `SupplierName` BoundFields를 제외한 모든을 제거 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-188">Remove all but the `ProductName`, `UnitPrice`, and `SupplierName` BoundFields.</span></span> <span data-ttu-id="4a2e4-189">이러한 세 가지 BoundFields `HeaderText` 속성을 사용자 지정 하 여 제품, 가격 및 공급자를 각각 읽습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-189">Customize these three BoundFields `HeaderText` properties to read Product, Price, and Supplier, respectively.</span></span> <span data-ttu-id="4a2e4-190">`UnitPrice` BoundField를 통화로 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-190">Format the `UnitPrice` BoundField as a currency.</span></span>

<span data-ttu-id="4a2e4-191">다음으로, 하이퍼링크 필드를 추가 하 고 맨 왼쪽 위치로 이동 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-191">Next, add a HyperLinkField and move it to the left-most position.</span></span> <span data-ttu-id="4a2e4-192">세부 정보를 보려면 해당 `Text` 속성을 설정 하 고 `DataNavigateUrlFields` 속성을 `ProductID`로 설정 하 고 `DataNavigateUrlFormatString` 속성을 `~/SiteMapProvider/ProductDetails.aspx?ProductID={0}`로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-192">Set its `Text` property to View Details, its `DataNavigateUrlFields` property to `ProductID`, and its `DataNavigateUrlFormatString` property to `~/SiteMapProvider/ProductDetails.aspx?ProductID={0}`.</span></span>

![제품 세부 정보 .aspx를 가리키는 세부 정보 보기 하이퍼링크 필드를 추가 합니다.](building-a-custom-database-driven-site-map-provider-cs/_static/image10.gif)

<span data-ttu-id="4a2e4-194">**그림 10**: `ProductDetails.aspx`를 가리키는 정보 보기 하이퍼링크 필드 추가</span><span class="sxs-lookup"><span data-stu-id="4a2e4-194">**Figure 10**: Add a View Details HyperLinkField that Points to `ProductDetails.aspx`</span></span>

<span data-ttu-id="4a2e4-195">이러한 사용자 지정을 수행한 후 GridView와 ObjectDataSource의 선언 태그는 다음과 유사 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-195">After making these customizations, the GridView and ObjectDataSource s declarative markup should resemble the following:</span></span>

[!code-aspx[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample3.aspx)]

<span data-ttu-id="4a2e4-196">브라우저를 통해 `Default.aspx` 보기로 돌아가서 음료에 대 한 제품 보기 링크를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-196">Return to viewing `Default.aspx` through a browser and click on the View Products link for Beverages.</span></span> <span data-ttu-id="4a2e4-197">그러면 `ProductsByCategory.aspx?CategoryID=1`로 이동 하 여 음료 범주에 속한 Northwind 데이터베이스의 제품에 대 한 이름, 가격 및 공급 업체를 표시 합니다 (그림 11 참조).</span><span class="sxs-lookup"><span data-stu-id="4a2e4-197">This will take you to `ProductsByCategory.aspx?CategoryID=1`, displaying the names, prices, and suppliers of the products in the Northwind database that belong to the Beverages category (see Figure 11).</span></span> <span data-ttu-id="4a2e4-198">사용자를 범주 목록 페이지 (`Default.aspx`)로 반환 하 고 선택한 범주 이름과 설명을 표시 하는 DetailsView 또는 FormView 컨트롤로 사용자를 반환 하는 링크를 포함 하도록이 페이지를 더욱 향상 시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-198">Feel free to further enhance this page to include a link to return users to the category listing page (`Default.aspx`) and a DetailsView or FormView control that displays the selected category s name and description.</span></span>

<span data-ttu-id="4a2e4-199">[음료 이름, 가격 및 공급자가 표시 ![](building-a-custom-database-driven-site-map-provider-cs/_static/image11.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-199">[![The Beverages Names, Prices, and Suppliers are Displayed](building-a-custom-database-driven-site-map-provider-cs/_static/image11.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image13.png)</span></span>

<span data-ttu-id="4a2e4-200">**그림 11**: 음료 이름, 가격 및 공급 업체 표시 ([전체 크기 이미지를 보려면 클릭](building-a-custom-database-driven-site-map-provider-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="4a2e4-200">**Figure 11**: The Beverages Names, Prices, and Suppliers are Displayed ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image14.png))</span></span>

## <a name="step-4-showing-a-product-s-details"></a><span data-ttu-id="4a2e4-201">4 단계: 제품 정보 표시</span><span class="sxs-lookup"><span data-stu-id="4a2e4-201">Step 4: Showing a Product s Details</span></span>

<span data-ttu-id="4a2e4-202">최종 페이지인 `ProductDetails.aspx`에서 선택한 제품 세부 정보를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-202">The final page, `ProductDetails.aspx`, displays the selected products details.</span></span> <span data-ttu-id="4a2e4-203">`ProductDetails.aspx`를 열고 DetailsView를 도구 상자에서 디자이너로 끌어 옵니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-203">Open `ProductDetails.aspx` and drag a DetailsView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="4a2e4-204">DetailsView s `ID` 속성을 `ProductInfo` 설정 하 고 `Height` 및 `Width` 속성 값을 지웁니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-204">Set the DetailsView s `ID` property to `ProductInfo` and clear out its `Height` and `Width` property values.</span></span> <span data-ttu-id="4a2e4-205">해당 스마트 태그에서 DetailsView을 `ProductDataSource`라는 새 ObjectDataSource에 바인딩하고 `ProductsBLL` 클래스의 `GetProductByProductID(productID)` 메서드에서 해당 데이터를 가져오도록 ObjectDataSource를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-205">From its smart tag, bind the DetailsView to a new ObjectDataSource named `ProductDataSource`, configuring the ObjectDataSource to pull its data from the `ProductsBLL` class s `GetProductByProductID(productID)` method.</span></span> <span data-ttu-id="4a2e4-206">2 단계와 3 단계에서 만든 이전 웹 페이지와 마찬가지로 업데이트, 삽입 및 삭제 탭의 드롭다운 목록을 (없음)으로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-206">As with the previous web pages created in Steps 2 and 3, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) .</span></span>

<span data-ttu-id="4a2e4-207">[Getproductid Byproductid (productID) 메서드를 사용 하도록 ObjectDataSource를 구성 ![](building-a-custom-database-driven-site-map-provider-cs/_static/image12.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-207">[![Configure the ObjectDataSource to Use the GetProductByProductID(productID) Method](building-a-custom-database-driven-site-map-provider-cs/_static/image12.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image15.png)</span></span>

<span data-ttu-id="4a2e4-208">**그림 12**: `GetProductByProductID(productID)` 메서드를 사용 하도록 ObjectDataSource 구성 ([전체 크기 이미지를 보려면 클릭](building-a-custom-database-driven-site-map-provider-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="4a2e4-208">**Figure 12**: Configure the ObjectDataSource to Use the `GetProductByProductID(productID)` Method ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image16.png))</span></span>

<span data-ttu-id="4a2e4-209">데이터 원본 구성 마법사의 마지막 단계에서는 *productID* 매개 변수의 원본을 확인 하는 메시지를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-209">The last step of the Configure Data Source wizard prompts for the source of the *productID* parameter.</span></span> <span data-ttu-id="4a2e4-210">이 데이터는 querystring 필드 `ProductID`를 통해 제공 되므로 드롭다운 목록을 QueryString으로 설정 하 고 QueryStringField textbox를 ProductID로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-210">Since this data comes through the querystring field `ProductID`, set the drop-down list to QueryString and the QueryStringField textbox to ProductID.</span></span> <span data-ttu-id="4a2e4-211">마지막으로 마침 단추를 클릭 하 여 마법사를 완료 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-211">Finally, click the Finish button to complete the wizard.</span></span>

<span data-ttu-id="4a2e4-212">[productid 매개 변수를 구성 하 ![ProductID Querystring 필드에서 해당 값을 가져옵니다.](building-a-custom-database-driven-site-map-provider-cs/_static/image13.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-212">[![Configure the productID Parameter to Pull its Value from the ProductID Querystring Field](building-a-custom-database-driven-site-map-provider-cs/_static/image13.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image17.png)</span></span>

<span data-ttu-id="4a2e4-213">**그림 13**: *productID* 매개 변수가 `ProductID` Querystring 필드에서 해당 값을 가져오도록 구성 ([전체 크기 이미지를 보려면 클릭](building-a-custom-database-driven-site-map-provider-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="4a2e4-213">**Figure 13**: Configure the *productID* Parameter to Pull its Value from the `ProductID` Querystring Field ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image18.png))</span></span>

<span data-ttu-id="4a2e4-214">데이터 소스 구성 마법사를 완료 한 후 Visual Studio에서 product 데이터 필드에 대 한 DetailsView에 해당 BoundFields 및 CheckBoxField를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-214">After completing the Configure Data Source wizard, Visual Studio will create corresponding BoundFields and a CheckBoxField in the DetailsView for the product data fields.</span></span> <span data-ttu-id="4a2e4-215">`ProductID`, `SupplierID`및 `CategoryID` BoundFields를 제거 하 고 나머지 필드를 적절히 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-215">Remove the `ProductID`, `SupplierID`, and `CategoryID` BoundFields and configure the remaining fields as you see fit.</span></span> <span data-ttu-id="4a2e4-216">몇 가지 미적 구성 후에는 DetailsView 및 ObjectDataSource s 선언적 태그가 다음과 같이 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-216">After a handful of aesthetic configurations, my DetailsView and ObjectDataSource s declarative markup looked like the following:</span></span>

[!code-aspx[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample4.aspx)]

<span data-ttu-id="4a2e4-217">이 페이지를 테스트 하려면 `Default.aspx`로 돌아가서 음료 범주에 대 한 제품 보기를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-217">To test this page, return to `Default.aspx` and click on View Products for the Beverages category.</span></span> <span data-ttu-id="4a2e4-218">음료 제품 목록에서 Chai Tea에 대 한 세부 정보 보기 링크를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-218">From the listing of beverage products, click on the View Details link for Chai Tea.</span></span> <span data-ttu-id="4a2e4-219">그러면 Chai Tea s 세부 정보를 표시 하는 `ProductDetails.aspx?ProductID=1`으로 이동 합니다 (그림 14 참조).</span><span class="sxs-lookup"><span data-stu-id="4a2e4-219">This will take you to `ProductDetails.aspx?ProductID=1`, which shows a Chai Tea s details (see Figure 14).</span></span>

<span data-ttu-id="4a2e4-220">[![Chai Tea s 공급자, 범주, 가격 및 기타 정보가 표시 됩니다.](building-a-custom-database-driven-site-map-provider-cs/_static/image14.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-220">[![Chai Tea s Supplier, Category, Price, and Other Information is Displayed](building-a-custom-database-driven-site-map-provider-cs/_static/image14.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image19.png)</span></span>

<span data-ttu-id="4a2e4-221">**그림 14**: Chai Tea s 공급자, 범주, 가격 및 기타 정보가 표시 됩니다 ([전체 크기 이미지를 보려면 클릭](building-a-custom-database-driven-site-map-provider-cs/_static/image20.png)).</span><span class="sxs-lookup"><span data-stu-id="4a2e4-221">**Figure 14**: Chai Tea s Supplier, Category, Price, and Other Information is Displayed ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image20.png))</span></span>

## <a name="step-5-understanding-the-inner-workings-of-a-site-map-provider"></a><span data-ttu-id="4a2e4-222">5 단계: 사이트 맵 공급자의 내부 작업 이해</span><span class="sxs-lookup"><span data-stu-id="4a2e4-222">Step 5: Understanding the Inner Workings of a Site Map Provider</span></span>

<span data-ttu-id="4a2e4-223">사이트 맵은 계층을 형성 하는 `SiteMapNode` 인스턴스의 컬렉션으로 웹 서버 메모리에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-223">The site map is represented in the web server s memory as a collection of `SiteMapNode` instances that form a hierarchy.</span></span> <span data-ttu-id="4a2e4-224">루트 노드는 하나만 있어야 하 고 모든 루트 노드는 정확히 하나의 부모 노드를 포함 해야 하며 모든 노드에는 임의 개수의 자식이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-224">There must be exactly one root, all non-root nodes must have exactly one parent node, and all nodes may have an arbitrary number of children.</span></span> <span data-ttu-id="4a2e4-225">각 `SiteMapNode` 개체는 웹 사이트 구조에 있는 섹션을 나타냅니다. 이러한 섹션에는 일반적으로 해당 웹 페이지가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-225">Each `SiteMapNode` object represents a section in the website s structure; these sections commonly have a corresponding web page.</span></span> <span data-ttu-id="4a2e4-226">따라서 [`SiteMapNode` 클래스](https://msdn.microsoft.com/library/system.web.sitemapnode.aspx) 에는 `SiteMapNode`가 나타내는 섹션에 대 한 정보를 제공 하는 `Title`, `Url`및 `Description`과 같은 속성이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-226">Consequently, the [`SiteMapNode` class](https://msdn.microsoft.com/library/system.web.sitemapnode.aspx) has properties like `Title`, `Url`, and `Description`, which provide information for the section the `SiteMapNode` represents.</span></span> <span data-ttu-id="4a2e4-227">계층의 각 `SiteMapNode`를 고유 하 게 식별 하는 `Key` 속성 뿐만 아니라 `ChildNodes`, `ParentNode`, `NextSibling`, `PreviousSibling`등을 설정 하는 데 사용 되는 속성도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-227">There is also a `Key` property that uniquely identifies each `SiteMapNode` in the hierarchy, as well as properties used to establish this hierarchy `ChildNodes`, `ParentNode`, `NextSibling`, `PreviousSibling`, and so forth.</span></span>

<span data-ttu-id="4a2e4-228">그림 15에서는 그림 1의 일반적인 사이트 맵 구조를 보여 주지만 구현 세부 정보는 보다 자세히 설명 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-228">Figure 15 shows the general site map structure from Figure 1, but with the implementation details sketched out in finer detail.</span></span>

<span data-ttu-id="4a2e4-229">[![각 SiteMapNode에는 제목, Url, 키 등의 속성이 있습니다.](building-a-custom-database-driven-site-map-provider-cs/_static/image16.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image15.gif)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-229">[![Each SiteMapNode has Properties Like Title, Url, Key, and So On](building-a-custom-database-driven-site-map-provider-cs/_static/image16.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image15.gif)</span></span>

<span data-ttu-id="4a2e4-230">**그림 15**: 각 `SiteMapNode`에 `Title`, `Url`, `Key`등의 속성이 있는 경우 ([전체 크기 이미지를 보려면 클릭](building-a-custom-database-driven-site-map-provider-cs/_static/image17.gif))</span><span class="sxs-lookup"><span data-stu-id="4a2e4-230">**Figure 15**: Each `SiteMapNode` has Properties Like `Title`, `Url`, `Key`, and So On ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image17.gif))</span></span>

<span data-ttu-id="4a2e4-231">사이트 맵은 [`System.Web` 네임 스페이스](https://msdn.microsoft.com/library/system.web.aspx)의 [`SiteMap` 클래스](https://msdn.microsoft.com/library/system.web.sitemap.aspx) 를 통해 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-231">The site map is accessible through the [`SiteMap` class](https://msdn.microsoft.com/library/system.web.sitemap.aspx) in the [`System.Web` namespace](https://msdn.microsoft.com/library/system.web.aspx).</span></span> <span data-ttu-id="4a2e4-232">이 클래스 `RootNode` 속성은 사이트 맵 루트 `SiteMapNode` 인스턴스를 반환 합니다. `CurrentNode`는 `Url` 속성이 현재 요청 된 페이지의 URL과 일치 하는 `SiteMapNode` 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-232">This class s `RootNode` property returns the site map s root `SiteMapNode` instance; `CurrentNode` returns the `SiteMapNode` whose `Url` property matches the URL of the currently requested page.</span></span> <span data-ttu-id="4a2e4-233">이 클래스는 ASP.NET 2.0 s 탐색 웹 컨트롤에서 내부적으로 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-233">This class is used internally by ASP.NET 2.0 s navigation Web controls.</span></span>

<span data-ttu-id="4a2e4-234">`SiteMap` 클래스 s 속성에 액세스 하는 경우 일부 영구 미디어에서 메모리로 사이트 맵 구조를 직렬화 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-234">When the `SiteMap` class s properties are accessed, it must serialize the site map structure from some persistent medium into memory.</span></span> <span data-ttu-id="4a2e4-235">그러나 사이트 맵 serialization 논리는 `SiteMap` 클래스로 하드 코딩 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-235">However, the site map serialization logic is not hard coded into the `SiteMap` class.</span></span> <span data-ttu-id="4a2e4-236">대신 런타임에 `SiteMap` 클래스가 serialization에 사용할 사이트 맵 *공급자* 를 결정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-236">Instead, at runtime the `SiteMap` class determines which site map *provider* to use for serialization.</span></span> <span data-ttu-id="4a2e4-237">기본적으로 [`XmlSiteMapProvider` 클래스](https://msdn.microsoft.com/library/system.web.xmlsitemapprovider.aspx) 는 올바른 형식의 XML 파일에서 사이트 맵 s 구조를 읽는 데 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-237">By default, the [`XmlSiteMapProvider` class](https://msdn.microsoft.com/library/system.web.xmlsitemapprovider.aspx) is used, which reads the site map s structure from a properly-formatted XML file.</span></span> <span data-ttu-id="4a2e4-238">그러나 약간의 작업을 통해 사용자 지정 사이트 맵 공급자를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-238">However, with a little bit of work we can create our own custom site map provider.</span></span>

<span data-ttu-id="4a2e4-239">모든 사이트 맵 공급자는 사이트 맵 공급자에 필요한 필수 메서드 및 속성을 포함 하는 [`SiteMapProvider` 클래스](https://msdn.microsoft.com/library/system.web.sitemapprovider.aspx)에서 파생 되어야 하지만 대부분의 구현 세부 정보는 생략 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-239">All site map providers must be derived from the [`SiteMapProvider` class](https://msdn.microsoft.com/library/system.web.sitemapprovider.aspx), which includes the essential methods and properties needed for site map providers, but omits many of the implementation details.</span></span> <span data-ttu-id="4a2e4-240">두 번째 클래스 [`StaticSiteMapProvider`](https://msdn.microsoft.com/library/system.web.staticsitemapprovider.aspx)는 `SiteMapProvider` 클래스를 확장 하 고 필요한 기능의 보다 강력한 구현을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-240">A second class, [`StaticSiteMapProvider`](https://msdn.microsoft.com/library/system.web.staticsitemapprovider.aspx), extends the `SiteMapProvider` class and contains a more robust implementation of the needed functionality.</span></span> <span data-ttu-id="4a2e4-241">내부적으로 `StaticSiteMapProvider`는 사이트 맵의 `SiteMapNode` 인스턴스를 `Hashtable`에 저장 하 고 `RemoveNode(siteMapNode),`를 내부 `Clear()`에 추가 하 고 제거 하는 `AddNode(child, parent)`, `SiteMapNode`, `Hashtable`등의 메서드를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-241">Internally, the `StaticSiteMapProvider` stores the `SiteMapNode` instances of the site map in a `Hashtable` and provides methods like `AddNode(child, parent)`, `RemoveNode(siteMapNode),` and `Clear()` that add and remove `SiteMapNode` s to the internal `Hashtable`.</span></span> <span data-ttu-id="4a2e4-242">`XmlSiteMapProvider`은 `StaticSiteMapProvider`에서 파생 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-242">`XmlSiteMapProvider` is derived from `StaticSiteMapProvider`.</span></span>

<span data-ttu-id="4a2e4-243">`StaticSiteMapProvider`를 확장 하는 사용자 지정 사이트 맵 공급자를 만들 때 재정의 해야 하는 두 가지 추상 메서드 [`BuildSiteMap`](https://msdn.microsoft.com/library/system.web.staticsitemapprovider.buildsitemap.aspx) 및 [`GetRootNodeCore`](https://msdn.microsoft.com/library/system.web.sitemapprovider.getrootnodecore.aspx)있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-243">When creating a custom site map provider that extends `StaticSiteMapProvider`, there are two abstract methods that must be overridden: [`BuildSiteMap`](https://msdn.microsoft.com/library/system.web.staticsitemapprovider.buildsitemap.aspx) and [`GetRootNodeCore`](https://msdn.microsoft.com/library/system.web.sitemapprovider.getrootnodecore.aspx).</span></span> <span data-ttu-id="4a2e4-244">이름에서 알 수 있듯이 `BuildSiteMap`은 영구 저장소에서 사이트 맵 구조를 로드 하 고 메모리에 생성 하는 일을 담당 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-244">`BuildSiteMap`, as its name implies, is responsible for loading the site map structure from persistent storage and constructing it in memory.</span></span> <span data-ttu-id="4a2e4-245">`GetRootNodeCore`는 사이트 맵의 루트 노드를 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-245">`GetRootNodeCore` returns the root node in the site map.</span></span>

<span data-ttu-id="4a2e4-246">웹 응용 프로그램에서 사이트 맵 공급자를 사용 하려면 먼저 응용 프로그램의 구성에 등록 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-246">Before a web application can use a site map provider it must be registered in the application s configuration.</span></span> <span data-ttu-id="4a2e4-247">기본적으로 `XmlSiteMapProvider` 클래스는 `AspNetXmlSiteMapProvider`이름을 사용 하 여 등록 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-247">By default, the `XmlSiteMapProvider` class is registered using the name `AspNetXmlSiteMapProvider`.</span></span> <span data-ttu-id="4a2e4-248">추가 사이트 맵 공급자를 등록 하려면 `Web.config`에 다음 태그를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-248">To register additional site map providers, add the following markup to `Web.config`:</span></span>

[!code-xml[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample5.xml)]

<span data-ttu-id="4a2e4-249">*이름* 값은 사용자가 읽을 수 있는 이름을 공급자에 게 할당 하는 반면 *형식은* 사이트 맵 공급자의 정규화 된 형식 이름을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-249">The *name* value assigns a human-readable name to the provider while *type* specifies the fully-qualified type name of the site map provider.</span></span> <span data-ttu-id="4a2e4-250">사용자 지정 사이트 맵 공급자를 만든 후 7 단계에서 *이름* 및 *형식* 값에 대 한 구체적인 값을 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-250">We'll explore concrete values for the *name* and *type* values in Step 7, after we ve created our custom site map provider.</span></span>

<span data-ttu-id="4a2e4-251">사이트 맵 공급자 클래스는 `SiteMap` 클래스에서 처음 액세스할 때 인스턴스화되고 웹 응용 프로그램의 수명 동안 메모리에 남아 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-251">The site map provider class is instantiated the first time it is accessed from the `SiteMap` class and remains in memory for the lifetime of the web application.</span></span> <span data-ttu-id="4a2e4-252">여러 동시 웹 사이트 방문자가 호출할 수 있는 사이트 맵 공급자의 인스턴스는 하나 뿐 이므로 공급자의 메서드는 *스레드로부터 안전*하 게 보호 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-252">Since there is only one instance of the site map provider that may be invoked from multiple, concurrent web site visitors, it is imperative that the provider s methods be *thread-safe*.</span></span>

<span data-ttu-id="4a2e4-253">성능 및 확장성을 위해 메모리 내 사이트 맵 구조를 캐시 하 고 `BuildSiteMap` 메서드가 호출 될 때마다 다시 만드는 대신 캐시 된 구조체를 반환 하는 것이 중요 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-253">For performance and scalability reasons, it s important that we cache the in-memory site map structure and return this cached structure rather than recreating it every time the `BuildSiteMap` method is invoked.</span></span> <span data-ttu-id="4a2e4-254">페이지에서 사용 중인 탐색 컨트롤과 사이트 맵 구조의 깊이에 따라 사용자별로 페이지 요청당 여러 번 호출 될 수 `BuildSiteMap`.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-254">`BuildSiteMap` may be called several times per page request per user, depending on the navigation controls in use on the page and the depth of the site map structure.</span></span> <span data-ttu-id="4a2e4-255">어떤 경우 든 `BuildSiteMap`에서 사이트 맵 구조를 캐시 하지 않을 경우이를 호출할 때마다 아키텍처에서 제품 및 범주 정보를 다시 검색 해야 합니다 (데이터베이스에 대 한 쿼리가 발생 함).</span><span class="sxs-lookup"><span data-stu-id="4a2e4-255">In any case, if we do not cache the site map structure in `BuildSiteMap` then each time it is invoked we would need to re-retrieve the product and category information from the architecture (which would result in a query to the database).</span></span> <span data-ttu-id="4a2e4-256">이전 캐싱 자습서에서 설명한 바와 같이 캐시 된 데이터는 부실 해질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-256">As we discussed in the previous caching tutorials, cached data can become stale.</span></span> <span data-ttu-id="4a2e4-257">이를 위해 시간 또는 SQL 캐시 종속성 기반 expiries를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-257">To combat this, we can use either time- or SQL cache dependency-based expiries.</span></span>

> [!NOTE]
> <span data-ttu-id="4a2e4-258">사이트 맵 공급자는 선택적으로 [`Initialize` 메서드](https://msdn.microsoft.com/library/system.web.sitemapprovider.initialize.aspx)를 재정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-258">A site map provider may optionally override the [`Initialize` method](https://msdn.microsoft.com/library/system.web.sitemapprovider.initialize.aspx).</span></span> <span data-ttu-id="4a2e4-259">`Initialize`는 사이트 맵 공급자가 처음 인스턴스화될 때 호출 되며, `<add name="name" type="type" customAttribute="value" />`같은 `<add>` 요소의 `Web.config`에서 공급자에 할당 된 사용자 지정 특성을 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-259">`Initialize` is invoked when the site map provider is first instantiated and is passed any custom attributes assigned to the provider in `Web.config` in the `<add>` element like: `<add name="name" type="type" customAttribute="value" />`.</span></span> <span data-ttu-id="4a2e4-260">페이지 개발자가 공급자 코드를 수정 하지 않고도 다양 한 사이트 맵 공급자 관련 설정을 지정할 수 있도록 하려는 경우에 유용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-260">It is useful if you want to allow a page developer to specify various site map provider-related settings without having to modify the provider s code.</span></span> <span data-ttu-id="4a2e4-261">예를 들어 아키텍처를 통하지 않고 데이터베이스에서 직접 범주 및 제품 데이터를 읽는 경우 페이지 개발자가 공급자 코드에서 하드 코딩 된 값을 사용 하는 대신 `Web.config`를 통해 데이터베이스 연결 문자열을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-261">For example, if we were reading the category and products data directly from the database as opposed to through the architecture, we d likely want to let the page developer specify the database connection string through `Web.config` rather than using a hard coded value in the provider s code.</span></span> <span data-ttu-id="4a2e4-262">6 단계에서 빌드할 사용자 지정 사이트 맵 공급자는이 `Initialize` 메서드를 재정의 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-262">The custom site map provider we'll build in Step 6 does not override this `Initialize` method.</span></span> <span data-ttu-id="4a2e4-263">`Initialize` 방법을 사용 하는 예제는 SQL Server 문서에서 [Jeff Prosise](http://www.wintellect.com/Weblogs/CategoryView,category,Jeff%20Prosise.aspx) s [저장 사이트 맵](https://msdn.microsoft.com/msdnmag/issues/05/06/WickedCode/) 을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-263">For an example of using the `Initialize` method, refer to [Jeff Prosise](http://www.wintellect.com/Weblogs/CategoryView,category,Jeff%20Prosise.aspx) s [Storing Site Maps in SQL Server](https://msdn.microsoft.com/msdnmag/issues/05/06/WickedCode/) article.</span></span>

## <a name="step-6-creating-the-custom-site-map-provider"></a><span data-ttu-id="4a2e4-264">6 단계: 사용자 지정 사이트 맵 공급자 만들기</span><span class="sxs-lookup"><span data-stu-id="4a2e4-264">Step 6: Creating the Custom Site Map Provider</span></span>

<span data-ttu-id="4a2e4-265">Northwind 데이터베이스의 범주 및 제품에서 사이트 맵을 작성 하는 사용자 지정 사이트 맵 공급자를 만들려면 `StaticSiteMapProvider`를 확장 하는 클래스를 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-265">To create a custom site map provider that builds the site map from the categories and products in the Northwind database, we need to create a class that extends `StaticSiteMapProvider`.</span></span> <span data-ttu-id="4a2e4-266">1 단계에서 `App_Code` 폴더에 `CustomProviders` 폴더를 추가 하 라는 메시지가 표시 되 면 `NorthwindSiteMapProvider`라는 폴더에 새 클래스를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-266">In Step 1 I asked you to add a `CustomProviders` folder in the `App_Code` folder - add a new class to this folder named `NorthwindSiteMapProvider`.</span></span> <span data-ttu-id="4a2e4-267">`NorthwindSiteMapProvider` 클래스에 다음 코드를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-267">Add the following code to the `NorthwindSiteMapProvider` class:</span></span>

[!code-csharp[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample6.cs)]

<span data-ttu-id="4a2e4-268">[`lock` 문으로](https://msdn.microsoft.com/library/c5kehkcz.aspx)시작 하는이 클래스 `BuildSiteMap` 메서드를 탐색 하는 것으로 시작 하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-268">Let s start with exploring this class s `BuildSiteMap` method, which starts with a [`lock` statement](https://msdn.microsoft.com/library/c5kehkcz.aspx).</span></span> <span data-ttu-id="4a2e4-269">`lock` 문은 한 번에 하나의 스레드만 입력할 수 있도록 하 여 코드에 대 한 액세스를 serialize 하 고 두 개의 동시 스레드가 다른 발가락 한 단계씩 실행 되지 않도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-269">The `lock` statement only allows one thread at a time to enter, thereby serializing access to its code and preventing two concurrent threads from stepping on one another s toes.</span></span>

<span data-ttu-id="4a2e4-270">클래스 수준 `SiteMapNode` 변수 `root`는 사이트 맵 구조를 캐시 하는 데 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-270">The class-level `SiteMapNode` variable `root` is used to cache the site map structure.</span></span> <span data-ttu-id="4a2e4-271">사이트 맵을 처음으로 생성 하거나 기본 데이터가 수정 된 후 처음으로 생성 되는 경우 `root` `null` 되 고 사이트 맵 구조가 생성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-271">When the site map is constructed for the first time, or for the first time after the underlying data has been modified, `root` will be `null` and the site map structure will be constructed.</span></span> <span data-ttu-id="4a2e4-272">다음에이 메서드가 호출 될 때 `root` `null`되지 않도록 생성 프로세스 중에 사이트 맵 루트 노드가 `root`에 할당 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-272">The site map s root node is assigned to `root` during the construction process so that the next time this method is called, `root` will not be `null`.</span></span> <span data-ttu-id="4a2e4-273">따라서 `root` `null` 되지 않은 한, 사이트 맵 구조는 다시 만들 필요 없이 호출자에 게 반환 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-273">Consequently, so long as `root` is not `null` the site map structure will be returned to the caller without having to recreate it.</span></span>

<span data-ttu-id="4a2e4-274">Root가 `null`되 면 제품 및 범주 정보에서 사이트 맵 구조가 생성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-274">If root is `null`, the site map structure is created from the product and category information.</span></span> <span data-ttu-id="4a2e4-275">사이트 맵은 `SiteMapNode` 인스턴스를 만든 다음 `StaticSiteMapProvider` 클래스 s `AddNode` 메서드를 호출 하 여 계층 구조를 구성 하는 방식으로 작성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-275">The site map is built by creating the `SiteMapNode` instances and then forming the hierarchy through calls to the `StaticSiteMapProvider` class s `AddNode` method.</span></span> <span data-ttu-id="4a2e4-276">`AddNode`는 내부 장부를 수행 하 여 `Hashtable`에 다양 한 `SiteMapNode` 인스턴스를 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-276">`AddNode` performs the internal bookkeeping, storing the assorted `SiteMapNode` instances in a `Hashtable`.</span></span> <span data-ttu-id="4a2e4-277">계층 구조 생성을 시작 하기 전에 `Clear` 메서드를 호출 하 여 시작 합니다. 그러면 내부 `Hashtable`에서 요소가 지워집니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-277">Before we start constructing the hierarchy, we start by calling the `Clear` method, which clears out the elements from the internal `Hashtable`.</span></span> <span data-ttu-id="4a2e4-278">그런 다음 `ProductsBLL` 클래스 s `GetProducts` 메서드와 결과 `ProductsDataTable`는 지역 변수에 저장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-278">Next, the `ProductsBLL` class s `GetProducts` method and the resulting `ProductsDataTable` are stored in local variables.</span></span>

<span data-ttu-id="4a2e4-279">루트 노드를 만들고 `root`에 할당 하 여 사이트 맵 생성을 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-279">The site map s construction begins by creating the root node and assigning it to `root`.</span></span> <span data-ttu-id="4a2e4-280">이 `BuildSiteMap` 전체에서 사용 되는 [`SiteMapNode` s 생성자](https://msdn.microsoft.com/library/system.web.sitemapnode.sitemapnode.aspx) 의 오버 로드는 다음 정보를 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-280">The overload of the [`SiteMapNode` s constructor](https://msdn.microsoft.com/library/system.web.sitemapnode.sitemapnode.aspx) used here and throughout this `BuildSiteMap` is passed the following information:</span></span>

- <span data-ttu-id="4a2e4-281">사이트 맵 공급자 (`this`)에 대 한 참조입니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-281">A reference to the site map provider (`this`).</span></span>
- <span data-ttu-id="4a2e4-282">`SiteMapNode` s `Key`입니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-282">The `SiteMapNode` s `Key`.</span></span> <span data-ttu-id="4a2e4-283">이 필수 값은 각 `SiteMapNode`에 대해 고유 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-283">This required value must be unique for each `SiteMapNode`.</span></span>
- <span data-ttu-id="4a2e4-284">`SiteMapNode` s `Url`입니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-284">The `SiteMapNode` s `Url`.</span></span> <span data-ttu-id="4a2e4-285">`Url`는 선택 사항 이지만, 제공 되는 경우 각 `SiteMapNode` s `Url` 값은 고유 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-285">`Url` is optional, but if provided, each `SiteMapNode` s `Url` value must be unique.</span></span>
- <span data-ttu-id="4a2e4-286">필요한 `SiteMapNode` s `Title`입니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-286">The `SiteMapNode` s `Title`, which is required.</span></span>

<span data-ttu-id="4a2e4-287">`AddNode(root)` 메서드 호출은 `SiteMapNode` `root`를 사이트 맵에 루트로 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-287">The `AddNode(root)` method call adds the `SiteMapNode` `root` to the site map as the root.</span></span> <span data-ttu-id="4a2e4-288">그런 다음 `ProductsDataTable`의 각 `ProductRow`를 열거 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-288">Next, each `ProductRow` in the `ProductsDataTable` is enumerated.</span></span> <span data-ttu-id="4a2e4-289">현재 제품 범주에 대 한 `SiteMapNode` 이미 있는 경우이를 참조 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-289">If there already exists a `SiteMapNode` for the current product s category, it is referenced.</span></span> <span data-ttu-id="4a2e4-290">그렇지 않으면 범주에 대 한 새 `SiteMapNode` 생성 되어 `AddNode(categoryNode, root)` 메서드 호출을 통해 `SiteMapNode``root`의 자식으로 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-290">Otherwise, a new `SiteMapNode` for the category is created and added as a child of the `SiteMapNode``root` through the `AddNode(categoryNode, root)` method call.</span></span> <span data-ttu-id="4a2e4-291">적절 한 범주 `SiteMapNode` 노드를 찾거나 만든 후에는 현재 제품에 대 한 `SiteMapNode` 만들어지고 `AddNode(productNode, categoryNode)`를 통해 `SiteMapNode` 범주의 자식으로 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-291">After the appropriate category `SiteMapNode` node has been found or created, a `SiteMapNode` is created for the current product and added as a child of the category `SiteMapNode` via `AddNode(productNode, categoryNode)`.</span></span> <span data-ttu-id="4a2e4-292">Product `SiteMapNode` s `Url` 속성이 `~/SiteMapNode/ProductDetails.aspx?ProductID=productID`할당 된 동안에는 범주 `SiteMapNode` s `Url` 속성 값이 `~/SiteMapProvider/ProductsByCategory.aspx?CategoryID=categoryID` 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-292">Note that the category `SiteMapNode` s `Url` property value is `~/SiteMapProvider/ProductsByCategory.aspx?CategoryID=categoryID` while the product `SiteMapNode` s `Url` property is assigned `~/SiteMapNode/ProductDetails.aspx?ProductID=productID`.</span></span>

> [!NOTE]
> <span data-ttu-id="4a2e4-293">`CategoryID`에 대 한 데이터베이스 `NULL` 값이 있는 제품은 `Title` 속성을 None으로 설정 하 고 `Url` 속성이 빈 문자열로 설정 되어 있는 범주 `SiteMapNode`으로 그룹화 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-293">Those products that have a database `NULL` value for their `CategoryID` are grouped under a category `SiteMapNode` whose `Title` property is set to None and whose `Url` property is set to an empty string.</span></span> <span data-ttu-id="4a2e4-294">`ProductBLL` 클래스 s `GetProductsByCategory(categoryID)` 메서드에 현재 `NULL` `CategoryID` 값을 가진 제품만 반환 하는 기능이 없기 때문에 `Url`를 빈 문자열로 설정 하기로 결정 했습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-294">I decided to set `Url` to an empty string since the `ProductBLL` class s `GetProductsByCategory(categoryID)` method currently lacks the capability to return just those products with a `NULL` `CategoryID` value.</span></span> <span data-ttu-id="4a2e4-295">또한 탐색 컨트롤이 `Url` 속성에 대 한 값이 없는 `SiteMapNode`를 렌더링 하는 방법을 보여 주려고 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-295">Also, I wanted to demonstrate how the navigation controls render a `SiteMapNode` that lacks a value for its `Url` property.</span></span> <span data-ttu-id="4a2e4-296">이 자습서를 확장 하는 것이 좋습니다 `SiteMapNode` s `Url` 속성이 `ProductsByCategory.aspx`를 가리키도록 하지만 `NULL` `CategoryID` 값이 있는 제품만 표시 되도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-296">I encourage you to extend this tutorial so that the None `SiteMapNode` s `Url` property points to `ProductsByCategory.aspx`, yet only displays the products with `NULL` `CategoryID` values.</span></span>

<span data-ttu-id="4a2e4-297">사이트 맵을 생성 한 후에는 `Categories`에 대 한 SQL 캐시 종속성을 사용 하 여 데이터 캐시에 임의의 개체를 추가 하 고 `AggregateCacheDependency` 개체를 통해 테이블을 `Products` 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-297">After constructing the site map, an arbitrary object is added to the data cache using a SQL cache dependency on the `Categories` and `Products` tables through an `AggregateCacheDependency` object.</span></span> <span data-ttu-id="4a2e4-298">이전 자습서에서 sql 캐시 종속성을 사용 하 *여 sql 캐시*종속성을 사용 하는 방법을 살펴보았습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-298">We explored using SQL cache dependencies in the preceding tutorial, *Using SQL Cache Dependencies*.</span></span> <span data-ttu-id="4a2e4-299">그러나 사용자 지정 사이트 맵 공급자는 아직 탐색 하기 위해 사용 하는 데이터 캐시 `Insert` 메서드의 오버 로드를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-299">The custom site map provider, however, uses an overload of the data cache s `Insert` method that we ve yet to explore.</span></span> <span data-ttu-id="4a2e4-300">이 오버 로드는 캐시에서 개체가 제거 될 때 호출 되는 대리자를 최종 입력 매개 변수로 받아들입니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-300">This overload accepts as its final input parameter a delegate that is called when the object is removed from the cache.</span></span> <span data-ttu-id="4a2e4-301">특히 `NorthwindSiteMapProvider` 클래스에서 아래로 정의 된 `OnSiteMapChanged` 메서드를 가리키는 새 [`CacheItemRemovedCallback` 대리자](https://msdn.microsoft.com/library/system.web.caching.cacheitemremovedcallback.aspx) 를 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-301">Specifically, we pass in a new [`CacheItemRemovedCallback` delegate](https://msdn.microsoft.com/library/system.web.caching.cacheitemremovedcallback.aspx) that points to the `OnSiteMapChanged` method defined further down in the `NorthwindSiteMapProvider` class.</span></span>

> [!NOTE]
> <span data-ttu-id="4a2e4-302">사이트 맵의 메모리 내 표현은 `root`클래스 수준 변수를 통해 캐시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-302">The in-memory representation of the site map is cached through the class-level variable `root`.</span></span> <span data-ttu-id="4a2e4-303">사용자 지정 사이트 맵 공급자 클래스의 인스턴스가 하나 뿐이 고 해당 인스턴스가 웹 응용 프로그램의 모든 스레드 간에 공유 되므로이 클래스 변수는 캐시 역할을 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-303">Since there is only one instance of the custom site map provider class and since that instance is shared among all threads in the web application, this class variable serves as a cache.</span></span> <span data-ttu-id="4a2e4-304">`BuildSiteMap` 메서드는 데이터 캐시도 사용 하지만 `Categories` 또는 `Products` 테이블의 기본 데이터베이스 데이터가 변경 될 때 알림을 수신 하는 수단 으로만 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-304">The `BuildSiteMap` method also uses the data cache, but only as a means to receive notification when the underlying database data in the `Categories` or `Products` tables changes.</span></span> <span data-ttu-id="4a2e4-305">데이터 캐시에 저장 되는 값은 현재 날짜 및 시간입니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-305">Note that the value put into the data cache is just the current date and time.</span></span> <span data-ttu-id="4a2e4-306">실제 사이트 맵 데이터는 데이터 캐시에 저장 *되지 않습니다* .</span><span class="sxs-lookup"><span data-stu-id="4a2e4-306">The actual site map data is *not* put in the data cache.</span></span>

<span data-ttu-id="4a2e4-307">`BuildSiteMap` 메서드는 사이트 맵의 루트 노드를 반환 하 여 완료 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-307">The `BuildSiteMap` method completes by returning the root node of the site map.</span></span>

<span data-ttu-id="4a2e4-308">나머지 방법은 매우 간단 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-308">The remaining methods are fairly straightforward.</span></span> <span data-ttu-id="4a2e4-309">`GetRootNodeCore`은 루트 노드를 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-309">`GetRootNodeCore` is responsible for returning the root node.</span></span> <span data-ttu-id="4a2e4-310">`BuildSiteMap` 루트를 반환 하므로 `GetRootNodeCore`는 단순히 `BuildSiteMap` s 반환 값을 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-310">Since `BuildSiteMap` returns the root, `GetRootNodeCore` simply returns `BuildSiteMap` s return value.</span></span> <span data-ttu-id="4a2e4-311">`OnSiteMapChanged` 메서드는 캐시 항목이 제거 될 때 `root`를 `null`으로 다시 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-311">The `OnSiteMapChanged` method sets `root` back to `null` when the cache item is removed.</span></span> <span data-ttu-id="4a2e4-312">Root를 `null`으로 다시 설정 하면 다음에 `BuildSiteMap`를 호출할 때 사이트 맵 구조가 다시 작성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-312">With root set back to `null`, the next time `BuildSiteMap` is invoked, the site map structure will be rebuilt.</span></span> <span data-ttu-id="4a2e4-313">마지막으로 `CachedDate` 속성은 데이터 캐시에 저장 된 날짜 및 시간 값을 반환 합니다 (해당 값이 있는 경우).</span><span class="sxs-lookup"><span data-stu-id="4a2e4-313">Lastly, the `CachedDate` property returns the date and time value stored in the data cache, if such a value exists.</span></span> <span data-ttu-id="4a2e4-314">이 속성은 페이지 개발자가 사이트 맵 데이터가 마지막으로 캐시 된 시기를 확인 하는 데 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-314">This property can be used by a page developer to determine when the site map data was last cached.</span></span>

## <a name="step-7-registering-thenorthwindsitemapprovider"></a><span data-ttu-id="4a2e4-315">7 단계:`NorthwindSiteMapProvider` 등록</span><span class="sxs-lookup"><span data-stu-id="4a2e4-315">Step 7: Registering the`NorthwindSiteMapProvider`</span></span>

<span data-ttu-id="4a2e4-316">웹 응용 프로그램에서 6 단계에서 만든 `NorthwindSiteMapProvider` 사이트 맵 공급자를 사용 하기 위해 `Web.config`의 `<siteMap>` 섹션에 등록 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-316">In order for our web application to use the `NorthwindSiteMapProvider` site map provider created in Step 6, we need to register it in the `<siteMap>` section of `Web.config`.</span></span> <span data-ttu-id="4a2e4-317">특히 `Web.config`의 `<system.web>` 요소 내에 다음 태그를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-317">Specifically, add the following markup within the `<system.web>` element in `Web.config`:</span></span>

[!code-xml[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample7.xml)]

<span data-ttu-id="4a2e4-318">이 태그는 다음 두 가지 작업을 수행 합니다. 첫 번째는 기본 제공 `AspNetXmlSiteMapProvider` 기본 사이트 맵 공급자 임을 나타냅니다. 그런 다음, 6 단계에서 만든 사용자 지정 사이트 맵 공급자를 사용자에 게 친숙 한 이름 Northwind로 등록 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-318">This markup does two things: first, it indicates that the built-in `AspNetXmlSiteMapProvider` is the default site map provider; second, it registers the custom site map provider created in Step 6 with the human-friendly name Northwind .</span></span>

> [!NOTE]
> <span data-ttu-id="4a2e4-319">응용 프로그램의 `App_Code` 폴더에 있는 사이트 맵 공급자의 경우 `type` 특성의 값은 단순히 클래스 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-319">For site map providers located in the application s `App_Code` folder, the value of the `type` attribute is simply the class name.</span></span> <span data-ttu-id="4a2e4-320">또는 컴파일된 어셈블리가 웹 응용 프로그램의 `/Bin` 디렉터리에 배치 된 별도의 클래스 라이브러리 프로젝트에서 사용자 지정 사이트 맵 공급자를 만들었을 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-320">Alternatively, the custom site map provider could have been created in a separate Class Library project with the compiled assembly placed in the web application s `/Bin` directory.</span></span> <span data-ttu-id="4a2e4-321">이 경우 `type` 특성 값은 *네임 스페이스*입니다. *ClassName*, *AssemblyName*</span><span class="sxs-lookup"><span data-stu-id="4a2e4-321">In that case, the `type` attribute value would be *Namespace*.*ClassName*, *AssemblyName* .</span></span>

<span data-ttu-id="4a2e4-322">`Web.config`를 업데이트 한 후 브라우저에서 자습서의 모든 페이지를 잠시 기다려 주십시오.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-322">After updating `Web.config`, take a moment to view any page from the tutorials in a browser.</span></span> <span data-ttu-id="4a2e4-323">왼쪽의 탐색 인터페이스는 `Web.sitemap`에 정의 된 섹션과 자습서를 계속 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-323">Note that the navigation interface on the left still shows the sections and tutorials defined in `Web.sitemap`.</span></span> <span data-ttu-id="4a2e4-324">이는 `AspNetXmlSiteMapProvider` 기본 공급자로 남아 있기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-324">This is because we left `AspNetXmlSiteMapProvider` as the default provider.</span></span> <span data-ttu-id="4a2e4-325">`NorthwindSiteMapProvider`사용 하는 탐색 사용자 인터페이스 요소를 만들기 위해 Northwind 사이트 맵 공급자를 사용 하도록 명시적으로 지정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-325">In order to create a navigation user interface element that uses the `NorthwindSiteMapProvider`, we'll need to explicitly specify that the Northwind site map provider should be used.</span></span> <span data-ttu-id="4a2e4-326">8 단계에서이를 수행 하는 방법을 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-326">We'll see how to accomplish this in Step 8.</span></span>

## <a name="step-8-displaying-site-map-information-using-the-custom-site-map-provider"></a><span data-ttu-id="4a2e4-327">8 단계: 사용자 지정 사이트 맵 공급자를 사용 하 여 사이트 맵 정보 표시</span><span class="sxs-lookup"><span data-stu-id="4a2e4-327">Step 8: Displaying Site Map Information Using the Custom Site Map Provider</span></span>

<span data-ttu-id="4a2e4-328">`Web.config`에서 만들고 등록 한 사용자 지정 사이트 맵 공급자를 사용 하 여 `SiteMapProvider` 폴더의 `Default.aspx`, `ProductsByCategory.aspx`및 `ProductDetails.aspx` 페이지에 탐색 컨트롤을 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-328">With the custom site map provider created and registered in `Web.config`, we re ready to add navigation controls to the `Default.aspx`, `ProductsByCategory.aspx`, and `ProductDetails.aspx` pages in the `SiteMapProvider` folder.</span></span> <span data-ttu-id="4a2e4-329">`Default.aspx` 페이지를 열고 도구 상자에서 디자이너로 `SiteMapPath`을 끌어 옵니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-329">Start by opening the `Default.aspx` page and drag a `SiteMapPath` from the Toolbox onto the Designer.</span></span> <span data-ttu-id="4a2e4-330">SiteMapPath 컨트롤은 도구 상자의 탐색 섹션에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-330">The SiteMapPath control is located in the Navigation section of the Toolbox.</span></span>

<span data-ttu-id="4a2e4-331">[Default.aspx에 SiteMapPath을 추가 ![](building-a-custom-database-driven-site-map-provider-cs/_static/image19.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image18.gif)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-331">[![Add a SiteMapPath to Default.aspx](building-a-custom-database-driven-site-map-provider-cs/_static/image19.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image18.gif)</span></span>

<span data-ttu-id="4a2e4-332">**그림 16**: `Default.aspx`에 SiteMapPath 추가 ([전체 크기 이미지를 보려면 클릭](building-a-custom-database-driven-site-map-provider-cs/_static/image20.gif))</span><span class="sxs-lookup"><span data-stu-id="4a2e4-332">**Figure 16**: Add a SiteMapPath to `Default.aspx` ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image20.gif))</span></span>

<span data-ttu-id="4a2e4-333">SiteMapPath 컨트롤은 사이트 맵 내의 현재 페이지 위치를 나타내는 이동 경로를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-333">The SiteMapPath control displays a breadcrumb, indicating the current page s location within the site map.</span></span> <span data-ttu-id="4a2e4-334">마스터 페이지 *및 사이트 탐색* 자습서에서 마스터 페이지 맨 위에 SiteMapPath을 추가 했습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-334">We added a SiteMapPath to the top of the master page back in the *Master Pages and Site Navigation* tutorial.</span></span>

<span data-ttu-id="4a2e4-335">잠시 시간을 사용 하 여 브라우저를 통해이 페이지를 봅니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-335">Take a moment to view this page through a browser.</span></span> <span data-ttu-id="4a2e4-336">그림 16에서 추가 된 SiteMapPath은 기본 사이트 맵 공급자를 사용 하 여 `Web.sitemap`에서 데이터를 끌어옵니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-336">The SiteMapPath added in Figure 16 uses the default site map provider, pulling its data from `Web.sitemap`.</span></span> <span data-ttu-id="4a2e4-337">따라서 breadcrumb은 오른쪽 위 모서리의 이동 경로와 마찬가지로 사이트 맵을 사용자 지정 하는 홈 &gt; 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-337">Therefore, the breadcrumb shows Home &gt; Customizing the Site Map, just like the breadcrumb in the upper-right corner.</span></span>

<span data-ttu-id="4a2e4-338">[이동 경로가 기본 사이트 맵 공급자를 사용 ![](building-a-custom-database-driven-site-map-provider-cs/_static/image22.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image21.gif)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-338">[![The Breadcrumb Uses the Default Site Map Provider](building-a-custom-database-driven-site-map-provider-cs/_static/image22.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image21.gif)</span></span>

<span data-ttu-id="4a2e4-339">**그림 17**: Breadcrumb이 기본 사이트 맵 공급자를 사용 합니다 ([전체 크기 이미지를 보려면 클릭](building-a-custom-database-driven-site-map-provider-cs/_static/image23.gif)).</span><span class="sxs-lookup"><span data-stu-id="4a2e4-339">**Figure 17**: The Breadcrumb Uses the Default Site Map Provider ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image23.gif))</span></span>

<span data-ttu-id="4a2e4-340">그림 16에서 SiteMapPath을 추가 하려면 6 단계에서 만든 사용자 지정 사이트 맵 공급자를 사용 하 고 [`SiteMapProvider` 속성](https://msdn.microsoft.com/library/system.web.ui.webcontrols.sitemappath.sitemapprovider.aspx) 을 Northwind로 설정 합니다 .이는 `Web.config`의 `NorthwindSiteMapProvider`에 할당 된 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-340">To have the SiteMapPath added in Figure 16 use the custom site map provider we created in Step 6, set its [`SiteMapProvider` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.sitemappath.sitemapprovider.aspx) to Northwind, the name we assigned to the `NorthwindSiteMapProvider` in `Web.config`.</span></span> <span data-ttu-id="4a2e4-341">아쉽게도 디자이너는 계속 해 서 기본 사이트 맵 공급자를 사용 하지만이 속성을 변경한 후 브라우저를 통해 페이지를 방문 하면 이동 경로가 이제 사용자 지정 사이트 맵 공급자를 사용 하는 것을 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-341">Unfortunately, the Designer continues to use the default site map provider, but if you visit the page through a browser after making this property change you'll see that the breadcrumb now uses the custom site map provider.</span></span>

<span data-ttu-id="4a2e4-342">[![이동 경로가 이제 사용자 지정 사이트 맵 공급자 NorthwindSiteMapProvider를 사용 합니다.](building-a-custom-database-driven-site-map-provider-cs/_static/image25.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image24.gif)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-342">[![The Breadcrumb Now Uses the Custom Site Map Provider NorthwindSiteMapProvider](building-a-custom-database-driven-site-map-provider-cs/_static/image25.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image24.gif)</span></span>

<span data-ttu-id="4a2e4-343">**그림 18**: 이제 이동 경로에서 사용자 지정 사이트 맵 공급자 `NorthwindSiteMapProvider` 사용 ([전체 크기 이미지를 보려면 클릭](building-a-custom-database-driven-site-map-provider-cs/_static/image26.gif))</span><span class="sxs-lookup"><span data-stu-id="4a2e4-343">**Figure 18**: The Breadcrumb Now Uses the Custom Site Map Provider `NorthwindSiteMapProvider` ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image26.gif))</span></span>

<span data-ttu-id="4a2e4-344">SiteMapPath 컨트롤은 `ProductsByCategory.aspx` 및 `ProductDetails.aspx` 페이지에서 더 많은 기능을 갖춘 사용자 인터페이스를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-344">The SiteMapPath control displays a more functional user interface in the `ProductsByCategory.aspx` and `ProductDetails.aspx` pages.</span></span> <span data-ttu-id="4a2e4-345">이러한 페이지에 SiteMapPath을 추가 하 여 Northwind에 대 한 `SiteMapProvider` 속성을 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-345">Add a SiteMapPath to these pages, setting the `SiteMapProvider` property in both to Northwind.</span></span> <span data-ttu-id="4a2e4-346">`Default.aspx`에서 음료에 대 한 제품 보기 링크를 클릭 한 다음 Chai Tea에 대 한 세부 정보 보기 링크를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-346">From `Default.aspx` click on the View Products link for Beverages, and then on the View Details link for Chai Tea.</span></span> <span data-ttu-id="4a2e4-347">그림 19와 같이 이동 경로에는 현재 사이트 맵 섹션 (Chai Tea) 및 해당 상위: 음료와 모든 범주가 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-347">As Figure 19 shows, the breadcrumb includes the current site map section ( Chai Tea ) and its ancestors: Beverages and All Categories .</span></span>

<span data-ttu-id="4a2e4-348">[![이동 경로가 이제 사용자 지정 사이트 맵 공급자 NorthwindSiteMapProvider를 사용 합니다.](building-a-custom-database-driven-site-map-provider-cs/_static/image27.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-348">[![The Breadcrumb Now Uses the Custom Site Map Provider NorthwindSiteMapProvider](building-a-custom-database-driven-site-map-provider-cs/_static/image27.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image21.png)</span></span>

<span data-ttu-id="4a2e4-349">**그림 19**: 이제 이동 경로에서 사용자 지정 사이트 맵 공급자 `NorthwindSiteMapProvider` 사용 ([전체 크기 이미지를 보려면 클릭](building-a-custom-database-driven-site-map-provider-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="4a2e4-349">**Figure 19**: The Breadcrumb Now Uses the Custom Site Map Provider `NorthwindSiteMapProvider` ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image22.png))</span></span>

<span data-ttu-id="4a2e4-350">메뉴 및 TreeView 컨트롤과 같이 SiteMapPath 외에 다른 탐색 사용자 인터페이스 요소를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-350">Other navigation user interface elements can be used in addition to the SiteMapPath, such as the Menu and TreeView controls.</span></span> <span data-ttu-id="4a2e4-351">이 자습서에 대 한 다운로드의 `Default.aspx`, `ProductsByCategory.aspx`및 `ProductDetails.aspx` 페이지 (예: 모든 포함 메뉴 컨트롤) (그림 20 참조).</span><span class="sxs-lookup"><span data-stu-id="4a2e4-351">The `Default.aspx`, `ProductsByCategory.aspx`, and `ProductDetails.aspx` pages in the download for this tutorial, for example, all include Menu controls (see Figure 20).</span></span> <span data-ttu-id="4a2e4-352">ASP.NET 2.0의 탐색 컨트롤 및 사이트 맵 시스템에 대 한 자세한 내용은 [ASP.NET 2.0 s 사이트 탐색 기능](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx) 및 [ASP.NET 2.0 퀵 스타트](https://quickstarts.asp.net/QuickStartv20/aspnet/) 의 [사이트 탐색 컨트롤 사용](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/navigation/sitenavcontrols.aspx) 섹션을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-352">See [Examining ASP.NET 2.0 s Site Navigation Features](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx) and the [Using Site Navigation Controls](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/navigation/sitenavcontrols.aspx) section of the [ASP.NET 2.0 QuickStarts](https://quickstarts.asp.net/QuickStartv20/aspnet/) for a more in-depth look at the navigation controls and site map system in ASP.NET 2.0.</span></span>

<span data-ttu-id="4a2e4-353">[메뉴 컨트롤 ![각 범주와 제품을 나열 합니다.](building-a-custom-database-driven-site-map-provider-cs/_static/image29.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image28.gif)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-353">[![The Menu Control Lists Each of the Categories and Products](building-a-custom-database-driven-site-map-provider-cs/_static/image29.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image28.gif)</span></span>

<span data-ttu-id="4a2e4-354">**그림 20**: 메뉴 컨트롤은 각 범주 및 제품을 나열 합니다 ([전체 크기 이미지를 보려면 클릭](building-a-custom-database-driven-site-map-provider-cs/_static/image30.gif)).</span><span class="sxs-lookup"><span data-stu-id="4a2e4-354">**Figure 20**: The Menu Control Lists Each of the Categories and Products ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image30.gif))</span></span>

<span data-ttu-id="4a2e4-355">이 자습서의 앞부분에서 설명한 것 처럼 `SiteMap` 클래스를 통해 프로그래밍 방식으로 사이트 맵 구조에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-355">As mentioned earlier in this tutorial, the site map structure can be accessed programmatically through the `SiteMap` class.</span></span> <span data-ttu-id="4a2e4-356">다음 코드는 기본 공급자의 루트 `SiteMapNode`를 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-356">The following code returns the root `SiteMapNode` of the default provider:</span></span>

[!code-csharp[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample8.cs)]

<span data-ttu-id="4a2e4-357">`AspNetXmlSiteMapProvider`는 응용 프로그램의 기본 공급자 이므로 위의 코드는 `Web.sitemap`에 정의 된 루트 노드를 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-357">Since the `AspNetXmlSiteMapProvider` is the default provider for our application, the above code would return the root node defined in `Web.sitemap`.</span></span> <span data-ttu-id="4a2e4-358">기본값이 아닌 사이트 맵 공급자를 참조 하려면 다음과 같이 `SiteMap` 클래스 [`Providers` 속성](https://msdn.microsoft.com/library/system.web.sitemap.providers.aspx) 을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-358">To reference a site map provider other than the default, use the `SiteMap` class s [`Providers` property](https://msdn.microsoft.com/library/system.web.sitemap.providers.aspx) like so:</span></span>

[!code-csharp[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample9.cs)]

<span data-ttu-id="4a2e4-359">여기서 *name* 은 웹 응용 프로그램에 대 한 Northwind 사용자 지정 사이트 맵 공급자의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-359">Where *name* is the name of the custom site map provider ( Northwind, for our web application).</span></span>

<span data-ttu-id="4a2e4-360">사이트 맵 공급자에 해당 하는 멤버에 액세스 하려면 `SiteMap.Providers["name"]`를 사용 하 여 공급자 인스턴스를 검색 한 다음 적절 한 형식으로 캐스팅 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-360">To access a member specific to a site map provider, use `SiteMap.Providers["name"]` to retrieve the provider instance and then cast it to the appropriate type.</span></span> <span data-ttu-id="4a2e4-361">예를 들어, ASP.NET 페이지에 `NorthwindSiteMapProvider` s `CachedDate` 속성을 표시 하려면 다음 코드를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-361">For example, to display the `NorthwindSiteMapProvider` s `CachedDate` property in an ASP.NET page, use the following code:</span></span>

[!code-csharp[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample10.cs)]

> [!NOTE]
> <span data-ttu-id="4a2e4-362">SQL 캐시 종속성 기능을 테스트 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-362">Be sure to test out the SQL cache dependency feature.</span></span> <span data-ttu-id="4a2e4-363">`Default.aspx`, `ProductsByCategory.aspx`및 `ProductDetails.aspx` 페이지를 방문한 후 편집, 삽입 및 삭제 섹션의 자습서 중 하나로 이동 하 여 범주 또는 제품의 이름을 편집 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-363">After visiting the `Default.aspx`, `ProductsByCategory.aspx`, and `ProductDetails.aspx` pages, go to one of the tutorials in the Editing, Inserting, and Deleting section and edit the name of a category or product.</span></span> <span data-ttu-id="4a2e4-364">그런 다음 `SiteMapProvider` 폴더에 있는 페이지 중 하나로 돌아갑니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-364">Then return to one of the pages in the `SiteMapProvider` folder.</span></span> <span data-ttu-id="4a2e4-365">기본 데이터베이스에 대 한 변경 내용을 확인 하기 위해 폴링 메커니즘에 충분 한 시간이 경과 되었다고 가정할 경우 새 제품 또는 범주 이름을 표시 하도록 사이트 맵을 업데이트 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-365">Assuming enough time has passed for the polling mechanism to note the change to the underlying database, the site map should be updated to show the new product or category name.</span></span>

## <a name="summary"></a><span data-ttu-id="4a2e4-366">요약</span><span class="sxs-lookup"><span data-stu-id="4a2e4-366">Summary</span></span>

<span data-ttu-id="4a2e4-367">ASP.NET 2.0 s 사이트 맵 기능에는 `SiteMap` 클래스, 다양 한 기본 제공 탐색 웹 컨트롤 및 XML 파일에 유지 되는 사이트 맵 정보를 필요로 하는 기본 사이트 맵 공급자가 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-367">ASP.NET 2.0 s site map features includes a `SiteMap` class, a number of built-in navigation Web controls, and a default site map provider that expects the site map information persisted to an XML file.</span></span> <span data-ttu-id="4a2e4-368">데이터베이스, 응용 프로그램 아키텍처 또는 원격 웹 서비스 등의 다른 원본에서 사이트 맵 정보를 사용 하려면 사용자 지정 사이트 맵 공급자를 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-368">In order to use site map information from some other source such as from a database, the application s architecture, or a remote Web service we need to create a custom site map provider.</span></span> <span data-ttu-id="4a2e4-369">여기에는 `SiteMapProvider` 클래스에서 직접 또는 간접적으로 파생 되는 클래스를 만드는 작업이 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-369">This involves creating a class that derives, directly or indirectly, from the `SiteMapProvider` class.</span></span>

<span data-ttu-id="4a2e4-370">이 자습서에서는 응용 프로그램 아키텍처에서 제품 및 범주 정보 추출에 대 한 사이트 맵을 기반으로 하는 사용자 지정 사이트 맵 공급자를 만드는 방법에 대해 살펴보았습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-370">In this tutorial we saw how to create a custom site map provider that based the site map on the product and category information culled from the application architecture.</span></span> <span data-ttu-id="4a2e4-371">공급자는 `StaticSiteMapProvider` 클래스를 확장 하 고, 데이터를 검색 하 고, 사이트 맵 계층 구조를 생성 하 고, 결과 구조를 클래스 수준 변수에 캐시 하는 `BuildSiteMap` 메서드를 수반.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-371">Our provider extended the `StaticSiteMapProvider` class and entailed creating a `BuildSiteMap` method that retrieved the data, constructed the site map hierarchy, and cached the resulting structure in a class-level variable.</span></span> <span data-ttu-id="4a2e4-372">기본 `Categories` 또는 `Products` 데이터가 수정 될 때 캐시 된 구조를 무효화 하기 위해 콜백 함수와 함께 SQL 캐시 종속성을 사용 했습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-372">We used a SQL cache dependency with a callback function to invalidate the cached structure when the underlying `Categories` or `Products` data is modified.</span></span>

<span data-ttu-id="4a2e4-373">행복 한 프로그래밍</span><span class="sxs-lookup"><span data-stu-id="4a2e4-373">Happy Programming!</span></span>

## <a name="further-reading"></a><span data-ttu-id="4a2e4-374">추가 정보</span><span class="sxs-lookup"><span data-stu-id="4a2e4-374">Further Reading</span></span>

<span data-ttu-id="4a2e4-375">이 자습서에서 설명 하는 항목에 대 한 자세한 내용은 다음 리소스를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-375">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- <span data-ttu-id="4a2e4-376">SQL Server 및 [사용자가 기다리는 SQL 사이트 맵 공급자](https://msdn.microsoft.com/msdnmag/issues/06/02/wickedcode/default.aspx) [에 사이트 맵 저장](https://msdn.microsoft.com/msdnmag/issues/05/06/WickedCode/)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-376">[Storing Site Maps in SQL Server](https://msdn.microsoft.com/msdnmag/issues/05/06/WickedCode/) and [The SQL Site Map Provider You ve Been Waiting For](https://msdn.microsoft.com/msdnmag/issues/06/02/wickedcode/default.aspx)</span></span>
- [<span data-ttu-id="4a2e4-377">ASP.NET 2.0 s 공급자 모델 살펴보기</span><span class="sxs-lookup"><span data-stu-id="4a2e4-377">A Look at ASP.NET 2.0 s Provider Model</span></span>](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx)
- [<span data-ttu-id="4a2e4-378">공급자 도구 키트</span><span class="sxs-lookup"><span data-stu-id="4a2e4-378">The Provider Toolkit</span></span>](https://msdn.microsoft.com/asp.net/aa336558.aspx)
- [<span data-ttu-id="4a2e4-379">ASP.NET 2.0 s 사이트 탐색 기능 검사</span><span class="sxs-lookup"><span data-stu-id="4a2e4-379">Examining ASP.NET 2.0 s Site Navigation Features</span></span>](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx)

## <a name="about-the-author"></a><span data-ttu-id="4a2e4-380">작성자 정보</span><span class="sxs-lookup"><span data-stu-id="4a2e4-380">About the Author</span></span>

<span data-ttu-id="4a2e4-381">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)(7 개의 ASP/ASP. NET books 및 [4GuysFromRolla.com](http://www.4guysfromrolla.com)창립자)은 1998부터 Microsoft 웹 기술을 사용 하 여 작업 했습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-381">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="4a2e4-382">Scott은 독립 컨설턴트, 강사 및 기록기로 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-382">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="4a2e4-383">최신 책은 [*24 시간 이내에 ASP.NET 2.0을 sams teach yourself*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)것입니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-383">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="4a2e4-384">mitchell@4GuysFromRolla.com에 도달할 수 있습니다 [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-384">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="4a2e4-385">또는 블로그를 통해 [http://ScottOnWriting.NET](http://ScottOnWriting.NET)에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-385">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="4a2e4-386">특별히 감사 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-386">Special Thanks To</span></span>

<span data-ttu-id="4a2e4-387">이 자습서 시리즈는 많은 유용한 검토자가 검토 했습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-387">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="4a2e4-388">이 자습서의 리드 검토자는 Dave Gardner, Zack Jones, Teresa Murphy 및 Bernadette Leigh 였습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2e4-388">Lead reviewers for this tutorial were Dave Gardner, Zack Jones, Teresa Murphy, and Bernadette Leigh.</span></span> <span data-ttu-id="4a2e4-389">예정 된 MSDN 문서를 검토 하는 데 관심이 있나요?</span><span class="sxs-lookup"><span data-stu-id="4a2e4-389">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="4a2e4-390">그렇다면mitchell@4GuysFromRolla.com에서 줄을 삭제 [합니다.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="4a2e4-390">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="4a2e4-391">다음</span><span class="sxs-lookup"><span data-stu-id="4a2e4-391">Next</span></span>](building-a-custom-database-driven-site-map-provider-vb.md)
