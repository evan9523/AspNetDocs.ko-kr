---
uid: web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/adding-validation-controls-to-the-datalist-s-editing-interface-cs
title: DataList에 유효성 검사 컨트롤 추가 편집 인터페이스 (C#) | Microsoft Docs
author: rick-anderson
description: 이 자습서를 간단 명료 편집 사용자 없는 정수를 제공 하기 위해 DataList의 EditItemTemplate에 유효성 검사 컨트롤을 추가할 얼마나 쉬운지 살펴보겠습니다...
ms.author: riande
ms.date: 10/30/2006
ms.assetid: 3ecc21c5-da0e-40ab-abb4-fac1e47398ad
msc.legacyurl: /web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/adding-validation-controls-to-the-datalist-s-editing-interface-cs
msc.type: authoredcontent
ms.openlocfilehash: 5dc2421f6c3fa88a9373e7ac1b7ad51be6e65b82
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59422215"
---
# <a name="adding-validation-controls-to-the-datalists-editing-interface-c"></a><span data-ttu-id="b5ac3-103">DataList의 편집 인터페이스에 유효성 검사 컨트롤 추가(C#)</span><span class="sxs-lookup"><span data-stu-id="b5ac3-103">Adding Validation Controls to the DataList's Editing Interface (C#)</span></span>

<span data-ttu-id="b5ac3-104">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="b5ac3-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="b5ac3-105">[샘플 앱을 다운로드](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_39_CS.exe) 또는 [PDF 다운로드](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/datatutorial39cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="b5ac3-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_39_CS.exe) or [Download PDF](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/datatutorial39cs1.pdf)</span></span>

> <span data-ttu-id="b5ac3-106">이 자습서를 간단 명료 편집 사용자 인터페이스를 제공 하기 위해 DataList의 EditItemTemplate에 유효성 검사 컨트롤을 추가할 얼마나 쉬운지 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-106">In this tutorial we'll see how easy it is to add validation controls to the DataList's EditItemTemplate in order to provide a more foolproof editing user interface.</span></span>


## <a name="introduction"></a><span data-ttu-id="b5ac3-107">소개</span><span class="sxs-lookup"><span data-stu-id="b5ac3-107">Introduction</span></span>

<span data-ttu-id="b5ac3-108">자습서를 지금 편집 DataList에서 누락 된 제품 이름 또는 예외가 음수 가격 결과 같은 잘못 된 사용자 입력도 사전 사용자 입력된 유효성 검사 인터페이스 편집 DataLists 포함할 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-108">In the DataList editing tutorials thus far, the DataLists editing interfaces have not included any proactive user input validation even though invalid user input such as a missing product name or negative price results in an exception.</span></span> <span data-ttu-id="b5ac3-109">에 [이전 자습서](handling-bll-and-dal-level-exceptions-cs.md) 예외 처리 코드의 DataList 추가 하는 방법을 살펴보았습니다 `UpdateCommand` catch 하 고 정상적으로 발생 하는 모든 예외에 대 한 정보를 표시 하기 위해 이벤트 처리기입니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-109">In the [preceding tutorial](handling-bll-and-dal-level-exceptions-cs.md) we examined how to add exception handling code to the DataList s `UpdateCommand` event handler in order to catch and gracefully display information about any exceptions that were raised.</span></span> <span data-ttu-id="b5ac3-110">그러나 이상적으로 편집 인터페이스는 이러한 잘못 된 데이터를 처음부터 입력에서 사용자를 방지 하기 위해 유효성 검사 컨트롤입니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-110">Ideally, however, the editing interface would include validation controls to prevent a user from entering such invalid data in the first place.</span></span>

<span data-ttu-id="b5ac3-111">이 자습서에서는 살펴보겠습니다 DataList s에 유효성 검사 컨트롤을 추가할 얼마나 쉬운지 `EditItemTemplate` 간단 명료 편집 사용자 인터페이스를 제공 하기 위해.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-111">In this tutorial we'll see how easy it is to add validation controls to the DataList s `EditItemTemplate` in order to provide a more foolproof editing user interface.</span></span> <span data-ttu-id="b5ac3-112">특히,이 자습서는 이전 자습서에서 만든 예제를 사용 하 고 적절 한 유효성 검사를 포함 하는 편집 인터페이스 확대.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-112">Specifically, this tutorial takes the example created in the preceding tutorial and augments the editing interface to include appropriate validation.</span></span>

## <a name="step-1-replicating-the-example-fromhandling-bll--and-dal-level-exceptionshandling-bll-and-dal-level-exceptions-csmd"></a><span data-ttu-id="b5ac3-113">1단계: 예제를 복제[BLL 및 DAL 수준의 예외 처리](handling-bll-and-dal-level-exceptions-cs.md)</span><span class="sxs-lookup"><span data-stu-id="b5ac3-113">Step 1: Replicating the Example from[Handling BLL- and DAL-Level Exceptions](handling-bll-and-dal-level-exceptions-cs.md)</span></span>

<span data-ttu-id="b5ac3-114">에 [처리 BLL 및 DAL 수준의 예외](handling-bll-and-dal-level-exceptions-cs.md) 자습서 이름과 두 개의 열, 편집 가능한 DataList 제품의 가격을 나열 하는 페이지를 만들었습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-114">In the [Handling BLL- and DAL-Level Exceptions](handling-bll-and-dal-level-exceptions-cs.md) tutorial we created a page that listed the names and prices of the products in a two-column, editable DataList.</span></span> <span data-ttu-id="b5ac3-115">이 자습서에 대 한 우리의 목표는 DataList s 편집 인터페이스 유효성 검사 컨트롤을 포함 하도록 확장입니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-115">Our goal for this tutorial is to augment the DataList s editing interface to include validation controls.</span></span> <span data-ttu-id="b5ac3-116">특히이 유효성 검사 논리는:</span><span class="sxs-lookup"><span data-stu-id="b5ac3-116">In particular, our validation logic will:</span></span>

- <span data-ttu-id="b5ac3-117">S 제품 이름에 제공 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-117">Require that the product s name be provided</span></span>
- <span data-ttu-id="b5ac3-118">가격에 대 한 입력 한 값을 유효한 통화 형식 인지 확인</span><span class="sxs-lookup"><span data-stu-id="b5ac3-118">Ensure that the value entered for the price is a valid currency format</span></span>
- <span data-ttu-id="b5ac3-119">가격 보다 크거나 음수 이후 0에 대 한 입력 된 값이 `UnitPrice` 값 올바르지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-119">Ensure that the value entered for the price is greater than or equal to zero, since a negative `UnitPrice` value is illegal</span></span>

<span data-ttu-id="b5ac3-120">먼저에서 예제를 복제 해야 전에 확장 유효성 검사를 포함 하도록 앞의 예제를 살펴볼 수 있습니다는 `ErrorHandling.aspx` 페이지에 `EditDeleteDataList` 이 자습서에서는 페이지에는 폴더 `UIValidation.aspx`합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-120">Before we can look at augmenting the previous example to include validation, we first need to replicate the example from the `ErrorHandling.aspx` page in the `EditDeleteDataList` folder to the page for this tutorial, `UIValidation.aspx`.</span></span> <span data-ttu-id="b5ac3-121">모두 복사 해야이 작업을 수행 하는 `ErrorHandling.aspx` s 선언적 태그와 해당 소스 코드 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-121">To achieve this we need to copy over both the `ErrorHandling.aspx` page s declarative markup and its source code.</span></span> <span data-ttu-id="b5ac3-122">먼저 다음 단계를 수행 하 여 선언적 태그도 복사 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-122">First copy over the declarative markup by performing the following steps:</span></span>

1. <span data-ttu-id="b5ac3-123">열기는 `ErrorHandling.aspx` Visual Studio에서 페이지</span><span class="sxs-lookup"><span data-stu-id="b5ac3-123">Open the `ErrorHandling.aspx` page in Visual Studio</span></span>
2. <span data-ttu-id="b5ac3-124">페이지 s 선언적 태그 (페이지의 맨 아래에 있는 원본 단추 클릭)로 이동</span><span class="sxs-lookup"><span data-stu-id="b5ac3-124">Go to the page s declarative markup (click on the Source button at the bottom of the page)</span></span>
3. <span data-ttu-id="b5ac3-125">내에서 텍스트를 복사 합니다 `<asp:Content>` 및 `</asp:Content>` 그림 1에 표시 된 것된으로 태그 (줄 3 ~ 32).</span><span class="sxs-lookup"><span data-stu-id="b5ac3-125">Copy the text within the `<asp:Content>` and `</asp:Content>` tags (lines 3 through 32), as shown in Figure 1.</span></span>


<span data-ttu-id="b5ac3-126">[![텍스트 내에 복사 합니다 &lt;asp: Content&gt; 컨트롤](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image2.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="b5ac3-126">[![Copy the Text Within the &lt;asp:Content&gt; Control](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image2.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image1.png)</span></span>

<span data-ttu-id="b5ac3-127">**그림 1**: 텍스트 내에 복사 합니다 `<asp:Content>` 컨트롤 ([큰 이미지를 보려면 클릭](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="b5ac3-127">**Figure 1**: Copy the Text Within the `<asp:Content>` Control ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image3.png))</span></span>


1. <span data-ttu-id="b5ac3-128">열기는 `UIValidation.aspx` 페이지</span><span class="sxs-lookup"><span data-stu-id="b5ac3-128">Open the `UIValidation.aspx` page</span></span>
2. <span data-ttu-id="b5ac3-129">페이지 s 선언적 태그로 이동</span><span class="sxs-lookup"><span data-stu-id="b5ac3-129">Go to the page s declarative markup</span></span>
3. <span data-ttu-id="b5ac3-130">내에서 텍스트를 붙여 넣습니다는 `<asp:Content>` 제어 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-130">Paste the text within the `<asp:Content>` control.</span></span>

<span data-ttu-id="b5ac3-131">소스 코드를 복사 하려면 엽니다는 `ErrorHandling.aspx.vb` 페이지 및 텍스트만 복사 *내* 는 `EditDeleteDataList_ErrorHandling` 클래스.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-131">To copy over the source code, open the `ErrorHandling.aspx.vb` page and copy just the text *within* the `EditDeleteDataList_ErrorHandling` class.</span></span> <span data-ttu-id="b5ac3-132">세 개의 이벤트 처리기를 복사 (`Products_EditCommand`, `Products_CancelCommand`, 및 `Products_UpdateCommand`)와 함께 `DisplayExceptionDetails` 메서드 없이 **하지** 클래스 선언 복사 또는 `using` 문.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-132">Copy the three event handlers (`Products_EditCommand`, `Products_CancelCommand`, and `Products_UpdateCommand`) along with the `DisplayExceptionDetails` method, but do **not** copy the class declaration or `using` statements.</span></span> <span data-ttu-id="b5ac3-133">복사한 텍스트를 붙여 넣습니다 *내* 는 `EditDeleteDataList_UIValidation` 클래스 `UIValidation.aspx.vb`합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-133">Paste the copied text *within* the `EditDeleteDataList_UIValidation` class in `UIValidation.aspx.vb`.</span></span>

<span data-ttu-id="b5ac3-134">콘텐츠 및 코드를 통해 이동한 후 `ErrorHandling.aspx` 에 `UIValidation.aspx`, 잠시 브라우저에서 페이지를 테스트 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-134">After moving over the content and code from `ErrorHandling.aspx` to `UIValidation.aspx`, take a moment to test out the pages in a browser.</span></span> <span data-ttu-id="b5ac3-135">이러한 두 페이지 (그림 2 참조)에서 각각에 동일한 기능을 경험 및 동일한 출력이 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-135">You should see the same output and experience the same functionality in each of these two pages (see Figure 2).</span></span>


<span data-ttu-id="b5ac3-136">[![UIValidation.aspx 페이지 ErrorHandling.aspx의 기능을 모방](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image5.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="b5ac3-136">[![The UIValidation.aspx Page Mimics the Functionality in ErrorHandling.aspx](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image5.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image4.png)</span></span>

<span data-ttu-id="b5ac3-137">**그림 2**: 합니다 `UIValidation.aspx` 페이지에서 기능을 모방 `ErrorHandling.aspx` ([클릭 하 여 큰 이미지 보기](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="b5ac3-137">**Figure 2**: The `UIValidation.aspx` Page Mimics the Functionality in `ErrorHandling.aspx` ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image6.png))</span></span>


## <a name="step-2-adding-the-validation-controls-to-the-datalist-s-edititemtemplate"></a><span data-ttu-id="b5ac3-138">2단계: DataList의 EditItemTemplate에 유효성 검사 컨트롤 추가</span><span class="sxs-lookup"><span data-stu-id="b5ac3-138">Step 2: Adding the Validation Controls to the DataList s EditItemTemplate</span></span>

<span data-ttu-id="b5ac3-139">데이터 입력 폼을 생성할 때는 사용자가 모든 필수 필드를 입력 하는 모든 제공 된 입력 법적, 올바르게 형식이 지정 된 값에는 중요 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-139">When constructing data entry forms, it is important that users enter any required fields and that all their provided inputs are legal, properly-formatted values.</span></span> <span data-ttu-id="b5ac3-140">사용자가의 입력 유효한 지 확인 하려면 ASP.NET 입력된 웹 컨트롤을 단일 값의 유효성을 검사 하도록 설계 된 5 개의 기본 제공 유효성 검사 컨트롤을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-140">To help ensure that a user s inputs are valid, ASP.NET provides five built-in validation controls that are designed to validate the value of a single input Web control:</span></span>

- <span data-ttu-id="b5ac3-141">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) 는 값이 제공 되었는지를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-141">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) ensures that a value has been provided</span></span>
- <span data-ttu-id="b5ac3-142">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) 다른 웹 컨트롤 값 또는 상수 값, 값의 유효성을 검사 하거나 s 값 형식 지정된 데이터 형식에 대 한 법적으로 보장</span><span class="sxs-lookup"><span data-stu-id="b5ac3-142">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) validates a value against another Web control value or a constant value, or ensures that the value s format is legal for a specified data type</span></span>
- <span data-ttu-id="b5ac3-143">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) 값의 범위 내에서 값을 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-143">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) ensures that a value is within a range of values</span></span>
- <span data-ttu-id="b5ac3-144">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) 에 대 한 값의 유효성을 검사 한 [정규식](http://en.wikipedia.org/wiki/Regular_expression)</span><span class="sxs-lookup"><span data-stu-id="b5ac3-144">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) validates a value against a [regular expression](http://en.wikipedia.org/wiki/Regular_expression)</span></span>
- <span data-ttu-id="b5ac3-145">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) 를 기준으로 사용자 지정, 사용자 정의 메서드</span><span class="sxs-lookup"><span data-stu-id="b5ac3-145">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) validates a value against a custom, user-defined method</span></span>

<span data-ttu-id="b5ac3-146">이러한 다섯 개의 컨트롤에 대 한 자세한 내용은 다시 참조 하는 [편집 및 삽입 인터페이스에 유효성 검사 컨트롤 추가](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) 자습서 또는 체크 아웃 합니다 [유효성 검사 컨트롤 섹션](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/ctrlref/validation/default.aspx) 합니다 의[ASP.NET 퀵 스타트 자습서](https://quickstarts.asp.net)합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-146">For more information on these five controls refer back to the [Adding Validation Controls to the Editing and Inserting Interfaces](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) tutorial or check out the [Validation Controls section](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/ctrlref/validation/default.aspx) of the [ASP.NET Quickstart Tutorials](https://quickstarts.asp.net).</span></span>

<span data-ttu-id="b5ac3-147">이 자습서에 대 한 제품 이름에 대 한 값을 지정 된 되도록 RequiredFieldValidator 및 입력 한 가격 값이 0 보다 크거나 및 유효한 통화 형식으로 표시 됩니다 되도록 CompareValidator 사용 하도록 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-147">For our tutorial we'll need to use a RequiredFieldValidator to ensure that a value for the product name has been supplied and a CompareValidator to ensure that the entered price has a value greater than or equal to 0 and is presented in a valid currency format.</span></span>

> [!NOTE]
> <span data-ttu-id="b5ac3-148">반면 ASP.NET 1.x가 이러한 동일한 5 유효성 검사 컨트롤, ASP.NET 2.0에는 수많은 개선 사항이 추가 되었습니다, Internet Explorer 외에도 브라우저 및 파티션 유효성 검사 컨트롤에는 페이지 수에 대 한 지원 클라이언트 쪽 스크립트 되 고 두 개의 주 유효성 검사 그룹입니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-148">While ASP.NET 1.x had these same five validation controls, ASP.NET 2.0 has added a number of improvements, the main two being client-side script support for browsers in addition to Internet Explorer and the ability to partition validation controls on a page into validation groups.</span></span> <span data-ttu-id="b5ac3-149">2.0의 새로운 유효성 검사 컨트롤 기능에 대 한 자세한 내용은 참조 [ASP.NET 2.0의 유효성 검사 컨트롤 분석](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-149">For more information on the new validation control features in 2.0, refer to [Dissecting the Validation Controls in ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span></span>


<span data-ttu-id="b5ac3-150">DataList s에 필요한 유효성 검사 컨트롤을 추가 하 여 시작 s `EditItemTemplate`입니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-150">Let s start by adding the necessary validation controls to the DataList s `EditItemTemplate`.</span></span> <span data-ttu-id="b5ac3-151">DataList s 스마트 태그에서 템플릿 편집 링크를 클릭 하 여 디자이너를 통해 또는 선언적 구문을 통해이 작업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-151">This task can be performed through the Designer by clicking on the Edit Templates link from the DataList s smart tag, or through the declarative syntax.</span></span> <span data-ttu-id="b5ac3-152">디자인 보기에서 템플릿 편집 옵션을 사용 하는 프로세스를 단계별로를 s 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-152">Let s step through the process using the Edit Templates option from the Design view.</span></span> <span data-ttu-id="b5ac3-153">DataList s를 편집 하려면 선택한 후 `EditItemTemplate`, 후 배치를 RequiredFieldValidator 끌어와 도구 상자에서 템플릿 편집 인터페이스에 추가 된 `ProductName` 텍스트 상자에 붙여넣습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-153">After choosing to edit the DataList s `EditItemTemplate`, add a RequiredFieldValidator by dragging it from the Toolbox into the template editing interface, placing it after the `ProductName` TextBox.</span></span>


<span data-ttu-id="b5ac3-154">[![EditItemTemplate는 RequiredFieldValidator ProductName 텍스트 뒤에 추가](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image8.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="b5ac3-154">[![Add a RequiredFieldValidator to the EditItemTemplate After the ProductName TextBox](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image8.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image7.png)</span></span>

<span data-ttu-id="b5ac3-155">**그림 3**: RequiredFieldValidator를 추가 합니다 `EditItemTemplate After` 는 `ProductName` 텍스트 상자에 붙여넣습니다 ([전체 크기 이미지를 보려면 클릭](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="b5ac3-155">**Figure 3**: Add a RequiredFieldValidator to the `EditItemTemplate After` the `ProductName` TextBox ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image9.png))</span></span>


<span data-ttu-id="b5ac3-156">모든 유효성 검사 컨트롤 단일 ASP.NET 웹 컨트롤의 입력 유효성을 검사 하 여 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-156">All validation controls work by validating the input of a single ASP.NET Web control.</span></span> <span data-ttu-id="b5ac3-157">방금 추가한 RequiredFieldValidator에 대해 유효성을 검사 해야를 지정 해야 하므로 합니다 `ProductName` 텍스트 상자 s 유효성 검사 컨트롤을 설정 하 여 이렇게 [ `ControlToValidate` 속성](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) 에 `ID` 의 적절 한 웹 컨트롤 (`ProductName`, 이런에서).</span><span class="sxs-lookup"><span data-stu-id="b5ac3-157">Therefore, we need to indicate that the RequiredFieldValidator we just added should validate against the `ProductName` TextBox; this is done by setting the validation control s [`ControlToValidate` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) to the `ID` of the appropriate Web control (`ProductName`, in this instance).</span></span> <span data-ttu-id="b5ac3-158">다음으로 설정 합니다 [ `ErrorMessage` 속성](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) 하려면 s 제품 이름을 제공 해야 및 [ `Text` 속성](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) 에 \*입니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-158">Next, set the [`ErrorMessage` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) to You must provide the product s name and the [`Text` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) to \*.</span></span> <span data-ttu-id="b5ac3-159">`Text` 속성 값을 제공 하는 경우이 유효성 검사에 실패 하는 경우 유효성 검사 컨트롤에 표시 되는 텍스트입니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-159">The `Text` property value, if provided, is the text that is displayed by the validation control if the validation fails.</span></span> <span data-ttu-id="b5ac3-160">`ErrorMessage` 속성 값이 필요한 경우 ValidationSummary 컨트롤에서 사용 됩니다 합니다 `Text` 속성 값을 생략 하면는 `ErrorMessage` 속성 값이 잘못 된 입력의 유효성 검사 컨트롤에서 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-160">The `ErrorMessage` property value, which is required, is used by the ValidationSummary control; if the `Text` property value is omitted, the `ErrorMessage` property value is displayed by the validation control on invalid input.</span></span>

<span data-ttu-id="b5ac3-161">RequiredFieldValidator의 이러한 세 가지 속성으로 설정한 후 화면 그림 4 유사 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-161">After setting these three properties of the RequiredFieldValidator, your screen should look similar to Figure 4.</span></span>


<span data-ttu-id="b5ac3-162">[![RequiredFieldValidator의 ControlToValidate, ErrorMessage을 및 텍스트 속성 설정](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image11.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="b5ac3-162">[![Set the RequiredFieldValidator s ControlToValidate, ErrorMessage, and Text Properties](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image11.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image10.png)</span></span>

<span data-ttu-id="b5ac3-163">**그림 4**: 집합 RequiredFieldValidator s `ControlToValidate`, `ErrorMessage`, 및 `Text` 속성 ([클릭 하 여 큰 이미지 보기](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="b5ac3-163">**Figure 4**: Set the RequiredFieldValidator s `ControlToValidate`, `ErrorMessage`, and `Text` Properties ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image12.png))</span></span>


<span data-ttu-id="b5ac3-164">추가할 RequiredFieldValidator를 사용 하 여는 `EditItemTemplate`계속의 제품 가격 텍스트 상자에 대 한 필요한 유효성 검사를 추가 하는 모든.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-164">With the RequiredFieldValidator added to the `EditItemTemplate`, all that remains is to add the necessary validation for the product s price TextBox.</span></span> <span data-ttu-id="b5ac3-165">있으므로 `UnitPrice` 선택 사항인 RequiredFieldValidator를 추가할 t 필요 하지에서는 레코드를 편집할 때.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-165">Since the `UnitPrice` is optional when editing a record, we don t need to add a RequiredFieldValidator.</span></span> <span data-ttu-id="b5ac3-166">하지만 되도록 CompareValidator를 추가 해야 그렇게는 `UnitPrice`제공 하는 경우 이며 0 보다 크거나을 통화로 형식이 올바르게 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-166">We do, however, need to add a CompareValidator to ensure that the `UnitPrice`, if supplied, is properly formatted as a currency and is greater than or equal to 0.</span></span>

<span data-ttu-id="b5ac3-167">CompareValidator에 추가 합니다 `EditItemTemplate` 설정 및 해당 `ControlToValidate` 속성을 `UnitPrice`, 해당 `ErrorMessage` 가격에 대 한 속성 보다 크거나 0 이어야 하며 통화 기호를 포함할 수 없습니다 및 해당 `Text` 속성\*.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-167">Add the CompareValidator into the `EditItemTemplate` and set its `ControlToValidate` property to `UnitPrice`, its `ErrorMessage` property to The price must be greater than or equal to zero and cannot include the currency symbol, and its `Text` property to \*.</span></span> <span data-ttu-id="b5ac3-168">나타내는 합니다 `UnitPrice` 값 0 보다 크거나 같아야, CompareValidator s를 설정 해야 합니다 [ `Operator` 속성](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) 하 `GreaterThanEqual`, 해당 [ `ValueToCompare` 속성](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) 0으로 및 해당 [ `Type` 속성](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) 하려면 `Currency`합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-168">To indicate that the `UnitPrice` value must be greater than or equal to 0, set the CompareValidator s [`Operator` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) to `GreaterThanEqual`, its [`ValueToCompare` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) to 0, and its [`Type` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) to `Currency`.</span></span>

<span data-ttu-id="b5ac3-169">이러한 두 가지 유효성 검사 컨트롤, s DataList를 추가한 후 `EditItemTemplate` s 선언적 구문을 다음과 유사 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-169">After adding these two validation controls, the DataList s `EditItemTemplate` s declarative syntax should look similar to the following:</span></span>


[!code-aspx[Main](adding-validation-controls-to-the-datalist-s-editing-interface-cs/samples/sample1.aspx)]

<span data-ttu-id="b5ac3-170">다음과 같이 변경한 후 브라우저에서 페이지를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-170">After making these changes, open the page in a browser.</span></span> <span data-ttu-id="b5ac3-171">이름을 생략 하거나 제품을 편집 하는 경우 유효 하지 않은 가격 값을 입력 하려는 경우 텍스트 상자 옆에 있는 별표 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-171">If you attempt to omit the name or enter an invalid price value when editing a product, an asterisk appears next to the textbox.</span></span> <span data-ttu-id="b5ac3-172">그림 5에서 알 수 있듯이, $19.95 같은 통화 기호를 포함 하는 가격 잘못 된 간주 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-172">As Figure 5 shows, a price value that includes the currency symbol such as $19.95 is considered invalid.</span></span> <span data-ttu-id="b5ac3-173">CompareValidator s `Currency` `Type` 자릿수 구분 기호 (예: 쉼표 또는 마침표 문화권 설정에 따라) 및 선행 더하기 또는 빼기 기호를 허용 하지만 않습니다 *하지* 통화 기호를 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-173">The CompareValidator s `Currency` `Type` allows for digit separators (such as commas or periods, depending on the culture settings) and a leading plus or minus sign, but does *not* permit a currency symbol.</span></span> <span data-ttu-id="b5ac3-174">이 동작은 현재 편집 인터페이스를 렌더링 하는 대로 사용자 perplex 수는 `UnitPrice` 통화 형식을 사용 하 여 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-174">This behavior may perplex users as the editing interface currently renders the `UnitPrice` using the currency format.</span></span>


<span data-ttu-id="b5ac3-175">[![잘못 된 입력을 사용 하 여 텍스트 상자 옆에 있는 별표 표시 됩니다.](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image14.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="b5ac3-175">[![An Asterisk Appears Next to the Textboxes with Invalid Input](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image14.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image13.png)</span></span>

<span data-ttu-id="b5ac3-176">**그림 5**: 별표 표시 옆에 잘못 된 입력을 사용 하 여 텍스트 상자 ([클릭 하 여 큰 이미지 보기](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="b5ac3-176">**Figure 5**: An Asterisk Appears Next to the Textboxes with Invalid Input ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image15.png))</span></span>


<span data-ttu-id="b5ac3-177">으로 유효성 검사 작동 하는 동안-인 사용자가 허용 되지 않는 레코드를 편집 하는 경우 통화 기호를 수동으로 제거 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-177">While the validation works as-is, the user has to manually remove the currency symbol when editing a record, which is not acceptable.</span></span> <span data-ttu-id="b5ac3-178">또한 없는 경우 올바른 편집을 위한 입력 모두 업데이트 하거나 취소 단추를 클릭 하면 포스트백을 호출 하는 인터페이스입니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-178">Moreover, if there are invalid inputs in the editing interface neither the Update nor Cancel buttons, when clicked, will invoke a postback.</span></span> <span data-ttu-id="b5ac3-179">이상적으로 취소 단추는 사용자가의 입력의 유효성에 관계 없이 미리 편집 상태로 DataList를 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-179">Ideally, the Cancel button would return the DataList to its pre-editing state regardless of the validity of the user s inputs.</span></span> <span data-ttu-id="b5ac3-180">또한 DataList s의에서 제품 정보를 업데이트 하기 전에 페이지의 데이터가 유효한 지 확인 해야 `UpdateCommand` 해당 브라우저 JavaScript 지원 하지 않거나 사용자가 클라이언트 쪽 논리를 무시할 수 있습니다 유효성 검사 컨트롤에 따라 이벤트 처리기 지원을 사용 하지 않도록 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-180">Also, we need to ensure that the page s data is valid before updating the product information in the DataList s `UpdateCommand` event handler, as the validation controls client-side logic can be bypassed by users whose browsers either don t support JavaScript or have its support disabled.</span></span>

## <a name="removing-the-currency-symbol-from-the-edititemtemplate-s-unitprice-textbox"></a><span data-ttu-id="b5ac3-181">EditItemTemplate의 UnitPrice 텍스트에서 통화 기호를 제거합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-181">Removing the Currency Symbol from the EditItemTemplate s UnitPrice TextBox</span></span>

<span data-ttu-id="b5ac3-182">CompareValidator s를 사용 하는 경우 `Currency``Type`, 유효성을 검사할 입력 모든 통화 기호를 포함할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-182">When using the CompareValidator s `Currency``Type`, the input being validated must not include any currency symbols.</span></span> <span data-ttu-id="b5ac3-183">이러한 기호가 있으면 잘못 된 입력을 표시 하기 위해 CompareValidator 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-183">The presence of such symbols causes the CompareValidator to mark the input as invalid.</span></span> <span data-ttu-id="b5ac3-184">반면 편집 인터페이스의 통화 기호를 현재에 `UnitPrice` TextBox, 즉 사용자 자신의 변경 내용을 저장 하기 전에 통화 기호를 명시적으로 제거 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-184">However, our editing interface currently includes a currency symbol in the `UnitPrice` TextBox, meaning the user must explicitly remove the currency symbol before saving their changes.</span></span> <span data-ttu-id="b5ac3-185">이 해결 하는 세 가지 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-185">To remedy this we have three options:</span></span>

1. <span data-ttu-id="b5ac3-186">구성 합니다 `EditItemTemplate` 있도록는 `UnitPrice` 통화로 텍스트 값의 서식을 지정 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-186">Configure the `EditItemTemplate` so that the `UnitPrice` TextBox value is not formatted as a currency.</span></span>
2. <span data-ttu-id="b5ac3-187">CompareValidator를 제거 하 고 올바르게 형식이 지정 된 통화 값을 확인 하는 RegularExpressionValidator로 바꿔 여 통화 기호를 입력 하는 사용자를 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-187">Allow the user to enter a currency symbol by removing the CompareValidator and replacing it with a RegularExpressionValidator that checks for a properly formatted currency value.</span></span> <span data-ttu-id="b5ac3-188">여기서 통화 값의 유효성을 검사 하는 정규식을 간단 하 게 CompareValidator는 및에 방문 하셔서 문화권 설정을 통합 하는 경우 코드를 작성 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-188">The challenge here is that the regular expression to validate a currency value is not as straightforward as the CompareValidator and would require writing code if we wanted to incorporate culture settings.</span></span>
3. <span data-ttu-id="b5ac3-189">유효성 검사 컨트롤을 완전히 제거 하 고 GridView에서 사용자 지정 서버 쪽 유효성 검사 논리에 의존 `RowUpdating` 이벤트 처리기입니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-189">Remove the validation control altogether and rely on custom server-side validation logic in the GridView s `RowUpdating` event handler.</span></span>

<span data-ttu-id="b5ac3-190">이 자습서에 대 한 옵션 1 사용 하 여 이동 s 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-190">Let s go with option 1 for this tutorial.</span></span> <span data-ttu-id="b5ac3-191">현재는 `UnitPrice` 의 텍스트 상자에 대 한 데이터 바인딩 식으로 인해 통화 값으로 형식이 합니다 `EditItemTemplate`: `<%# Eval("UnitPrice", "{0:c}") %>`합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-191">Currently the `UnitPrice` is formatted as a currency value due to the databinding expression for the TextBox in the `EditItemTemplate`: `<%# Eval("UnitPrice", "{0:c}") %>`.</span></span> <span data-ttu-id="b5ac3-192">변경 된 `Eval` 문을 `Eval("UnitPrice", "{0:n2}")`, 자릿수 두 자리 숫자로 결과 형식을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-192">Change the `Eval` statement to `Eval("UnitPrice", "{0:n2}")`, which formats the result as a number with two digits of precision.</span></span> <span data-ttu-id="b5ac3-193">선언적 구문을 통해 직접 또는에서 데이터 바인딩 편집 링크를 클릭 하 여이 수행할 수 있습니다 합니다 `UnitPrice` DataList의 텍스트 `EditItemTemplate`합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-193">This can be done directly through the declarative syntax or by clicking on the Edit DataBindings link from the `UnitPrice` TextBox in the DataList s `EditItemTemplate`.</span></span>

<span data-ttu-id="b5ac3-194">이 변경으로 편집 인터페이스에 형식이 지정 된 가격 그룹 구분 기호로 쉼표와 마침표는 소수 구분 기호로 포함 되지만 통화 기호를 해제 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-194">With this change, the formatted price in the editing interface includes commas as the group separator and a period as the decimal separator, but leaves off the currency symbol.</span></span>

> [!NOTE]
> <span data-ttu-id="b5ac3-195">통화 형식은 편집할 수 있는 인터페이스에서 제거 하는 경우 필자 도움이 될 텍스트 외부 텍스트로 통화 기호를 배치 하.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-195">When removing the currency format from the editable interface, I find it helpful to put the currency symbol as text outside the TextBox.</span></span> <span data-ttu-id="b5ac3-196">이 통화 기호를 제공 하는 필요 하지 않은 사용자에 대 한 힌트로 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-196">This serves as a hint to the user that they do not need to provide the currency symbol.</span></span>


## <a name="fixing-the-cancel-button"></a><span data-ttu-id="b5ac3-197">취소 단추를 수정합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-197">Fixing the Cancel Button</span></span>

<span data-ttu-id="b5ac3-198">기본적으로 유효성 검사 웹 컨트롤 클라이언트 쪽에서 유효성 검사를 수행 하는 JavaScript를 내보냅니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-198">By default, the validation Web controls emit JavaScript to perform validation on the client-side.</span></span> <span data-ttu-id="b5ac3-199">단추나 LinkButton, ImageButton 클릭 하면 포스트백이 발생 하기 전에 페이지에서 유효성 검사 컨트롤 클라이언트 쪽에서 확인 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-199">When a Button, LinkButton, or ImageButton is clicked, the validation controls on the page are checked on the client-side before the postback occurs.</span></span> <span data-ttu-id="b5ac3-200">잘못 된 데이터를 다시 게시 취소 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-200">If there is any invalid data, the postback is cancelled.</span></span> <span data-ttu-id="b5ac3-201">특정 단추에 대 한 그러나 데이터의 유효성을 검사 않을 재료; 이러한 경우 잘못 된 데이터로 인해 취소 포스트백 하는 것을 가장 쓸데 없는 존재 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-201">For certain Buttons, though, the validity of the data might be immaterial; in such a case, having the postback cancelled due to invalid data is a nuisance.</span></span>

<span data-ttu-id="b5ac3-202">취소 단추에는 예입니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-202">The Cancel button is such an example.</span></span> <span data-ttu-id="b5ac3-203">사용자의 제품 이름을 생략 하는 등의 잘못 된 데이터를 입력 한 다음 결정 그녀는 대상이 t 하려는 제품을 모두 저장 및 취소 단추를 누를 한다고 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-203">Imagine that a user enters invalid data, such as omitting the product s name, and then decides she doesn t want to save the product after all and hits the Cancel button.</span></span> <span data-ttu-id="b5ac3-204">현재 [취소] 단추는 제품 이름이 누락 되었고 다시 게시 되지 않도록 보고서 페이지에서 유효성 검사 컨트롤을 트리거합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-204">Currently, the Cancel button triggers the validation controls on the page, which report that the product name is missing and prevent the postback.</span></span> <span data-ttu-id="b5ac3-205">사용자가 일부 텍스트를 입력 해야 합니다 `ProductName` 만 편집 프로세스를 취소 하려면 텍스트 상자에 붙여넣습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-205">Our user has to type some text into the `ProductName` TextBox just to cancel out of the editing process.</span></span>

<span data-ttu-id="b5ac3-206">단추를 LinkButton 및 ImageButton 다행히도 해야는 [ `CausesValidation` 속성](https://msdn.microsoft.com/library/system.web.ui.webcontrols.button.causesvalidation.aspx) 수를 나타내는 클릭 여부 단추는 유효성 검사 논리를 시작 해야 (기본값으로 `True`).</span><span class="sxs-lookup"><span data-stu-id="b5ac3-206">Fortunately, the Button, LinkButton, and ImageButton have a [`CausesValidation` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.button.causesvalidation.aspx) that can indicate whether or not clicking the Button should initiate the validation logic (defaults to `True`).</span></span> <span data-ttu-id="b5ac3-207">취소 단추 s 설정할 `CausesValidation` 속성을 `False`입니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-207">Set the Cancel Button s `CausesValidation` property to `False`.</span></span>

## <a name="ensuring-the-inputs-are-valid-in-the-updatecommand-event-handler"></a><span data-ttu-id="b5ac3-208">올바른 UpdateCommand 이벤트 처리기는 입력 확인</span><span class="sxs-lookup"><span data-stu-id="b5ac3-208">Ensuring the Inputs are Valid in the UpdateCommand Event Handler</span></span>

<span data-ttu-id="b5ac3-209">클라이언트 쪽 스크립트 유효성 검사 컨트롤에서 내보낸 인해 사용자가 잘못 된 입력을 입력 유효성 검사 컨트롤이 취소 단추를 LinkButton으로 시작 된 모든 포스트백 또는 ImageButton 컨트롤 `CausesValidation` 속성은 `True` ( 기본값)입니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-209">Due to the client-side script emitted by the validation controls, if a user enters invalid input the validation controls cancel any postbacks initiated by Button, LinkButton, or ImageButton controls whose `CausesValidation` properties are `True` (the default).</span></span> <span data-ttu-id="b5ac3-210">그러나 JavaScript 지원 비활성화 된 하나 또는 브라우저를 사용 하 여 사용자가 방문 하는 경우의 클라이언트 쪽 유효성 검사가 실행 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-210">However, if a user is visiting with an antiquated browser or one whose JavaScript support has been disabled, the client-side validation checks will not execute.</span></span>

<span data-ttu-id="b5ac3-211">ASP.NET 유효성 검사 컨트롤의 모든 포스트백 되는 즉시 해당 유효성 검사 논리를 반복 하 고 보고서를 통해 페이지의 입력의 전체 유효성을 검사 합니다 [ `Page.IsValid` 속성](https://msdn.microsoft.com/library/system.web.ui.page.isvalid.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-211">All of the ASP.NET validation controls repeat their validation logic immediately upon postback and report the overall validity of the page s inputs via the [`Page.IsValid` property](https://msdn.microsoft.com/library/system.web.ui.page.isvalid.aspx).</span></span> <span data-ttu-id="b5ac3-212">그러나 페이지 흐름 중단 되거나 되지 방식으로 값을 기반으로 모든 중지 `Page.IsValid`합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-212">However, the page flow is not interrupted or stopped in any way based on the value of `Page.IsValid`.</span></span> <span data-ttu-id="b5ac3-213">개발자로 서는 확인 해야 하는 것은 `Page.IsValid` 속성의 값이 `True` 입력 데이터를 잘못 가정 하는 코드를 사용 하 여 계속 진행 하기 전에 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-213">As developers, it is our responsibility to ensure that the `Page.IsValid` property has a value of `True` before proceeding with code that assumes valid input data.</span></span>

<span data-ttu-id="b5ac3-214">사용자가 JavaScript를 사용 하지 않도록 설정 하는 경우이 페이지를 방문, 제품을 편집가 너무의 가격 값을 입력 저렴 하 고, [업데이트] 단추를 클릭 하면 클라이언트 쪽 유효성 검사를 건너뛰며 및 포스트백 계속 될 것 이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-214">If a user has JavaScript disabled, visits our page, edits a product, enters a price value of Too expensive, and clicks the Update button, the client-side validation will be bypassed and a postback will ensue.</span></span> <span data-ttu-id="b5ac3-215">ASP.NET 페이지가 포스트백 될 때 `UpdateCommand` 이벤트 처리기를 실행 하 고 너무 구문 분석 하려고 할 때 예외가 발생 하는 데 비용이 많이 드는 `Decimal`합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-215">On postback, the ASP.NET page s `UpdateCommand` event handler executes and an exception is raised when attempting to parse Too expensive to a `Decimal`.</span></span> <span data-ttu-id="b5ac3-216">예외 처리 했으므로, 이러한 예외를 정상적으로 처리할 수는 있지만 처음에 사용 하 여 계속 진행 함으로써 통해 지연에서 잘못 된 데이터를 처리할 수 있도록 합니다 `UpdateCommand` 이벤트 처리기 경우 `Page.IsValid` 의 값이 `True`합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-216">Since we have exception handling, such an exception will be handled gracefully, but we could prevent the invalid data from slipping through in the first place by only proceeding with the `UpdateCommand` event handler if `Page.IsValid` has a value of `True`.</span></span>

<span data-ttu-id="b5ac3-217">시작 부분에 다음 코드를 추가 합니다 `UpdateCommand` 이벤트 처리기 바로 앞의 `Try` 블록:</span><span class="sxs-lookup"><span data-stu-id="b5ac3-217">Add the following code to the start of the `UpdateCommand` event handler, immediately before the `Try` block:</span></span>


[!code-csharp[Main](adding-validation-controls-to-the-datalist-s-editing-interface-cs/samples/sample2.cs)]

<span data-ttu-id="b5ac3-218">이 또한이를 사용 하 여 제품 제출 된 데이터가 유효한 경우에 업데이트 하려고 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-218">With this addition, the product will attempt to be updated only if the submitted data is valid.</span></span> <span data-ttu-id="b5ac3-219">대부분의 사용자 유효성 검사 컨트롤 클라이언트 쪽 스크립트,으로 인해 잘못 된 데이터를 다시 게시 하는 일을 할 수 없습니다 하지만 사용자가 해당 브라우저 인할 JavaScript 지원 있고는 JavaScript 지원이 사용 하지 않도록 설정, 수도 클라이언트 쪽 검사를 무시 잘못 된 데이터를 제출 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-219">Most users won't be able to postback invalid data due to the validation controls client-side scripts, but users whose browsers don t support JavaScript or that have JavaScript support disabled, can bypass the client-side checks and submit invalid data.</span></span>

> [!NOTE]
> <span data-ttu-id="b5ac3-220">예리한 독자 GridView를 사용 하 여 데이터를 업데이트할 때 명시적으로 확인 하도록 필요 하지 않은 것을 기억 하겠지만 `Page.IsValid`의 페이지 코드 숨김 클래스에서는 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-220">The astute reader will recall that when updating data with the GridView, we didn't need to explicitly check the `Page.IsValid` property in our page s code-behind class.</span></span> <span data-ttu-id="b5ac3-221">GridView 참조 이므로이 `Page.IsValid` 속성 및 값을 반환 하는 경우에 업데이트를 사용 하 여 진행만 `True`합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-221">This is because the GridView consults the `Page.IsValid` property for us and only proceeds with the update only if it returns a value of `True`.</span></span>


## <a name="step-3-summarizing-data-entry-problems"></a><span data-ttu-id="b5ac3-222">3단계: 데이터 입력 문제 요약</span><span class="sxs-lookup"><span data-stu-id="b5ac3-222">Step 3: Summarizing Data Entry Problems</span></span>

<span data-ttu-id="b5ac3-223">ASP.NET 5 유효성 검사 컨트롤 외에도 포함 합니다 [ValidationSummary 컨트롤](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), 표시는 `ErrorMessage` 잘못 된 데이터가 검색 되는 유효성 검사 컨트롤의.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-223">In addition to the five validation controls, ASP.NET includes the [ValidationSummary control](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), which displays the `ErrorMessage` s of those validation controls that detected invalid data.</span></span> <span data-ttu-id="b5ac3-224">웹 페이지 또는 모달, 클라이언트 쪽 messagebox를 통해 텍스트로이 요약 데이터를 표시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-224">This summary data can be displayed as text on the web page or through a modal, client-side messagebox.</span></span> <span data-ttu-id="b5ac3-225">가 유효성 검사 문제를 요약 하는 클라이언트 쪽 messagebox를 포함 하려면이 자습서를 향상 시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-225">Let s enhance this tutorial to include a client-side messagebox summarizing any validation problems.</span></span>

<span data-ttu-id="b5ac3-226">이렇게 하려면 디자이너 도구 상자에서 ValidationSummary 컨트롤을 끕니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-226">To accomplish this, drag a ValidationSummary control from the Toolbox onto the Designer.</span></span> <span data-ttu-id="b5ac3-227">ValidationSummary 컨트롤 만들어지고 t 위치의 중요 messagebox로 요약만 표시 하도록 구성 하려는 다시 이후로.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-227">The location of the ValidationSummary control doesn t really matter, since we re going to configure it to only display the summary as a messagebox.</span></span> <span data-ttu-id="b5ac3-228">컨트롤을 추가한 후 설정 해당 [ `ShowSummary` 속성](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) 하 `False` 고 [ `ShowMessageBox` 속성](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) 에 `True`입니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-228">After adding the control, set its [`ShowSummary` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) to `False` and its [`ShowMessageBox` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) to `True`.</span></span> <span data-ttu-id="b5ac3-229">이 또한을 사용 하 여 유효성 검사 오류는 클라이언트 쪽 messagebox에 요약 되어 (그림 6 참조).</span><span class="sxs-lookup"><span data-stu-id="b5ac3-229">With this addition, any validation errors are summarized in a client-side messagebox (see Figure 6).</span></span>


<span data-ttu-id="b5ac3-230">[![유효성 검사 오류는 클라이언트 쪽 Messagebox에 요약 되어 있습니다.](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image17.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="b5ac3-230">[![The Validation Errors are Summarized in a Client-Side Messagebox](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image17.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image16.png)</span></span>

<span data-ttu-id="b5ac3-231">**그림 6**: 유효성 검사 오류를 클라이언트 쪽 Messagebox에 요약 되어 있습니다 ([클릭 하 여 큰 이미지 보기](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="b5ac3-231">**Figure 6**: The Validation Errors are Summarized in a Client-Side Messagebox ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image18.png))</span></span>


## <a name="summary"></a><span data-ttu-id="b5ac3-232">요약</span><span class="sxs-lookup"><span data-stu-id="b5ac3-232">Summary</span></span>

<span data-ttu-id="b5ac3-233">이 자습서에서 사전 업데이트 워크플로에서 사용 하기 전에 사용자 입력이 유효한 지를 확인 하려면 유효성 검사 컨트롤을 사용 하 여 예외 발생 가능성을 줄이는 방법에 살펴보았습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-233">In this tutorial we saw how to reduce the likelihood of exceptions by using validation controls to proactively ensure that our users inputs are valid before attempting to use them in the updating workflow.</span></span> <span data-ttu-id="b5ac3-234">ASP.NET는 특정 웹을 검사 하도록 설계 된 다섯 개의 유효성 검사 웹 컨트롤 제어 s 입력 및 입력된 s 유효성에 다시 보고를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-234">ASP.NET provides five validation Web controls that are designed to inspect a particular Web control s input and report back on the input s validity.</span></span> <span data-ttu-id="b5ac3-235">이 자습서에서는 사용 했습니다 이러한 다섯 개의 컨트롤의 두는 RequiredFieldValidator 및 CompareValidator의 제품 이름을 제공한 했으며 가격 보다 크거나 0 값을 사용 하 여 통화 형식을 있는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-235">In this tutorial we used two of those five controls the RequiredFieldValidator and the CompareValidator to ensure that the product s name was supplied and that the price had a currency format with a value greater than or equal to zero.</span></span>

<span data-ttu-id="b5ac3-236">DataList s 편집 인터페이스에 유효성 검사 컨트롤을 추가 하는 것이를 끌어 만큼 간단 합니다 `EditItemTemplate` 선택 하 고 일련의 속성을 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-236">Adding validation controls to the DataList s editing interface is as simple as dragging them onto the `EditItemTemplate` from the Toolbox and setting a handful of properties.</span></span> <span data-ttu-id="b5ac3-237">기본적으로 유효성 검사 컨트롤이 자동으로 내보내기 클라이언트 쪽 유효성 검사 스크립트입니다. 또한 서버 쪽 유효성 검사의 누적 결과 저장 포스트백에서 제공 된 `Page.IsValid` 속성.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-237">By default, the validation controls automatically emit client-side validation script; they also provide server-side validation on postback, storing the cumulative result in the `Page.IsValid` property.</span></span> <span data-ttu-id="b5ac3-238">설정 단추 s에 단추나 LinkButton, ImageButton 클릭 하면 클라이언트 쪽 유효성 검사를 무시 하려면 `CausesValidation` 속성을 `False`입니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-238">To bypass the client-side validation when a Button, LinkButton, or ImageButton is clicked, set the button s `CausesValidation` property to `False`.</span></span> <span data-ttu-id="b5ac3-239">또한 포스트백에 제출 된 데이터를 사용 하 여 모든 작업을 수행 하기 전에 있는지를 확인 합니다 `Page.IsValid` 속성이 반환 `True`합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-239">Also, before performing any tasks with the data submitted on postback, ensure that the `Page.IsValid` property returns `True`.</span></span>

<span data-ttu-id="b5ac3-240">모든 자습서 편집 DataList에서는 지금 검사 ve s 제품 이름에 대 한 텍스트 상자와 다른 가격에 대 한 매우 간단한 편집 인터페이스 했습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-240">All of the DataList editing tutorials we ve examined so far have had very simple editing interfaces a TextBox for the product s name and another for the price.</span></span> <span data-ttu-id="b5ac3-241">그러나 편집 인터페이스, Dropdownlist, 달력, 라디오 단추, 확인란, 등과 같은 다양 한 웹 컨트롤의 혼합을 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-241">The editing interface, however, can contain a mix of different Web controls, such as DropDownLists, Calendars, RadioButtons, CheckBoxes, and so on.</span></span> <span data-ttu-id="b5ac3-242">다음 자습서는 다양 한 웹 컨트롤을 사용 하는 인터페이스를 구축 하는 방법을 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-242">In our next tutorial we'll look at building an interface that uses a variety of Web controls.</span></span>

<span data-ttu-id="b5ac3-243">즐거운 프로그래밍!</span><span class="sxs-lookup"><span data-stu-id="b5ac3-243">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="b5ac3-244">저자 소개</span><span class="sxs-lookup"><span data-stu-id="b5ac3-244">About the Author</span></span>

<span data-ttu-id="b5ac3-245">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), 7 ASP/ASP.NET 서적의 저자 이자 설립자입니다 [4GuysFromRolla.com](http://www.4guysfromrolla.com), 1998 Microsoft 웹 기술을 사용 하 여 왔습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-245">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="b5ac3-246">Scott는 독립 컨설턴트, 강사, 그리고 기록기로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-246">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="b5ac3-247">최근 저서는 [ *Sams 설명 직접 ASP.NET 2.0 24 시간 동안의*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-247">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="b5ac3-248">그에 도달할 수 있습니다 [ mitchell@4GuysFromRolla.com합니다.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="b5ac3-248">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="b5ac3-249">찾을 수 있는 저자의 블로그를 통해 또는 [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET)합니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-249">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="b5ac3-250">특별히 감사</span><span class="sxs-lookup"><span data-stu-id="b5ac3-250">Special Thanks To</span></span>

<span data-ttu-id="b5ac3-251">이 자습서 시리즈는 많은 유용한 검토자가 검토 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-251">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="b5ac3-252">이 자습서에 대 한 선행 검토자 Dennis Patterson, Ken Pespisa 및 Liz Shulok 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="b5ac3-252">Lead reviewers for this tutorial were Dennis Patterson, Ken Pespisa, and Liz Shulok.</span></span> <span data-ttu-id="b5ac3-253">내 향후 MSDN 문서를 검토에 관심이 있으십니까?</span><span class="sxs-lookup"><span data-stu-id="b5ac3-253">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="b5ac3-254">그렇다면 삭제 나에서 선 [ mitchell@4GuysFromRolla.com합니다.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="b5ac3-254">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="b5ac3-255">[이전](handling-bll-and-dal-level-exceptions-cs.md)
> [다음](customizing-the-datalist-s-editing-interface-cs.md)</span><span class="sxs-lookup"><span data-stu-id="b5ac3-255">[Previous](handling-bll-and-dal-level-exceptions-cs.md)
[Next](customizing-the-datalist-s-editing-interface-cs.md)</span></span>
