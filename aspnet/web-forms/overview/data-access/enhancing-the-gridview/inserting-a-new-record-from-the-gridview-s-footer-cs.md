---
uid: web-forms/overview/data-access/enhancing-the-gridview/inserting-a-new-record-from-the-gridview-s-footer-cs
title: GridView의 바닥글 (C#)에서 새 레코드 삽입 | Microsoft Docs
author: rick-anderson
description: 이 자습서에 포함 하도록 GridView를 보강 하는 방법을 보여 줍니다 GridView 컨트롤 데이터의 새 레코드를 삽입 하기 위한 기본 제공 지원을 제공 하지 않지만는 중...
ms.author: riande
ms.date: 03/06/2007
ms.assetid: 49545652-98af-46ba-9dbc-9ab529805d9b
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/inserting-a-new-record-from-the-gridview-s-footer-cs
msc.type: authoredcontent
ms.openlocfilehash: 44155c66fe18e8b4beefae5109c0e53dcf227f6a
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59386920"
---
# <a name="inserting-a-new-record-from-the-gridviews-footer-c"></a><span data-ttu-id="7181e-103">GridView의 바닥글에서 새 레코드 삽입(C#)</span><span class="sxs-lookup"><span data-stu-id="7181e-103">Inserting a New Record from the GridView's Footer (C#)</span></span>

<span data-ttu-id="7181e-104">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="7181e-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="7181e-105">[샘플 앱을 다운로드](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_53_CS.exe) 또는 [PDF 다운로드](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/datatutorial53cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="7181e-105">[Download Sample App](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_53_CS.exe) or [Download PDF](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/datatutorial53cs1.pdf)</span></span>

> <span data-ttu-id="7181e-106">GridView 컨트롤 데이터의 새 레코드를 삽입 하기 위한 기본 제공 지원을 제공 하지 않지만,이 자습서에는 삽입 인터페이스를 포함 하는 GridView를 보강 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-106">While the GridView control does not provide built-in support for inserting a new record of data, this tutorial shows how to augment the GridView to include an inserting interface.</span></span>


## <a name="introduction"></a><span data-ttu-id="7181e-107">소개</span><span class="sxs-lookup"><span data-stu-id="7181e-107">Introduction</span></span>

<span data-ttu-id="7181e-108">에 설명 된 대로 합니다 [An 개요의 삽입, 업데이트 및 삭제 데이터](../editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs.md) 자습서, 기본 제공 데이터 수정 기능을 포함 하는 GridView, DetailsView 및 FormView 웹 컨트롤입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-108">As discussed in the [An Overview of Inserting, Updating, and Deleting Data](../editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs.md) tutorial, the GridView, DetailsView, and FormView Web controls each include built-in data modification capabilities.</span></span> <span data-ttu-id="7181e-109">선언적 데이터 소스 컨트롤을 사용 하는 경우 이러한 세 웹 컨트롤 구성할 수 있습니다 쉽고 빠르게 데이터를 수정 하 고 코드 한 줄도 작성 하지 않고도 시나리오에서.</span><span class="sxs-lookup"><span data-stu-id="7181e-109">When used with declarative data source controls, these three Web controls can be quickly and easily configured to modify data - and in scenarios without needing to write a single line of code.</span></span> <span data-ttu-id="7181e-110">아쉽게도 FormView 및 DetailsView 컨트롤 기본 삽입, 편집 및 삭제 기능을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-110">Unfortunately, only the DetailsView and FormView controls provide built-in inserting, editing, and deleting capabilities.</span></span> <span data-ttu-id="7181e-111">GridView는 편집 및 삭제 지원만 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-111">The GridView only offers editing and deleting support.</span></span> <span data-ttu-id="7181e-112">그러나 약간 엘보우 그리스 사용에서는 삽입 인터페이스를 포함 하도록 GridView 강화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-112">However, with a little elbow grease, we can augment the GridView to include an inserting interface.</span></span>

<span data-ttu-id="7181e-113">GridView에 삽입 기능을 추가,는에서는 새로운 레코드에 추가 됩니다 결정 삽입 인터페이스를 만들고 새 레코드를 삽입 하는 코드를 작성 하는 일을 담당 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-113">In adding inserting capabilities to the GridView, we are responsible for deciding on how new records will be added, creating the inserting interface, and writing the code to insert the new record.</span></span> <span data-ttu-id="7181e-114">이 자습서를 GridView가의 바닥글 삽입 인터페이스에 추가 살펴보도록 하겠습니다 (그림 1 참조)을 행 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-114">In this tutorial we will look at adding the inserting interface to the GridView s footer row (see Figure 1).</span></span> <span data-ttu-id="7181e-115">각 열에 대 한 바닥글 셀 (s 제품 이름에 대 한 텍스트 상자, 공급 업체, 등에 대 한 DropDownList) 적절 한 데이터 컬렉션 사용자 인터페이스 요소를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-115">The footer cell for each column includes the appropriate data collection user interface element (a TextBox for the product s name, a DropDownList for the supplier, and so on).</span></span> <span data-ttu-id="7181e-116">또한 열이 필요 했습니다 추가 단추를 클릭할 때에 대 한 포스트백을 발생 되며에 새 레코드를 삽입 합니다 `Products` 바닥글 행에 제공 된 값을 사용 하 여 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-116">We also need a column for an Add button that, when clicked, will cause a postback and insert a new record into the `Products` table using the values supplied in the footer row.</span></span>


<span data-ttu-id="7181e-117">[![새 제품을 추가 하기 위한 인터페이스를 제공 하는 바닥글 행](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image1.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="7181e-117">[![The Footer Row Provides an Interface for Adding New Products](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image1.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image1.png)</span></span>

<span data-ttu-id="7181e-118">**그림 1**: 새 제품 추가 대 한 인터페이스를 제공 하는 바닥글 행 ([클릭 하 여 큰 이미지 보기](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="7181e-118">**Figure 1**: The Footer Row Provides an Interface for Adding New Products ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image2.png))</span></span>


## <a name="step-1-displaying-product-information-in-a-gridview"></a><span data-ttu-id="7181e-119">1단계: GridView의 제품 정보를 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-119">Step 1: Displaying Product Information in a GridView</span></span>

<span data-ttu-id="7181e-120">우리가 하는 데 문제가 직접 GridView가의 바닥글에 삽입 인터페이스를 만드는 방법, 전에 데이터베이스에서 제품을 나열 하는 페이지에 GridView를 추가 하는 방법에 첫 번째 포커스를 s 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-120">Before we concern ourselves with creating the inserting interface in the GridView s footer, let s first focus on adding a GridView to the page that lists the products in the database.</span></span> <span data-ttu-id="7181e-121">열어서 시작 합니다 `InsertThroughFooter.aspx` 페이지에서 `EnhancedGridView` 폴더 및 GridView s 설정 디자이너 도구 상자에서 끌어서 GridView `ID` 속성을 `Products`합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-121">Start by opening the `InsertThroughFooter.aspx` page in the `EnhancedGridView` folder and drag a GridView from the Toolbox onto the Designer, setting the GridView s `ID` property to `Products`.</span></span> <span data-ttu-id="7181e-122">그런 다음 GridView가 스마트 태그를 사용 하 여 명명 된 새 ObjectDataSource를 바인딩할 `ProductsDataSource`합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-122">Next, use the GridView s smart tag to bind it to a new ObjectDataSource named `ProductsDataSource`.</span></span>


<span data-ttu-id="7181e-123">[![ProductsDataSource 라는 새로운 ObjectDataSource는 만들기](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image2.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="7181e-123">[![Create a New ObjectDataSource Named ProductsDataSource](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image2.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image3.png)</span></span>

<span data-ttu-id="7181e-124">**그림 2**: 명명 된 새 ObjectDataSource 만들려면 `ProductsDataSource` ([큰 이미지를 보려면 클릭](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="7181e-124">**Figure 2**: Create a New ObjectDataSource Named `ProductsDataSource` ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image4.png))</span></span>


<span data-ttu-id="7181e-125">ObjectDataSource를 사용 하 여 구성 합니다 `ProductsBLL` s 클래스 `GetProducts()` 제품 정보를 검색할 메서드입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-125">Configure the ObjectDataSource to use the `ProductsBLL` class s `GetProducts()` method to retrieve product information.</span></span> <span data-ttu-id="7181e-126">이 자습서에서는 편집 및 삭제 걱정 하지 않고 s 집중 엄격 하 게 삽입 기능을 추가 하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-126">For this tutorial, let s focus strictly on adding inserting capabilities and not worry about editing and deleting.</span></span> <span data-ttu-id="7181e-127">따라서 삽입 탭에서 드롭 다운 목록 설정 되어 있는지를 확인 `AddProduct()` 있고 UPDATE 및 DELETE 탭의 드롭다운 목록 (없음)으로 설정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-127">Therefore, make sure that the drop-down list in the INSERT tab is set to `AddProduct()` and that the drop-down lists in the UPDATE and DELETE tabs are set to (None) .</span></span>


<span data-ttu-id="7181e-128">[![지도 ObjectDataSource가 insert () 메서드에 AddProduct 메서드](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image3.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="7181e-128">[![Map the AddProduct Method to the ObjectDataSource s Insert() Method](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image3.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image5.png)</span></span>

<span data-ttu-id="7181e-129">**그림 3**: 지도 `AddProduct` ObjectDataSource의 방법 `Insert()` 메서드 ([클릭 하 여 큰 이미지 보기](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="7181e-129">**Figure 3**: Map the `AddProduct` Method to the ObjectDataSource s `Insert()` Method ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image6.png))</span></span>


<span data-ttu-id="7181e-130">[![(없음)으로 업데이트 및 삭제 탭 드롭다운 목록 설정](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image4.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="7181e-130">[![Set the UPDATE and DELETE Tabs Drop-Down Lists to (None)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image4.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image7.png)</span></span>

<span data-ttu-id="7181e-131">**그림 4**: 업데이트 및 삭제 탭 드롭 다운 목록 (None)으로 설정 ([클릭 하 여 큰 이미지 보기](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="7181e-131">**Figure 4**: Set the UPDATE and DELETE Tabs Drop-Down Lists to (None) ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image8.png))</span></span>


<span data-ttu-id="7181e-132">ObjectDataSource가의 데이터 소스 구성 마법사를 완료 한 후 Visual Studio는 자동으로 필드를 추가할 GridView 각 해당 데이터 필드에 대 한.</span><span class="sxs-lookup"><span data-stu-id="7181e-132">After completing the ObjectDataSource s Configure Data Source wizard, Visual Studio will automatically add fields to the GridView for each of the corresponding data fields.</span></span> <span data-ttu-id="7181e-133">이제 모든 Visual Studio에서 추가 필드를 둡니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-133">For now, leave all of the fields added by Visual Studio.</span></span> <span data-ttu-id="7181e-134">다시 방문 하 고 제거 드리겠습니다이 자습서의 뒷부분에서 새 레코드를 추가 하는 경우 지정 해야 일부 필드 값이 포함 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-134">Later in this tutorial we'll come back and remove some of the fields whose values don t need to be specified when adding a new record.</span></span>

<span data-ttu-id="7181e-135">80 제품 가까이에서 있으므로 데이터베이스에 새 레코드를 추가 하기 위해 웹 페이지의 맨 끝으로 아래로 스크롤하여 사용자 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-135">Since there are close to 80 products in the database, a user will have to scroll all the way down to the bottom of the web page in order to add a new record.</span></span> <span data-ttu-id="7181e-136">따라서 s를 삽입 인터페이스 보다 투명 하 고 액세스할 수 있도록 페이징 사용을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-136">Therefore, let s enable paging to make the inserting interface more visible and accessible.</span></span> <span data-ttu-id="7181e-137">페이징을 설정 하려면 단순히 GridView가 스마트 태그에서 페이징을 사용 확인란을 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-137">To turn on paging, simply check the Enable Paging checkbox from the GridView s smart tag.</span></span>

<span data-ttu-id="7181e-138">이 시점에서 GridView 및 ObjectDataSource가 선언적 태그는 다음과 비슷하게 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-138">At this point, the GridView and ObjectDataSource s declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample1.aspx)]


<span data-ttu-id="7181e-139">[![페이징 GridView에서 제품 데이터 필드를 모두 표시](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image5.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="7181e-139">[![All Product Data Fields are Displayed in a Paged GridView](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image5.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image9.png)</span></span>

<span data-ttu-id="7181e-140">**그림 5**: 페이징 GridView의 모든 제품 데이터 필드가 표시 됩니다 ([클릭 하 여 큰 이미지 보기](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="7181e-140">**Figure 5**: All Product Data Fields are Displayed in a Paged GridView ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image10.png))</span></span>


## <a name="step-2-adding-a-footer-row"></a><span data-ttu-id="7181e-141">2단계: 바닥글 행을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-141">Step 2: Adding a Footer Row</span></span>

<span data-ttu-id="7181e-142">헤더와 데이터 행을 함께 GridView 바닥글 행이 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-142">Along with its header and data rows, the GridView includes a footer row.</span></span> <span data-ttu-id="7181e-143">머리글 및 바닥글 행 GridView s의 값에 따라 표시 됩니다 [ `ShowHeader` ](https://msdn.microsoft.com/en-gb/library/system.web.ui.webcontrols.gridview.showheader.aspx) 하 고 [ `ShowFooter` ](https://msdn.microsoft.com/en-gb/library/system.web.ui.webcontrols.gridview.showfooter.aspx) 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-143">The header and footer rows are displayed depending on the values of the GridView s [`ShowHeader`](https://msdn.microsoft.com/en-gb/library/system.web.ui.webcontrols.gridview.showheader.aspx) and [`ShowFooter`](https://msdn.microsoft.com/en-gb/library/system.web.ui.webcontrols.gridview.showfooter.aspx) properties.</span></span> <span data-ttu-id="7181e-144">바닥글 행을 표시 하려면 설정 하기만 합니다 `ShowFooter` 속성을 `true`입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-144">To show the footer row, simply set the `ShowFooter` property to `true`.</span></span> <span data-ttu-id="7181e-145">그림 6에서 알 수 있듯이, 설정 된 `ShowFooter` 속성을 `true` 바닥글 행을 표에 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-145">As Figure 6 illustrates, setting the `ShowFooter` property to `true` adds a footer row to the grid.</span></span>


<span data-ttu-id="7181e-146">[![바닥글 행을 표시 하려면 ShowFooter을 True로 설정](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image6.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="7181e-146">[![To Display the Footer Row, Set ShowFooter to True](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image6.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image11.png)</span></span>

<span data-ttu-id="7181e-147">**그림 6**: 바닥글 행을 표시 하려면 설정 `ShowFooter` 하 `True` ([클릭 하 여 큰 이미지 보기](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="7181e-147">**Figure 6**: To Display the Footer Row, Set `ShowFooter` to `True` ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image12.png))</span></span>


<span data-ttu-id="7181e-148">바닥글 행을 진한 빨간색 배경이 참고 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-148">Note that the footer row has a dark red background color.</span></span> <span data-ttu-id="7181e-149">DataWebControls 테마를 만들고 모든 페이지에 적용할 것 때문에 다시를 [the ObjectDataSource 사용 하 여 데이터 표시](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md) 자습서입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-149">This is due to the DataWebControls Theme we created and applied to all pages back in the [Displaying Data With the ObjectDataSource](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md) tutorial.</span></span> <span data-ttu-id="7181e-150">특히를 `GridView.skin` 파일은 구성의 `FooterStyle` 속성 이러한 사용를 `FooterStyle` CSS 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-150">Specifically, the `GridView.skin` file configures the `FooterStyle` property such that is uses the `FooterStyle` CSS class.</span></span> <span data-ttu-id="7181e-151">합니다 `FooterStyle` 클래스에 정의 된 `Styles.css` 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-151">The `FooterStyle` class is defined in `Styles.css` as follows:</span></span>


[!code-css[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample2.css)]

> [!NOTE]
> <span data-ttu-id="7181e-152">에서는 ve GridView가의 바닥글 행을 사용 하 여 이전 자습서에서 탐색 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-152">We ve explored using the GridView s footer row in previous tutorials.</span></span> <span data-ttu-id="7181e-153">필요한 경우 다시 참조를 [GridView의 바닥글에 요약 정보 표시](../custom-formatting/displaying-summary-information-in-the-gridview-s-footer-cs.md) 세부 정보에 대 한 자습서입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-153">If needed, refer back to the [Displaying Summary Information in the GridView's Footer](../custom-formatting/displaying-summary-information-in-the-gridview-s-footer-cs.md) tutorial for a refresher.</span></span>


<span data-ttu-id="7181e-154">설정한 후 합니다 `ShowFooter` 속성을 `true`, 잠시 브라우저에서 출력을 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-154">After setting the `ShowFooter` property to `true`, take a moment to view the output in a browser.</span></span> <span data-ttu-id="7181e-155">현재 바닥글 행 만들어지고 t 텍스트 또는 웹 컨트롤을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-155">Currently the footer row doesn t contain any text or Web controls.</span></span> <span data-ttu-id="7181e-156">3 단계에서에서 적절 한 삽입 인터페이스를 포함 하도록 각 GridView 필드에 대 한 바닥글을 수정 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-156">In Step 3 we'll modify the footer for each GridView field so that it includes the appropriate inserting interface.</span></span>


<span data-ttu-id="7181e-157">[![빈 바닥글 행이 표시 위에 페이징 인터페이스 컨트롤](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image7.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="7181e-157">[![The Empty Footer Row is Displayed Above the Paging Interface Controls](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image7.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image13.png)</span></span>

<span data-ttu-id="7181e-158">**그림 7**: 빈 바닥글 행이 표시 위에 페이징 인터페이스 컨트롤 ([클릭 하 여 큰 이미지 보기](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="7181e-158">**Figure 7**: The Empty Footer Row is Displayed Above the Paging Interface Controls ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image14.png))</span></span>


## <a name="step-3-customizing-the-footer-row"></a><span data-ttu-id="7181e-159">3단계: 바닥글 행을 사용자 지정</span><span class="sxs-lookup"><span data-stu-id="7181e-159">Step 3: Customizing the Footer Row</span></span>

<span data-ttu-id="7181e-160">다시 합니다 [GridView 컨트롤에서 TemplateFields 사용 하 여](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) 크게 TemplateFields (BoundFields CheckBoxFields 아님)를 사용 하 여 특정 GridView 열 표시를 사용자 지정 하는 방법에 살펴보았습니다 자습서, [ 데이터 수정 인터페이스 사용자 지정](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) GridView의 편집 인터페이스를 사용자 지정할 TemplateFields 사용에 대해 살펴보았습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-160">Back in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial we saw how to greatly customize the display of a particular GridView column using TemplateFields (as opposed to BoundFields or CheckBoxFields); in [Customizing the Data Modification Interface](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) we looked at using TemplateFields to customize the editing interface in a GridView.</span></span> <span data-ttu-id="7181e-161">회수를 TemplateField 태그, 웹 컨트롤 및 데이터 바인딩 구문을 조합을 정의 하는 템플릿의 숫자로 이루어집니다는 특정 행의 유형에 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-161">Recall that a TemplateField is composed of a number of templates that defines the mix of markup, Web controls, and databinding syntax used for certain types of rows.</span></span> <span data-ttu-id="7181e-162">합니다 `ItemTemplate`, 예를 들어, 읽기 전용 행에 사용 된 템플릿을 지정 하는 동안는 `EditItemTemplate` 편집할 수 있는 행의 템플릿을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-162">The `ItemTemplate`, for example, specifies the template used for read-only rows, while the `EditItemTemplate` defines the template for the editable row.</span></span>

<span data-ttu-id="7181e-163">와 함께 `ItemTemplate` 하 고 `EditItemTemplate`를 templatefield로 포함 되어 있습니다를 `FooterTemplate` 바닥글 행에 대 한 콘텐츠를 지정 하는 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-163">Along with the `ItemTemplate` and `EditItemTemplate`, the TemplateField also includes a `FooterTemplate` that specifies the content for the footer row.</span></span> <span data-ttu-id="7181e-164">웹 컨트롤에 인터페이스를 삽입 하는 각 필드 s에 대 한 필요한 추가할 수 있습니다 따라서는 `FooterTemplate`합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-164">Therefore, we can add the Web controls needed for each field s inserting interface into the `FooterTemplate`.</span></span> <span data-ttu-id="7181e-165">를 시작 하려면 모든 GridView에서 필드를 TemplateFields 변환할 놓습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-165">To start, convert all of the fields in the GridView to TemplateFields.</span></span> <span data-ttu-id="7181e-166">GridView가 스마트 태그에서 왼쪽된 아래 모퉁이에서 각 필드를 선택 하 고 TemplateField 링크로 변환이이 필드를 클릭 하면 열 편집 링크를 클릭 하 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-166">This can be done by clicking the Edit Columns link in the GridView s smart tag, selecting each field in the lower left corner, and clicking the Convert this field into a TemplateField link.</span></span>


![각 필드를 TemplateField로 변환](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image8.gif)

<span data-ttu-id="7181e-168">**그림 8**: 각 필드를 TemplateField로 변환</span><span class="sxs-lookup"><span data-stu-id="7181e-168">**Figure 8**: Convert Each Field Into a TemplateField</span></span>


<span data-ttu-id="7181e-169">이 필드를 TemplateField로의 변환을 클릭 하는 해당 TemplateField로 현재 필드 형식이 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-169">Clicking the Convert this field into a TemplateField turns the current field type into an equivalent TemplateField.</span></span> <span data-ttu-id="7181e-170">예를 들어, 각 BoundField 바뀝니다 templatefield로 사용 하 여는 `ItemTemplate` 해당 데이터 필드를 표시 하는 레이블을 포함 하는 및 `EditItemTemplate` 텍스트 상자에 데이터 필드를 표시 하는 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-170">For example, each BoundField is replaced by a TemplateField with an `ItemTemplate` that contains a Label that displays the corresponding data field and an `EditItemTemplate` that displays the data field in a TextBox.</span></span> <span data-ttu-id="7181e-171">`ProductName` BoundField TemplateField 태그를 다음으로 변환 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-171">The `ProductName` BoundField has been converted into the following TemplateField markup:</span></span>


[!code-aspx[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample3.aspx)]

<span data-ttu-id="7181e-172">마찬가지로 합니다 `Discontinued` CheckBoxField 변환 된 templatefield로 갖는 `ItemTemplate` 및 `EditItemTemplate` CheckBox 웹 컨트롤이 포함 되어 (사용 하 여는 `ItemTemplate` s 사용 하지 않도록 설정 하는 확인란을 선택).</span><span class="sxs-lookup"><span data-stu-id="7181e-172">Likewise, the `Discontinued` CheckBoxField has been converted into a TemplateField whose `ItemTemplate` and `EditItemTemplate` contain a CheckBox Web control (with the `ItemTemplate` s CheckBox disabled).</span></span> <span data-ttu-id="7181e-173">읽기 전용 `ProductID` BoundField 둘 다에서 레이블 컨트롤을 사용 하 여 templatefield로 변환 된 합니다 `ItemTemplate` 및 `EditItemTemplate`합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-173">The read-only `ProductID` BoundField has been converted into a TemplateField with a Label control in both the `ItemTemplate` and `EditItemTemplate`.</span></span> <span data-ttu-id="7181e-174">즉, 기존 GridView는 변환 필드를 TemplateField로 방법이 쉽고 빠르게 기존 필드 s 기능 손실 없이 더 사용자 지정 가능한 TemplateField로 전환 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-174">In short, converting an existing GridView field into a TemplateField is a quick and easy way to switch to the more customizable TemplateField without losing any of the existing field s functionality.</span></span>

<span data-ttu-id="7181e-175">GridView 이후 다시 만들어지고 t 지원 편집, 작업에서는 자유롭게 제거할 합니다 `EditItemTemplate` 각 TemplateField에서 벗어나지 방금는 `ItemTemplate`합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-175">Since the GridView we re working with doesn t support editing, feel free to remove the `EditItemTemplate` from each TemplateField, leaving just the `ItemTemplate`.</span></span> <span data-ttu-id="7181e-176">이 작업을 수행한 후 GridView가 선언적 태그는 다음과 같이 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-176">After doing this, your GridView s declarative markup should look like the following:</span></span>


[!code-aspx[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample4.aspx)]

<span data-ttu-id="7181e-177">각 필드 s에 적절 한 삽입 인터페이스 입력할 수 있습니다 각 GridView 필드를 TemplateField로 변환 했으므로 `FooterTemplate`합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-177">Now that each GridView field has been converted into a TemplateField, we can enter the appropriate inserting interface into each field s `FooterTemplate`.</span></span> <span data-ttu-id="7181e-178">일부 필드는 삽입 인터페이스 없습니다 (`ProductID`예를 들어); 다른 새 s 제품 정보를 수집 하는 데 웹 컨트롤에 달라 집니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-178">Some of the fields will not have an inserting interface (`ProductID`, for instance); others will vary in the Web controls used to collect the new product s information.</span></span>

<span data-ttu-id="7181e-179">편집 인터페이스를 만들려면 GridView가 스마트 태그에서 템플릿 편집 링크를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-179">To create the editing interface, choose the Edit Templates link from the GridView s smart tag.</span></span> <span data-ttu-id="7181e-180">드롭다운 목록에서 적절 한 s 필드를 선택한 `FooterTemplate` 디자이너 도구 상자에서 적절 한 컨트롤을 끕니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-180">Then, from the drop-down list, select the appropriate field s `FooterTemplate` and drag the appropriate control from the Toolbox onto the Designer.</span></span>


<span data-ttu-id="7181e-181">[![각 필드의 먼저에 적절 한 삽입 인터페이스 추가](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image9.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="7181e-181">[![Add the Appropriate Inserting Interface to Each Field s FooterTemplate](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image9.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image15.png)</span></span>

<span data-ttu-id="7181e-182">**그림 9**: 각 필드에 적절 한 삽입 인터페이스를 추가 `FooterTemplate` ([큰 이미지를 보려면 클릭](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="7181e-182">**Figure 9**: Add the Appropriate Inserting Interface to Each Field s `FooterTemplate` ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image16.png))</span></span>


<span data-ttu-id="7181e-183">다음 글머리 기호 목록에 추가 하려면 삽입 인터페이스를 지정 하는 GridView 필드 열거:</span><span class="sxs-lookup"><span data-stu-id="7181e-183">The following bulleted list enumerates the GridView fields, specifying the inserting interface to add:</span></span>

- <span data-ttu-id="7181e-184">`ProductID` None입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-184">`ProductID` none.</span></span>
- <span data-ttu-id="7181e-185">`ProductName` TextBox를 추가 하 고 설정 해당 `ID` 에 `NewProductName`입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-185">`ProductName` add a TextBox and set its `ID` to `NewProductName`.</span></span> <span data-ttu-id="7181e-186">사용자가 새 s 제품 이름에 대 한 값을 입력 하는 되도록도 RequiredFieldValidator 컨트롤을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-186">Add a RequiredFieldValidator control as well to ensure that the user enters a value for the new product s name.</span></span>
- <span data-ttu-id="7181e-187">`SupplierID` None입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-187">`SupplierID` none.</span></span>
- <span data-ttu-id="7181e-188">`CategoryID` None입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-188">`CategoryID` none.</span></span>
- <span data-ttu-id="7181e-189">`QuantityPerUnit` 설정 하는 텍스트 상자 추가 해당 `ID` 에 `NewQuantityPerUnit`입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-189">`QuantityPerUnit` add a TextBox, setting its `ID` to `NewQuantityPerUnit`.</span></span>
- <span data-ttu-id="7181e-190">`UnitPrice` 라는 텍스트 상자 추가 `NewUnitPrice` 이 고 입력 한 값을 보장 하는 CompareValidator는 0 보다 크거나 통화 값입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-190">`UnitPrice` add a TextBox named `NewUnitPrice` and a CompareValidator that ensures the value entered is a currency value greater than or equal to zero.</span></span>
- <span data-ttu-id="7181e-191">`UnitsInStock` 텍스트 상자를 사용 하 여 해당 `ID` 로 설정 된 `NewUnitsInStock`합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-191">`UnitsInStock` use a TextBox whose `ID` is set to `NewUnitsInStock`.</span></span> <span data-ttu-id="7181e-192">입력 한 값이 0 보다 크거나 정수 값을 보장 하는 CompareValidator 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-192">Include a CompareValidator that ensures that the value entered is an integer value greater than or equal to zero.</span></span>
- <span data-ttu-id="7181e-193">`UnitsOnOrder` 텍스트 상자를 사용 하 여 해당 `ID` 로 설정 된 `NewUnitsOnOrder`합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-193">`UnitsOnOrder` use a TextBox whose `ID` is set to `NewUnitsOnOrder`.</span></span> <span data-ttu-id="7181e-194">입력 한 값이 0 보다 크거나 정수 값을 보장 하는 CompareValidator 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-194">Include a CompareValidator that ensures that the value entered is an integer value greater than or equal to zero.</span></span>
- <span data-ttu-id="7181e-195">`ReorderLevel` 텍스트 상자를 사용 하 여 해당 `ID` 로 설정 된 `NewReorderLevel`합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-195">`ReorderLevel` use a TextBox whose `ID` is set to `NewReorderLevel`.</span></span> <span data-ttu-id="7181e-196">입력 한 값이 0 보다 크거나 정수 값을 보장 하는 CompareValidator 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-196">Include a CompareValidator that ensures that the value entered is an integer value greater than or equal to zero.</span></span>
- <span data-ttu-id="7181e-197">`Discontinued` 추가 설정 CheckBox를 해당 `ID` 에 `NewDiscontinued`입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-197">`Discontinued` add a CheckBox, setting its `ID` to `NewDiscontinued`.</span></span>
- <span data-ttu-id="7181e-198">`CategoryName` DropDownList를 추가 하 고 설정 해당 `ID` 에 `NewCategoryID`입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-198">`CategoryName` add a DropDownList and set its `ID` to `NewCategoryID`.</span></span> <span data-ttu-id="7181e-199">라는 한 새 ObjectDataSource에 바인딩할 `CategoriesDataSource` 를 사용 하도록 구성 합니다 `CategoriesBLL` s 클래스 `GetCategories()` 메서드.</span><span class="sxs-lookup"><span data-stu-id="7181e-199">Bind it to a new ObjectDataSource named `CategoriesDataSource` and configure it to use the `CategoriesBLL` class s `GetCategories()` method.</span></span> <span data-ttu-id="7181e-200">DropDownList s `ListItem` s 표시 합니다 `CategoryName` 데이터 필드를 사용 하 여는 `CategoryID` 해당 값으로 데이터 필드입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-200">Have the DropDownList s `ListItem` s display the `CategoryName` data field, using the `CategoryID` data field as their values.</span></span>
- <span data-ttu-id="7181e-201">`SupplierName` DropDownList를 추가 하 고 설정 해당 `ID` 에 `NewSupplierID`입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-201">`SupplierName` add a DropDownList and set its `ID` to `NewSupplierID`.</span></span> <span data-ttu-id="7181e-202">라는 한 새 ObjectDataSource에 바인딩할 `SuppliersDataSource` 를 사용 하도록 구성 합니다 `SuppliersBLL` s 클래스 `GetSuppliers()` 메서드.</span><span class="sxs-lookup"><span data-stu-id="7181e-202">Bind it to a new ObjectDataSource named `SuppliersDataSource` and configure it to use the `SuppliersBLL` class s `GetSuppliers()` method.</span></span> <span data-ttu-id="7181e-203">DropDownList s `ListItem` s 표시 합니다 `CompanyName` 데이터 필드를 사용 하 여는 `SupplierID` 해당 값으로 데이터 필드입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-203">Have the DropDownList s `ListItem` s display the `CompanyName` data field, using the `SupplierID` data field as their values.</span></span>

<span data-ttu-id="7181e-204">지울 각 유효성 검사 컨트롤에 대해 합니다 `ForeColor` 속성 있도록는 `FooterStyle` 빨간색 기본값 대신 사용할 CSS 클래스 s 흰색 전경 색입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-204">For each of the validation controls, clear out the `ForeColor` property so that the `FooterStyle` CSS class s white foreground color will be used in place of the default red.</span></span> <span data-ttu-id="7181e-205">또한 사용 하 여는 `ErrorMessage` 에 대 한 자세한 속성을 설정할 수 있지만 `Text` 별표 속성.</span><span class="sxs-lookup"><span data-stu-id="7181e-205">Also use the `ErrorMessage` property for a detailed description, but set the `Text` property to an asterisk.</span></span> <span data-ttu-id="7181e-206">유효성 검사 컨트롤의 텍스트 두 줄으로 줄 삽입 인터페이스를 유발 하지 못하도록 설정 합니다 `FooterStyle` s `Wrap` 속성을 false로 각각에 대 한는 `FooterTemplate` 유효성 검사 컨트롤을 사용 하는 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-206">To prevent the validation control s text from causing the inserting interface to wrap to two lines, set the `FooterStyle` s `Wrap` property to false for each of the `FooterTemplate` s that use a validation control.</span></span> <span data-ttu-id="7181e-207">GridView 및 집합 아래에 ValidationSummary 컨트롤을 추가 하는 마지막으로, 해당 `ShowMessageBox` 속성을 `true` 및 해당 `ShowSummary` 속성을 `false`입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-207">Finally, add a ValidationSummary control beneath the GridView and set its `ShowMessageBox` property to `true` and its `ShowSummary` property to `false`.</span></span>

<span data-ttu-id="7181e-208">새 제품을 추가할 때 제공 해야 합니다 `CategoryID` 고 `SupplierID`합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-208">When adding a new product, we need to provide the `CategoryID` and `SupplierID`.</span></span> <span data-ttu-id="7181e-209">바닥글 셀에 있는 Dropdownlist를 통해이 정보가 캡처됩니다 합니다 `CategoryName` 고 `SupplierName` 필드입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-209">This information is captured through the DropDownLists in the footer cells for the `CategoryName` and `SupplierName` fields.</span></span> <span data-ttu-id="7181e-210">와 반대로 이러한 필드를 사용 하는 `CategoryID` 및 `SupplierID` TemplateFields s 표의 데이터 행 사용자 이므로 해당 ID 값 보다는 category와 supplier 이름 확인에 더 관심이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-210">I chose to use these fields as opposed to the `CategoryID` and `SupplierID` TemplateFields because in the grid s data rows the user is likely more interested in seeing the category and supplier names rather than their ID values.</span></span> <span data-ttu-id="7181e-211">하므로 `CategoryID` 및 `SupplierID` 값에서 이제 캡처 중인를 `CategoryName` 및 `SupplierName` 필드 s 삽입 인터페이스를 제거할 수 있다는 것을 `CategoryID` 및 `SupplierID` GridView에서 TemplateFields.</span><span class="sxs-lookup"><span data-stu-id="7181e-211">Since the `CategoryID` and `SupplierID` values are now being captured in the `CategoryName` and `SupplierName` field s inserting interfaces, we can remove the `CategoryID` and `SupplierID` TemplateFields from the GridView.</span></span>

<span data-ttu-id="7181e-212">마찬가지로, 합니다 `ProductID` 새 제품을 추가 하는 경우에 사용 되지 않습니다 하므로 `ProductID` TemplateField도 제거할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-212">Similarly, the `ProductID` is not used when adding a new product, so the `ProductID` TemplateField can be removed as well.</span></span> <span data-ttu-id="7181e-213">그러나 s 유지 하도록 합니다 `ProductID` 표의 필드입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-213">However, let s leave the `ProductID` field in the grid.</span></span> <span data-ttu-id="7181e-214">텍스트 상자, Dropdownlist, 확인란 및 삽입 인터페이스를 구성 하는 유효성 검사 컨트롤 외에 필요 추가 단추를 클릭 하면 데이터베이스에 새 제품을 추가 하는 논리를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-214">In addition to the TextBoxes, DropDownLists, CheckBoxes, and validation controls that make up the inserting interface, we'll also need an Add button that, when clicked, performs the logic to add the new product to the database.</span></span> <span data-ttu-id="7181e-215">4 단계에서에서의 삽입 인터페이스에는 추가 단추가 포함 됩니다는 `ProductID` TemplateField의 `FooterTemplate`입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-215">In Step 4 we'll include an Add button in the inserting interface in the `ProductID` TemplateField s `FooterTemplate`.</span></span>

<span data-ttu-id="7181e-216">자유롭게 GridView의 다양 한 필드의 표시를 개선할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-216">Feel free to improve the appearance of the various GridView fields.</span></span> <span data-ttu-id="7181e-217">서식을 지정 하려는 하는 예를 들어를 `UnitPrice` 통화 값 오른쪽 맞춤 합니다 `UnitsInStock`, `UnitsOnOrder`, 및 `ReorderLevel` 필드 및 업데이트를 `HeaderText` 는 TemplateFields에 대 한 값.</span><span class="sxs-lookup"><span data-stu-id="7181e-217">For example, you might want to format the `UnitPrice` values as a currency, right-align the `UnitsInStock`, `UnitsOnOrder`, and `ReorderLevel` fields, and update the `HeaderText` values for the TemplateFields.</span></span>

<span data-ttu-id="7181e-218">인터페이스를 삽입 하는 회전을 만든 후는 `FooterTemplate` s, 제거 합니다 `SupplierID`, 및 `CategoryID` TemplateFields, 서식 및 맞춤 TemplateFields, 선언적 GridView s에 통해 그리드의 미관 향상 태그는 다음과 비슷하게 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-218">After creating the slew of inserting interfaces in the `FooterTemplate` s, removing the `SupplierID`, and `CategoryID` TemplateFields, and improving the aesthetics of the grid through formatting and aligning the TemplateFields, your GridView s declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample5.aspx)]

<span data-ttu-id="7181e-219">브라우저를 통해 보면 GridView가의 바닥글 행을 이제 완료 된 (그림 10 참조) 인터페이스를 삽입 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-219">When viewed through a browser, the GridView s footer row now includes the completed inserting interface (see Figure 10).</span></span> <span data-ttu-id="7181e-220">이 시점에서 삽입 인터페이스 만들어지고 t를 나타내고 해당 그녀는 s 새 제품에 대 한 데이터를 입력 한 데이터베이스에 새 레코드를 삽입 하려는 사용자에 대 한 의미를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-220">At this point, the inserting interface doesn t include a means for the user to indicate that she s entered the data for the new product and wants to insert a new record into the database.</span></span> <span data-ttu-id="7181e-221">에서는 또한 ve에서 새 레코드에 바닥글에 입력 된 데이터를 변환 하는 어떻게 해결 하는 `Products` 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-221">Also, we ve yet to address how the data entered into the footer will translate into a new record in the `Products` database.</span></span> <span data-ttu-id="7181e-222">4 단계에서 코드를 실행 하는 방법 및 삽입 인터페이스에 추가 단추를 포함 하는 방법을 살펴보겠습니다 포스트백 될 때 해당 s 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-222">In Step 4 we'll look at how to include an Add button to the inserting interface and how to execute code on postback when it s clicked.</span></span> <span data-ttu-id="7181e-223">5 단계에 바닥글에서 데이터를 사용 하 여 새 레코드를 삽입 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-223">Step 5 shows how to insert a new record using the data from the footer.</span></span>


<span data-ttu-id="7181e-224">[![새 레코드를 추가 하는 것에 대 한 인터페이스를 제공 하는 GridView 바닥글](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image10.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="7181e-224">[![The GridView Footer Provides an Interface for Adding a New Record](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image10.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image17.png)</span></span>

<span data-ttu-id="7181e-225">**그림 10**: 새 레코드를 추가 하는 것에 대 한 인터페이스를 제공 하는 GridView 바닥글 ([클릭 하 여 큰 이미지 보기](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="7181e-225">**Figure 10**: The GridView Footer Provides an Interface for Adding a New Record ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image18.png))</span></span>


## <a name="step-4-including-an-add-button-in-the-inserting-interface"></a><span data-ttu-id="7181e-226">4단계: 삽입 인터페이스에 추가 단추를 포함 하 여</span><span class="sxs-lookup"><span data-stu-id="7181e-226">Step 4: Including an Add Button in the Inserting Interface</span></span>

<span data-ttu-id="7181e-227">인터페이스를 현재 삽입 바닥글 행 s에 새 제품의 정보 입력 완료 했음을 나타내기 위해 사용자를 위한 없으므로 삽입 인터페이스에 위치 추가 단추를 포함 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-227">We need to include an Add button somewhere in the inserting interface since the footer row s inserting interface currently lacks the means for the user to indicate that they have completed entering the new product s information.</span></span> <span data-ttu-id="7181e-228">기존 중 하나에 배치 될 수 있습니다이 `FooterTemplate` 또는에서는 열을 추가할 수도 새 표에이 목적입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-228">This could be placed in one of the existing `FooterTemplate` s or we could add a new column to the grid for this purpose.</span></span> <span data-ttu-id="7181e-229">이 자습서에서는 let s에서 추가 단추를 배치 합니다 `ProductID` TemplateField의 `FooterTemplate`입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-229">For this tutorial, let s place the Add button in the `ProductID` TemplateField s `FooterTemplate`.</span></span>

<span data-ttu-id="7181e-230">디자이너에서 GridView가 스마트 태그에서 템플릿 편집 링크를 클릭 하 고 다음을 선택 합니다 `ProductID` 필드의 `FooterTemplate` 드롭 다운 목록에서.</span><span class="sxs-lookup"><span data-stu-id="7181e-230">From the Designer, click on the Edit Templates link in the GridView s smart tag and then choose the `ProductID` field s `FooterTemplate` from the drop-down list.</span></span> <span data-ttu-id="7181e-231">단추 웹 컨트롤 (또는 LinkButton 또는 추가 ImageButton을 원하는 경우) 해당 ID를 설정 합니다. 템플릿에 `AddProduct`, 해당 `CommandName` 삽입을 고 `Text` 그림 11 에서처럼 추가할 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-231">Add a Button Web control (or a LinkButton or ImageButton, if you prefer) to the template, setting its ID to `AddProduct`, its `CommandName` to Insert, and its `Text` property to Add as shown in Figure 11.</span></span>


<span data-ttu-id="7181e-232">[![ProductID TemplateField의 먼저 추가 단추 배치](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image11.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="7181e-232">[![Place the Add Button in the ProductID TemplateField s FooterTemplate](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image11.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image19.png)</span></span>

<span data-ttu-id="7181e-233">**그림 11**: 추가 단추를 배치 합니다 `ProductID` TemplateField s `FooterTemplate` ([클릭 하 여 큰 이미지 보기](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="7181e-233">**Figure 11**: Place the Add Button in the `ProductID` TemplateField s `FooterTemplate` ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image20.png))</span></span>


<span data-ttu-id="7181e-234">적 추가 단추에 포함 되 면 브라우저에서 페이지를 테스트 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-234">Once you ve included the Add button, test out the page in a browser.</span></span> <span data-ttu-id="7181e-235">삽입 인터페이스에 잘못 된 데이터를 사용 하 여 추가 단추를 클릭 하면 포스트백은 circuited 즉 및 ValidationSummary 컨트롤 (그림 12 참조) 잘못 된 데이터를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-235">Note that when clicking the Add button with invalid data in the inserting interface, the postback is short circuited and the ValidationSummary control indicates the invalid data (see Figure 12).</span></span> <span data-ttu-id="7181e-236">입력 한 적절 한 데이터를 사용 하 여 추가 단추를 클릭 하면 포스트백 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-236">With appropriate data entered, clicking the Add button causes a postback.</span></span> <span data-ttu-id="7181e-237">그러나 레코드가 없습니다 데이터베이스에 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-237">No record is added to the database, however.</span></span> <span data-ttu-id="7181e-238">약간의 실제로 삽입을 수행 하는 코드를 작성 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-238">We will need to write a bit of code to actually perform the insert.</span></span>


<span data-ttu-id="7181e-239">[![단추 추가 s 포스트백이 짧은 Circuited 삽입 인터페이스에 잘못 된 데이터가 있는 경우](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image12.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="7181e-239">[![The Add Button s Postback is Short Circuited if There is Invalid Data in the Inserting Interface](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image12.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image21.png)</span></span>

<span data-ttu-id="7181e-240">**그림 12**: 단추 추가 s 포스트백 짧은 Circuited 삽입 인터페이스에 잘못 된 데이터가 있으면가 ([클릭 하 여 큰 이미지 보기](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="7181e-240">**Figure 12**: The Add Button s Postback is Short Circuited if There is Invalid Data in the Inserting Interface ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image22.png))</span></span>


> [!NOTE]
> <span data-ttu-id="7181e-241">유효성 검사 컨트롤이 삽입 인터페이스에 유효성 검사 그룹에 할당 되지 않은 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-241">The validation controls in the inserting interface were not assigned to a validation group.</span></span> <span data-ttu-id="7181e-242">이 정상적으로 삽입 인터페이스는 페이지의 유효성 검사 컨트롤의 유일한 설정 하기만 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-242">This works fine so long as the inserting interface is the only set of validation controls on the page.</span></span> <span data-ttu-id="7181e-243">그러나 다른 유효성 검사 컨트롤 (예: 표 s 편집 인터페이스에 유효성 검사 컨트롤) 페이지의 인 경우 유효성 검사 컨트롤이 삽입 인터페이스 추가한 단추의 `ValidationGroup` 속성에 동일한 값을 할당 해야로 so 특정 유효성 검사 그룹을 사용 하 여 이러한 컨트롤을 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-243">If, however, there are other validation controls on the page (such as validation controls in the grid s editing interface), the validation controls in the inserting interface and Add button s `ValidationGroup` properties should be assigned the same value so as to associate these controls with a particular validation group.</span></span> <span data-ttu-id="7181e-244">참조 [ASP.NET 2.0의 유효성 검사 컨트롤 분석](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx) 유효성 검사 컨트롤과 단추가 페이지에 유효성 검사 그룹으로 분할 하는 방법은 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-244">See [Dissecting the Validation Controls in ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx) for more information on partitioning the validation controls and buttons on a page into validation groups.</span></span>


## <a name="step-5-inserting-a-new-record-into-theproductstable"></a><span data-ttu-id="7181e-245">5단계: 에 새 레코드 삽입을`Products`테이블</span><span class="sxs-lookup"><span data-stu-id="7181e-245">Step 5: Inserting a New Record Into the`Products`Table</span></span>

<span data-ttu-id="7181e-246">GridView의 기본 편집 기능을 이용 하면 GridView 자동으로 처리의 모든 업데이트를 수행 하는 데 필요한 작업입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-246">When utilizing the built-in editing features of the GridView, the GridView automatically handles all of the work necessary for performing the update.</span></span> <span data-ttu-id="7181e-247">특히, [업데이트] 단추를 클릭할 때 복사 ObjectDataSource에서 매개 변수를 편집 인터페이스에서 입력 한 값 `UpdateParameters` 수집 및 ObjectDataSource가 호출 하 여 업데이트를 시작 `Update()` 메서드.</span><span class="sxs-lookup"><span data-stu-id="7181e-247">In particular, when the Update button is clicked it copies the values entered from the editing interface to the parameters in the ObjectDataSource s `UpdateParameters` collection and kicks off the update by invoking the ObjectDataSource s `Update()` method.</span></span> <span data-ttu-id="7181e-248">GridView는 삽입에 대 한 이러한 기본 제공 기능을 제공 하지 않으므로 ObjectDataSource가 호출 하는 코드를 구현 해야 했습니다 `Insert()` 메서드와 ObjectDataSource s 인터페이스는 삽입에서 값 복사 `InsertParameters` 컬렉션 .</span><span class="sxs-lookup"><span data-stu-id="7181e-248">Since the GridView does not provide such built-in functionality for inserting, we must implement code that calls the ObjectDataSource s `Insert()` method and copies the values from the inserting interface to the ObjectDataSource s `InsertParameters` collection.</span></span>

<span data-ttu-id="7181e-249">이 삽입 논리 추가 버튼을 클릭 한 후 실행 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-249">This insert logic should be executed after the Add button has been clicked.</span></span> <span data-ttu-id="7181e-250">에 설명 된 대로 합니다 [추가한 단추를 GridView에 응답](../custom-button-actions/adding-and-responding-to-buttons-to-a-gridview-cs.md) 자습서에서는 단추나 LinkButton, ImageButton GridView에서를 클릭 하면 GridView가 언제 든 지 `RowCommand` 포스트백 될 때 이벤트가 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-250">As discussed in the [Adding and Responding to Buttons in a GridView](../custom-button-actions/adding-and-responding-to-buttons-to-a-gridview-cs.md) tutorial, anytime a Button, LinkButton, or ImageButton in a GridView is clicked, the GridView s `RowCommand` event fires on postback.</span></span> <span data-ttu-id="7181e-251">단추나 LinkButton, ImageButton 바닥글 행에 추가 단추와 같이 명시적으로 추가 된 여부 또는 GridView에서 자동으로 추가 된 경우이 이벤트 발생 (정렬 사용을 선택 하면 각 열의 맨 위에 있는 Linkbutton 같은 또는 Linkbutton 페이징 사용을 선택한 경우 페이징 인터페이스에서).</span><span class="sxs-lookup"><span data-stu-id="7181e-251">This event fires whether the Button, LinkButton, or ImageButton was added explicitly such as the Add button in the footer row or if it was automatically added by the GridView (such as the LinkButtons at the top of each column when Enable Sorting is selected, or the LinkButtons in the paging interface when Enable Paging is selected).</span></span>

<span data-ttu-id="7181e-252">따라서 사용자 추가 단추 클릭에 응답 하려면 해야 GridView s에 대 한 이벤트 처리기를 만들고 `RowCommand` 이벤트입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-252">Therefore, to respond to the user clicking the Add button, we need to create an event handler for the GridView s `RowCommand` event.</span></span> <span data-ttu-id="7181e-253">이 이벤트가 발생할 때마다 때문 *모든* 단추나 LinkButton, ImageButton GridView에서를 클릭 하면 해당 s는만 진행 논리를 삽입 하는 경우 중요 한를 `CommandName` 는이벤트처리기맵으로전달된속성`CommandName` 추가 단추 (Insert)의 값입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-253">Since this event fires whenever *any* Button, LinkButton, or ImageButton in the GridView is clicked, it s vital that we only proceed with the inserting logic if the `CommandName` property passed into the event handler maps to the `CommandName` value of the Add button ( Insert ).</span></span> <span data-ttu-id="7181e-254">또한 유효성 검사 컨트롤이 유효한 데이터를 보고 하는 경우 진행만 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-254">Moreover, we should also only proceed if the validation controls report valid data.</span></span> <span data-ttu-id="7181e-255">이 위해 만들기에 대 한 이벤트 처리기는 `RowCommand` 다음 코드를 사용 하 여 이벤트:</span><span class="sxs-lookup"><span data-stu-id="7181e-255">To accommodate this, create an event handler for the `RowCommand` event with the following code:</span></span>


[!code-csharp[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample6.cs)]

> [!NOTE]
> <span data-ttu-id="7181e-256">궁금할 이벤트 처리기 걸린다면 확인 하는 이유는 `Page.IsValid` 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-256">You may be wondering why the event handler bothers checking the `Page.IsValid` property.</span></span> <span data-ttu-id="7181e-257">결국 않습니다 다시 게시 하지 않을 잘못 된 데이터 삽입 인터페이스에 제공 된 경우?</span><span class="sxs-lookup"><span data-stu-id="7181e-257">After all, won't the postback be suppressed if invalid data is provided in the inserting interface?</span></span> <span data-ttu-id="7181e-258">이 가정으로 JavaScript를 비활성화 되지 않은 사용자나 클라이언트 쪽 유효성 검사 논리를 우회 하는 단계를 수행 하는 올바릅니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-258">This assumption is correct as long as the user has not disabled JavaScript or has taken steps to circumvent the client-side validation logic.</span></span> <span data-ttu-id="7181e-259">즉, 하나에 의존 하지 않아야 엄격 하 게 클라이언트 쪽 유효성 검사 서버 쪽 유효성 검사를 데이터로 작업 하기 전에 항상 수행 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-259">In short, one should never rely strictly on client-side validation; a server-side check for validity should always be performed before working with the data.</span></span>


<span data-ttu-id="7181e-260">1 단계에서에서 만든 합니다 `ProductsDataSource` ObjectDataSource 되도록 해당 `Insert()` 메서드 매핑되는 `ProductsBLL` s 클래스 `AddProduct` 메서드.</span><span class="sxs-lookup"><span data-stu-id="7181e-260">In Step 1 we created the `ProductsDataSource` ObjectDataSource such that its `Insert()` method is mapped to the `ProductsBLL` class s `AddProduct` method.</span></span> <span data-ttu-id="7181e-261">에 새 레코드를 삽입 하는 `Products` 테이블 ObjectDataSource가 호출할 수 있습니다 단순히 `Insert()` 메서드:</span><span class="sxs-lookup"><span data-stu-id="7181e-261">To insert the new record into the `Products` table, we can simply invoke the ObjectDataSource s `Insert()` method:</span></span>


[!code-csharp[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample7.cs)]

<span data-ttu-id="7181e-262">이제는 `Insert()` 메서드가 호출 되었고, 전달할 매개 변수에 삽입 인터페이스에서 값을 복사 하려면 유지 된 모든 합니다 `ProductsBLL` s 클래스 `AddProduct` 메서드.</span><span class="sxs-lookup"><span data-stu-id="7181e-262">Now that the `Insert()` method has been invoked, all that remains is to copy the values from the inserting interface to the parameters passed to the `ProductsBLL` class s `AddProduct` method.</span></span> <span data-ttu-id="7181e-263">다시 살펴본 것 처럼 합니다 [삽입, 업데이트 및 삭제와 관련 된 이벤트 검사](../editing-inserting-and-deleting-data/examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) 자습서를 통해 ObjectDataSource가 작업을 수행할 수 있습니다 `Inserting` 이벤트.</span><span class="sxs-lookup"><span data-stu-id="7181e-263">As we saw back in the [Examining the Events Associated with Inserting, Updating, and Deleting](../editing-inserting-and-deleting-data/examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) tutorial, this can be accomplished through the ObjectDataSource s `Inserting` event.</span></span> <span data-ttu-id="7181e-264">에 `Inserting` 컨트롤을 프로그래밍 방식으로 참조 해야 하는 이벤트를 `Products` GridView가의 바닥글 행 및 해당 값을 할당 합니다 `e.InputParameters` 컬렉션.</span><span class="sxs-lookup"><span data-stu-id="7181e-264">In the `Inserting` event we need to programmatically reference the controls from the `Products` GridView s footer row and assign their values to the `e.InputParameters` collection.</span></span> <span data-ttu-id="7181e-265">종료 등의 값을 생략 한 경우는 `ReorderLevel` 값이 데이터베이스에 삽입 되도록 지정 해야 하는 텍스트 상자 빈 `NULL`합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-265">If the user omits a value such as leaving the `ReorderLevel` TextBox blank we need to specify that the value inserted into the database should be `NULL`.</span></span> <span data-ttu-id="7181e-266">이후 합니다 `AddProducts` 메서드에서 nullable 데이터베이스 필드에 대 한 nullable 형식, 단순히 nullable 형식을 사용 하 고 해당 값을 설정 `null` 사용자 입력은 생략 되는 경우에 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-266">Since the `AddProducts` method accepts nullable types for the nullable database fields, simply use a nullable type and set its value to `null` in the case where user input is omitted.</span></span>


[!code-csharp[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample8.cs)]

<span data-ttu-id="7181e-267">사용 하 여는 `Inserting` 완료 되는 이벤트 처리기에서 새 레코드에 추가할 수 있습니다는 `Products` GridView가의 바닥글 행을 통해 데이터베이스 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-267">With the `Inserting` event handler completed, new records can be added to the `Products` database table via the GridView s footer row.</span></span> <span data-ttu-id="7181e-268">계속 해 서 여러 새로운 제품을 추가 해 보세요.</span><span class="sxs-lookup"><span data-stu-id="7181e-268">Go ahead and try adding several new products.</span></span>

## <a name="enhancing-and-customizing-the-add-operation"></a><span data-ttu-id="7181e-269">개선 및 사용자 지정 된 작업 추가</span><span class="sxs-lookup"><span data-stu-id="7181e-269">Enhancing and Customizing the Add Operation</span></span>

<span data-ttu-id="7181e-270">현재 추가 단추를 클릭 하면 데이터베이스 테이블에 새 레코드를 추가 하지만 제공 하지 않습니다 모든 종류의 시각적 피드백 레코드를 추가 했습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-270">Currently, clicking the Add button adds a new record to the database table but does not provide any sort of visual feedback that the record has successfully been added.</span></span> <span data-ttu-id="7181e-271">이상적으로 레이블 웹 컨트롤 또는 클라이언트 쪽 경고 상자를는 해당 insert 성공적으로 완료 된 사용자를 게 알립니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-271">Ideally, a Label Web control or client-side alert box would inform the user that their insert has completed with success.</span></span> <span data-ttu-id="7181e-272">필자는 판독기에 대 한 연습으로 둡니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-272">I leave this as an exercise for the reader.</span></span>

<span data-ttu-id="7181e-273">이 자습서에 사용 되는 GridView 정렬 순서로 나열 된 제품에 적용 되지 않습니다도 최종 사용자가 데이터를 정렬 될 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-273">The GridView used in this tutorial does not apply any sort order to the listed products, nor does it allow the end user to sort the data.</span></span> <span data-ttu-id="7181e-274">따라서 레코드는 해당 기본 키 필드에서 데이터베이스에 있는 것 처럼 정렬 됩니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-274">Consequently, the records are ordered as they are in the database by their primary key field.</span></span> <span data-ttu-id="7181e-275">각 새 레코드에는 `ProductID` 마지막 항목 눈금의 끝에 추가 되는 새 제품 추가 될 때마다 보다 큰 값입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-275">Since each new record has a `ProductID` value greater than the last one, every time a new product is added it is tacked on to the end of the grid.</span></span> <span data-ttu-id="7181e-276">따라서 다음 GridView의 마지막 페이지에 새 레코드를 추가한 후 해당 사용자를 자동으로 전송 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-276">Therefore, you may want to automatically send the user to the last page of the GridView after adding a new record.</span></span> <span data-ttu-id="7181e-277">이 호출 후 다음 코드 줄을 추가 하 여 수행할 수 있습니다 `ProductsDataSource.Insert()` 에 `RowCommand` 사용자를 보낼 마지막 페이지 GridView에 데이터를 바인딩한 후 해야 함을 나타내기 위해 이벤트 처리기:</span><span class="sxs-lookup"><span data-stu-id="7181e-277">This can be accomplished by adding the following line of code after the call to `ProductsDataSource.Insert()` in the `RowCommand` event handler to indicate that the user needs to be sent to the last page after binding the data to the GridView:</span></span>


[!code-csharp[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample9.cs)]

<span data-ttu-id="7181e-278">`SendUserToLastPage` 처음에 페이지 수준 부울 변수 값이 할당은 `false`합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-278">`SendUserToLastPage` is a page-level Boolean variable that is initially assigned a value of `false`.</span></span> <span data-ttu-id="7181e-279">GridView `DataBound` 이벤트 처리기 경우 `SendUserToLastPage` 이 false 인 경우는 `PageIndex` 마지막 페이지에 사용자를 보낼 속성이 업데이트 됩니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-279">In the GridView s `DataBound` event handler, if `SendUserToLastPage` is false, the `PageIndex` property is updated to send the user to the last page.</span></span>


[!code-csharp[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample10.cs)]

<span data-ttu-id="7181e-280">이유는 `PageIndex` 에서 속성을 설정할를 `DataBound` 이벤트 처리기 (아닌 사이트별로 `RowCommand` 이벤트 처리기) 이므로 때를 `RowCommand` 에서는 이벤트 처리기에 새 레코드를 추가 하는 ve를 제공 하는 발생는 `Products` 데이터베이스 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-280">The reason the `PageIndex` property is set in the `DataBound` event handler (as opposed to the `RowCommand` event handler) is because when the `RowCommand` event handler fires we ve yet to add the new record to the `Products` database table.</span></span> <span data-ttu-id="7181e-281">따라서 합니다 `RowCommand` 이벤트 처리기 마지막 페이지 인덱스 (`PageCount - 1`) 마지막 페이지 인덱스를 나타내는 *전에* 새 제품이 추가 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-281">Therefore, in the `RowCommand` event handler the last page index (`PageCount - 1`) represents the last page index *before* the new product has been added.</span></span> <span data-ttu-id="7181e-282">대부분 추가 되는 제품의 마지막 페이지 인덱스는 새 제품을 추가한 후</span><span class="sxs-lookup"><span data-stu-id="7181e-282">For the majority of products being added, the last page index is the same after adding the new product.</span></span> <span data-ttu-id="7181e-283">없지만 경우 추가 제품 새 마지막 페이지 인덱스를 올바르게 업데이트 되지 경우 합니다 `PageIndex` 에 `RowCommand` 이벤트 처리기 그런 다음 이동 마지막 페이지 (새 제품을 추가 하기 전에 마지막 페이지 인덱스)에서 두 번째 새 마지막 페이지 i 달리 ndex 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-283">But when the added product results in a new last page index, if we incorrectly update the `PageIndex` in the `RowCommand` event handler then we'll be taken to the second to last page (the last page index prior to adding the new product) as opposed to the new last page index.</span></span> <span data-ttu-id="7181e-284">이후를 `DataBound` 이벤트 처리기에 추가한 새 제품을 그리드로 설정 하 여 차츰 회복 데이터 후 발생 합니다 `PageIndex` 속성 있습니다 알게에서는 올바른 마지막 페이지 인덱스를 보시기.</span><span class="sxs-lookup"><span data-stu-id="7181e-284">Since the `DataBound` event handler fires after the new product has been added and the data rebound to the grid, by setting the `PageIndex` property there we know we re getting the correct last page index.</span></span>

<span data-ttu-id="7181e-285">마지막으로,이 자습서에 사용 되는 GridView는 새 제품을 추가 하는 것에 대 한 수집 해야 하는 필드 수가 매우 다양 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-285">Finally, the GridView used in this tutorial is quite wide due to the number of fields that must be collected for adding a new product.</span></span> <span data-ttu-id="7181e-286">이 너비 인해 DetailsView s 세로 레이아웃을 기본 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-286">Due to this width, a DetailsView s vertical layout might be preferred.</span></span> <span data-ttu-id="7181e-287">GridView가 더 적은 수의 입력을 수집 하 여 전체 너비를 줄어들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-287">The GridView s overall width could be reduced by collecting fewer inputs.</span></span> <span data-ttu-id="7181e-288">수집 해야 하는 t 하지 우리는 아마도 합니다 `UnitsOnOrder`, `UnitsInStock`, 및 `ReorderLevel` 새 제품을 추가 하는 경우 필드 GridView에서 이러한 필드를 제거할 수 있는 경우에 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-288">Perhaps we don t need to collect the `UnitsOnOrder`, `UnitsInStock`, and `ReorderLevel` fields when adding a new product, in which case these fields could be removed from the GridView.</span></span>

<span data-ttu-id="7181e-289">수집 된 데이터를 조정 하려면 두 가지 방법 중 하나를 사용 했습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-289">To adjust the data collected, we can use one of two approaches:</span></span>

- <span data-ttu-id="7181e-290">계속 사용 합니다 `AddProduct` 에 대 한 값을 필요로 하는 메서드를 `UnitsOnOrder`, `UnitsInStock`, 및 `ReorderLevel` 필드입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-290">Continue to use the `AddProduct` method that expects values for the `UnitsOnOrder`, `UnitsInStock`, and `ReorderLevel` fields.</span></span> <span data-ttu-id="7181e-291">에 `Inserting` 이벤트 처리기를 하드 코드 된 제공, 삽입 인터페이스에서 제거 된 이러한 입력에 사용할 기본값입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-291">In the `Inserting` event handler, provide hard-coded, default values to use for these inputs that have been removed from the inserting interface.</span></span>
- <span data-ttu-id="7181e-292">새 오버 로드 만들기를 `AddProduct` 에서 메서드를 `ProductsBLL` 클래스에 대 한 입력을 받아들이지 않는 합니다 `UnitsOnOrder`, `UnitsInStock`, 및 `ReorderLevel` 필드.</span><span class="sxs-lookup"><span data-stu-id="7181e-292">Create a new overload of the `AddProduct` method in the `ProductsBLL` class that does not accept inputs for the `UnitsOnOrder`, `UnitsInStock`, and `ReorderLevel` fields.</span></span> <span data-ttu-id="7181e-293">그런 다음 ASP.NET 페이지에서이 새 오버 로드를 사용 하는 ObjectDataSource를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-293">Then, in the ASP.NET page, configure the ObjectDataSource to use this new overload.</span></span>

<span data-ttu-id="7181e-294">두 옵션 중 하나 에서도 동일 하 게 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-294">Either option will work equally as well.</span></span> <span data-ttu-id="7181e-295">이전 자습서에서는 사용 후자 옵션을 만들기에 대 한 여러 오버 로드 된 `ProductsBLL` s 클래스 `UpdateProduct` 메서드.</span><span class="sxs-lookup"><span data-stu-id="7181e-295">In past tutorials we used the latter option, creating multiple overloads for the `ProductsBLL` class s `UpdateProduct` method.</span></span>

## <a name="summary"></a><span data-ttu-id="7181e-296">요약</span><span class="sxs-lookup"><span data-stu-id="7181e-296">Summary</span></span>

<span data-ttu-id="7181e-297">GridView FormView 및 DetailsView 삽입 기본 제공 기능 부족 하지만 약간의 노력 삽입 인터페이스 바닥글 행에 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-297">The GridView lacks the built-in inserting capabilities found in the DetailsView and FormView, but with a bit of effort an inserting interface can be added to the footer row.</span></span> <span data-ttu-id="7181e-298">단순히 GridView의 바닥글 행을 표시 하려면 해당 `ShowFooter` 속성을 `true`입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-298">To display the footer row in a GridView simply set its `ShowFooter` property to `true`.</span></span> <span data-ttu-id="7181e-299">바닥글 행 내용을 사용자 지정할 수 있습니다 각 필드에 대 한 필드를 templatefield로 변환 하 여 및 삽입을 추가 하는 인터페이스를 `FooterTemplate`입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-299">The footer row content can be customized for each field by converting the field to a TemplateField and adding the inserting interface to the `FooterTemplate`.</span></span> <span data-ttu-id="7181e-300">이 자습서에서 보았듯이 `FooterTemplate` Button, Textbox, Dropdownlist, 확인란, 데이터 기반 웹 컨트롤 (예: Dropdownlist)를 채우기 위한 데이터 소스 컨트롤 및 유효성 검사 컨트롤을 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-300">As we saw in this tutorial, the `FooterTemplate` can contain Buttons, TextBoxes, DropDownLists, CheckBoxes, data source controls for populating data-driven Web controls (such as DropDownLists), and validation controls.</span></span> <span data-ttu-id="7181e-301">사용자가의 입력을 수집 하기 위한 컨트롤을 함께 추가 단추, LinkButton, imagebutton이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-301">Along with controls for collecting the user s input, an Add Button, LinkButton, or ImageButton is needed.</span></span>

<span data-ttu-id="7181e-302">추가 단추를 클릭할 때, ObjectDataSource의 `Insert()` 메서드 삽입 워크플로를 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-302">When the Add button is clicked, the ObjectDataSource s `Insert()` method is invoked to start the inserting workflow.</span></span> <span data-ttu-id="7181e-303">ObjectDataSource 구성된 삽입 메서드를 호출 하는 (합니다 `ProductsBLL` s 클래스 `AddProduct` 메서드를이 자습서).</span><span class="sxs-lookup"><span data-stu-id="7181e-303">The ObjectDataSource will then call the configured insert method (the `ProductsBLL` class s `AddProduct` method, in this tutorial).</span></span> <span data-ttu-id="7181e-304">ObjectDataSource s에 대 한 인터페이스를 삽입 하는 GridView s에서 값을 복사 해야 `InsertParameters` insert 메서드를 호출 하기 전에 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-304">We must copy the values from the GridView s inserting interface to the ObjectDataSource s `InsertParameters` collection prior to the insert method being invoked.</span></span> <span data-ttu-id="7181e-305">ObjectDataSource에서 삽입 인터페이스 웹 컨트롤을 프로그래밍 방식으로 참조 하 여이 작업을 수행할 수 있습니다 `Inserting` 이벤트 처리기입니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-305">This can be accomplished by programmatically referencing the inserting interface Web controls in the ObjectDataSource s `Inserting` event handler.</span></span>

<span data-ttu-id="7181e-306">이 자습서는 GridView의 모양을 향상에 대 한 기술에는 확인을 완료 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-306">This tutorial completes our look at techniques for enhancing the GridView s appearance.</span></span> <span data-ttu-id="7181e-307">다음 일련의 자습서에서는 Pdf, Word 문서, 이미지 등 이진 데이터로 작업 하는 방법 및 데이터 웹 컨트롤을 검사 합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-307">The next set of tutorials will examine how to work with binary data such as images, PDFs, Word documents, and so on and the data Web controls.</span></span>

<span data-ttu-id="7181e-308">즐거운 프로그래밍!</span><span class="sxs-lookup"><span data-stu-id="7181e-308">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="7181e-309">저자 소개</span><span class="sxs-lookup"><span data-stu-id="7181e-309">About the Author</span></span>

<span data-ttu-id="7181e-310">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), 7 ASP/ASP.NET 서적의 저자 이자 설립자입니다 [4GuysFromRolla.com](http://www.4guysfromrolla.com), 1998 Microsoft 웹 기술을 사용 하 여 왔습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-310">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="7181e-311">Scott는 독립 컨설턴트, 강사, 그리고 기록기로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-311">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="7181e-312">최근 저서는 [ *Sams 설명 직접 ASP.NET 2.0 24 시간 동안의*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-312">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="7181e-313">그에 도달할 수 있습니다 [ mitchell@4GuysFromRolla.com합니다.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="7181e-313">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="7181e-314">찾을 수 있는 저자의 블로그를 통해 또는 [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET)합니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-314">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="7181e-315">특별히 감사</span><span class="sxs-lookup"><span data-stu-id="7181e-315">Special Thanks To</span></span>

<span data-ttu-id="7181e-316">이 자습서 시리즈는 많은 유용한 검토자가 검토 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-316">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="7181e-317">이 자습서에 대 한 선행 검토자 박 광 준 Leigh 했습니다.</span><span class="sxs-lookup"><span data-stu-id="7181e-317">Lead reviewer for this tutorial was Bernadette Leigh.</span></span> <span data-ttu-id="7181e-318">내 향후 MSDN 문서를 검토에 관심이 있으십니까?</span><span class="sxs-lookup"><span data-stu-id="7181e-318">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="7181e-319">그렇다면 삭제 나에서 선 [ mitchell@4GuysFromRolla.com합니다.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="7181e-319">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="7181e-320">[이전](adding-a-gridview-column-of-checkboxes-cs.md)
> [다음](adding-a-gridview-column-of-radio-buttons-vb.md)</span><span class="sxs-lookup"><span data-stu-id="7181e-320">[Previous](adding-a-gridview-column-of-checkboxes-cs.md)
[Next](adding-a-gridview-column-of-radio-buttons-vb.md)</span></span>
