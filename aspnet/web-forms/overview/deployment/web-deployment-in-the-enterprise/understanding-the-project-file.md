---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-project-file
title: 프로젝트 파일 이해 | Microsoft Docs
author: jrjlee
description: MSBuild (Microsoft Build Engine) 프로젝트 파일은 빌드 및 배포 프로세스의 핵심입니다. 이 항목에서는 MSBuild에 대 한 개념적인 개요부터 시작 합니다.
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 07978d9d-341c-4524-bcba-62976f390f77
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-project-file
msc.type: authoredcontent
ms.openlocfilehash: 419fe51aaf65bddcc2c50380f099f842a8d9439c
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78508055"
---
# <a name="understanding-the-project-file"></a><span data-ttu-id="c532a-104">프로젝트 파일 이해</span><span class="sxs-lookup"><span data-stu-id="c532a-104">Understanding the project file</span></span>

<span data-ttu-id="c532a-105">[Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="c532a-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="c532a-106">PDF 다운로드</span><span class="sxs-lookup"><span data-stu-id="c532a-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="c532a-107">MSBuild (Microsoft Build Engine) 프로젝트 파일은 빌드 및 배포 프로세스의 핵심입니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-107">Microsoft Build Engine (MSBuild) project files lie at the heart of the build and deployment process.</span></span> <span data-ttu-id="c532a-108">이 항목에서는 MSBuild 및 프로젝트 파일에 대 한 개념적인 개요부터 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-108">This topic starts with a conceptual overview of MSBuild and the project file.</span></span> <span data-ttu-id="c532a-109">프로젝트 파일을 사용할 때 제공 되는 주요 구성 요소에 대해 설명 하 고, 프로젝트 파일을 사용 하 여 실제 응용 프로그램을 배포 하는 방법의 예제를 통해 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-109">It describes the key components you'll come across when you work with project files, and it works through an example of how you can use project files to deploy real-world applications.</span></span>
> 
> <span data-ttu-id="c532a-110">학습할 내용:</span><span class="sxs-lookup"><span data-stu-id="c532a-110">What you'll learn:</span></span>
> 
> - <span data-ttu-id="c532a-111">MSBuild에서 MSBuild 프로젝트 파일을 사용 하 여 프로젝트를 빌드하는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-111">How MSBuild uses MSBuild project files to build projects.</span></span>
> - <span data-ttu-id="c532a-112">MSBuild는 인터넷 정보 서비스 (IIS) 웹 배포 도구 (웹 배포)와 같은 배포 기술과 통합 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-112">How MSBuild integrates with deployment technologies, like the Internet Information Services (IIS) Web Deployment Tool (Web Deploy).</span></span>
> - <span data-ttu-id="c532a-113">프로젝트 파일의 주요 구성 요소를 이해 하는 방법</span><span class="sxs-lookup"><span data-stu-id="c532a-113">How to understand the key components of a project file.</span></span>
> - <span data-ttu-id="c532a-114">프로젝트 파일을 사용 하 여 복잡 한 응용 프로그램을 빌드하고 배포 하는 방법을 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-114">How you can use project files to build and deploy complex applications.</span></span>

## <a name="msbuild-and-the-project-file"></a><span data-ttu-id="c532a-115">MSBuild 및 프로젝트 파일</span><span class="sxs-lookup"><span data-stu-id="c532a-115">MSBuild and the Project File</span></span>

<span data-ttu-id="c532a-116">Visual Studio에서 솔루션을 만들고 빌드할 때 Visual Studio는 MSBuild를 사용 하 여 솔루션의 각 프로젝트를 빌드합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-116">When you create and build solutions in Visual Studio, Visual Studio uses MSBuild to build each project in your solution.</span></span> <span data-ttu-id="c532a-117">모든 Visual Studio 프로젝트에는 프로젝트 형식&#x2014;(예: C# 프로젝트 (.csproj), Visual Basic.NET 프로젝트 (.vbproj) 또는 데이터베이스 프로젝트 (.dbproj))을 반영 하는 파일 확장명을 포함 하는 MSBuild 프로젝트 파일이 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-117">Every Visual Studio project includes an MSBuild project file, with a file extension that reflects the type of project&#x2014;for example, a C# project (.csproj), a Visual Basic.NET project (.vbproj), or a database project (.dbproj).</span></span> <span data-ttu-id="c532a-118">프로젝트를 빌드하기 위해 MSBuild는 프로젝트와 연결 된 프로젝트 파일을 처리 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-118">In order to build a project, MSBuild must process the project file associated with the project.</span></span> <span data-ttu-id="c532a-119">프로젝트 파일은 포함할 내용, 플랫폼 요구 사항, 버전 관리 정보, 웹 서버 또는 데이터베이스 서버 설정, 프로젝트를 빌드하기 위해 MSBuild에 필요한 모든 정보 및 지침을 포함 하는 XML 문서입니다. 수행 해야 하는 작업입니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-119">The project file is an XML document that contains all the information and instructions that MSBuild needs in order to build your project, like the content to include, the platform requirements, versioning information, web server or database server settings, and the tasks that must be performed.</span></span>

<span data-ttu-id="c532a-120">MSBuild 프로젝트 파일은 [MSBUILD XML 스키마](/visualstudio/msbuild/msbuild-project-file-schema-reference)를 기반으로 하며, 결과적으로 빌드 프로세스가 완전히 열리고 투명 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-120">MSBuild project files are based on the [MSBuild XML schema](/visualstudio/msbuild/msbuild-project-file-schema-reference), and as a result the build process is entirely open and transparent.</span></span> <span data-ttu-id="c532a-121">또한 msbuild 엔진&#x2014;을 사용 하기 위해 Visual Studio를 설치할 필요는 없습니다. msbuild.exe 실행 파일은 .NET Framework의 일부 이며 명령 프롬프트에서 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-121">In addition, you don't need to install Visual Studio in order to use the MSBuild engine&#x2014;the MSBuild.exe executable is part of the .NET Framework, and you can run it from a command prompt.</span></span> <span data-ttu-id="c532a-122">개발자는 MSBuild XML 스키마를 사용 하 여 MSBuild 프로젝트 파일을 직접 만들어 프로젝트를 빌드하고 배포 하는 방법을 정교 하 고 세분화 된 방식으로 제어할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-122">As a developer, you can craft your own MSBuild project files, using the MSBuild XML schema, to impose sophisticated and fine-grained control over how your projects are built and deployed.</span></span> <span data-ttu-id="c532a-123">이러한 사용자 지정 프로젝트 파일은 Visual Studio에서 자동으로 생성 하는 프로젝트 파일과 정확히 동일한 방식으로 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-123">These custom project files work in exactly the same way as the project files that Visual Studio generates automatically.</span></span>

> [!NOTE]
> <span data-ttu-id="c532a-124">Team Foundation Server (TFS)의 팀 빌드 서비스에서 MSBuild 프로젝트 파일을 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-124">You can also use MSBuild project files with the Team Build service in Team Foundation Server (TFS).</span></span> <span data-ttu-id="c532a-125">예를 들어 CI (지속적인 통합) 시나리오에서 프로젝트 파일을 사용 하 여 새 코드를 체크 인할 때 테스트 환경에 대 한 배포를 자동화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-125">For example, you can use project files in continuous integration (CI) scenarios to automate deployment to a test environment when new code is checked in.</span></span> <span data-ttu-id="c532a-126">자세한 내용은 [자동화 된 웹 배포에 대 한 Team Foundation Server 구성](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="c532a-126">For more information, see [Configuring Team Foundation Server for Automated Web Deployment](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md).</span></span>

### <a name="project-file-naming-conventions"></a><span data-ttu-id="c532a-127">프로젝트 파일 명명 규칙</span><span class="sxs-lookup"><span data-stu-id="c532a-127">Project File Naming Conventions</span></span>

<span data-ttu-id="c532a-128">프로젝트 파일을 직접 만들 때 원하는 파일 확장명을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-128">When you create your own project files, you can use any file extension you like.</span></span> <span data-ttu-id="c532a-129">그러나 솔루션을 다른 사용자가 쉽게 이해할 수 있도록 하려면 다음과 같은 일반적인 규칙을 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-129">However, to make your solutions easier for others to understand, you should use these common conventions:</span></span>

- <span data-ttu-id="c532a-130">프로젝트를 빌드하는 프로젝트 파일을 만들 때 proj 확장명을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-130">Use the .proj extension when you create a project file that builds projects.</span></span>
- <span data-ttu-id="c532a-131">다른 프로젝트 파일로 가져올 재사용 가능한 프로젝트 파일을 만들 때 .targets 확장명을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-131">Use the .targets extension when you create a reusable project file to import into other project files.</span></span> <span data-ttu-id="c532a-132">확장명이 .targets 인 파일은 일반적으로 모든 항목을 빌드하지는 않지만, proj 파일에 가져올 수 있는 명령만 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-132">Files with a .targets extension typically don't build anything themselves, they simply contain instructions that you can import into your .proj files.</span></span>

### <a name="integration-with-deployment-technologies"></a><span data-ttu-id="c532a-133">배포 기술과 통합</span><span class="sxs-lookup"><span data-stu-id="c532a-133">Integration with Deployment Technologies</span></span>

<span data-ttu-id="c532a-134">ASP.NET 웹 응용 프로그램 및 ASP.NET MVC 웹 응용 프로그램과 같이 Visual Studio 2010에서 웹 응용 프로그램 프로젝트를 사용 하 여 작업 하는 경우 이러한 프로젝트에는 웹 응용 프로그램을 패키지 하 고 대상 환경에 배포 하는 기능이 기본적으로 포함 되어 있다는 것을 알 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-134">If you've worked with web application projects in Visual Studio 2010, like ASP.NET web applications and ASP.NET MVC web applications, you'll know that these projects include built-in support for packaging and deploying the web application to a target environment.</span></span> <span data-ttu-id="c532a-135">이러한 프로젝트의 **속성** 페이지에는 응용 프로그램의 구성 요소를 패키지 하 고 배포 하는 방법을 구성 하는 데 사용할 수 있는 **웹 패키지/게시** 및 **SQL 패키지/게시** 탭이 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-135">The **Properties** pages for these projects include **Package/Publish Web** and **Package/Publish SQL** tabs that you can use to configure how the components of your application are packaged and deployed.</span></span> <span data-ttu-id="c532a-136">그러면 **웹 패키지 및 게시** 탭이 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-136">This shows the **Package/Publish Web** tab:</span></span>

![](understanding-the-project-file/_static/image1.png)

<span data-ttu-id="c532a-137">이러한 기능을 사용 하는 기본 기술은 웹 게시 파이프라인 (WPP) 이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-137">The underlying technology behind these capabilities is known as the Web Publishing Pipeline (WPP).</span></span> <span data-ttu-id="c532a-138">웹 응용 프로그램에 대 한 전체 빌드, 패키지 및 배포 프로세스를 제공 하기 위해 웹 응용 프로그램은 기본적으로 MSBuild 및 [웹 배포](https://go.microsoft.com/?linkid=9805122) 함께 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-138">The WPP essentially brings MSBuild and [Web Deploy](https://go.microsoft.com/?linkid=9805122) together to provide a complete build, package, and deployment process for your web applications.</span></span>

<span data-ttu-id="c532a-139">좋은 소식은 웹 프로젝트용 사용자 지정 프로젝트 파일을 만들 때 WPP에서 제공 하는 통합 요소를 활용할 수 있다는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-139">The good news is that you can take advantage of the integration points that the WPP provides when you create custom project files for web projects.</span></span> <span data-ttu-id="c532a-140">프로젝트 파일에 배포 지침을 포함 하 여 프로젝트를 빌드하고, 웹 배포 패키지를 만들고, 단일 프로젝트 파일을 통해 원격 서버에 이러한 패키지를 설치 하 고, MSBuild에 대 한 단일 호출을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-140">You can include deployment instructions in your project file, which allows you to build your projects, create web deployment packages, and install these packages on remote servers through a single project file and a single call to MSBuild.</span></span> <span data-ttu-id="c532a-141">빌드 프로세스의 일부로 다른 실행 파일을 호출할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-141">You can also call any other executables as part of your build process.</span></span> <span data-ttu-id="c532a-142">예를 들어, VSDBCMD 명령줄 도구를 실행 하 여 스키마 파일에서 데이터베이스를 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-142">For example, you can run the VSDBCMD.exe command-line tool to deploy a database from a schema file.</span></span> <span data-ttu-id="c532a-143">이 항목에서는 이러한 기능을 활용 하 여 엔터프라이즈 배포 시나리오의 요구 사항을 충족 하는 방법을 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-143">Over the course of this topic, you'll see how you can take advantage of these capabilities to meet the requirements of your enterprise deployment scenarios.</span></span>

> [!NOTE]
> <span data-ttu-id="c532a-144">웹 응용 프로그램 배포 프로세스의 작동 방식에 대 한 자세한 내용은 [ASP.NET 웹 응용 프로그램 프로젝트 배포 개요](https://msdn.microsoft.com/library/dd394698.aspx)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="c532a-144">For more information on how the web application deployment process works, see [ASP.NET Web Application Project Deployment Overview](https://msdn.microsoft.com/library/dd394698.aspx).</span></span>

## <a name="the-anatomy-of-a-project-file"></a><span data-ttu-id="c532a-145">프로젝트 파일의 분석</span><span class="sxs-lookup"><span data-stu-id="c532a-145">The Anatomy of a Project File</span></span>

<span data-ttu-id="c532a-146">빌드 프로세스를 좀 더 자세히 살펴보기 전에 MSBuild 프로젝트 파일의 기본 구조를 이해 하는 데 몇 분 정도 걸릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-146">Before you look at the build process in more detail, it's worth taking a few moments to familiarize yourself with the basic structure of an MSBuild project file.</span></span> <span data-ttu-id="c532a-147">이 섹션에서는 프로젝트 파일을 검토, 편집 또는 만들 때 발생 하는 보다 일반적인 요소에 대 한 개요를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-147">This section provides an overview of the more common elements that you'll encounter when you review, edit, or create a project file.</span></span> <span data-ttu-id="c532a-148">특히 다음에 대해 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-148">In particular, you'll learn:</span></span>

- <span data-ttu-id="c532a-149">*속성* 을 사용 하 여 빌드 프로세스에 대 한 변수를 관리 하는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-149">How to use *properties* to manage variables for the build process.</span></span>
- <span data-ttu-id="c532a-150">*항목* 을 사용 하 여 코드 파일과 같은 빌드 프로세스에 대 한 입력을 식별 하는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-150">How to use *items* to identify the inputs to the build process, like code files.</span></span>
- <span data-ttu-id="c532a-151">프로젝트 파일의 다른 곳에 정의 된 *속성* 및 *항목* 을 사용 하 여 MSBuild에 실행 명령을 제공 하기 위해 *대상과* *작업* 을 사용 하는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-151">How to use *targets* and *tasks* to provide execution instructions to MSBuild, using *properties* and *items* defined elsewhere in the project file.</span></span>

<span data-ttu-id="c532a-152">MSBuild 프로젝트 파일의 키 요소 간 관계를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-152">This shows the relationship between the key elements in an MSBuild project file:</span></span>

![](understanding-the-project-file/_static/image2.png)

### <a name="the-project-element"></a><span data-ttu-id="c532a-153">Project 요소</span><span class="sxs-lookup"><span data-stu-id="c532a-153">The Project Element</span></span>

<span data-ttu-id="c532a-154">[Project](https://msdn.microsoft.com/library/bcxfsh87.aspx) 요소는 모든 프로젝트 파일의 루트 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-154">The [Project](https://msdn.microsoft.com/library/bcxfsh87.aspx) element is the root element of every project file.</span></span> <span data-ttu-id="c532a-155">프로젝트 파일에 대 한 XML 스키마를 식별 하는 것 외에도 **프로젝트** 요소에는 빌드 프로세스에 대 한 진입점을 지정 하는 특성이 포함 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-155">In addition to identifying the XML schema for the project file, the **Project** element can include attributes to specify the entry points for the build process.</span></span> <span data-ttu-id="c532a-156">예를 들어 [Contact Manager 샘플 솔루션](the-contact-manager-solution.md)에서, *Publish. Proj* 파일은 **fullpublish**라는 대상을 호출 하 여 빌드를 시작 하도록 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-156">For example, in the [Contact Manager sample solution](the-contact-manager-solution.md), the *Publish.proj* file specifies that the build should start by calling the target named **FullPublish**.</span></span>

[!code-xml[Main](understanding-the-project-file/samples/sample1.xml)]

### <a name="properties-and-conditions"></a><span data-ttu-id="c532a-157">속성 및 조건</span><span class="sxs-lookup"><span data-stu-id="c532a-157">Properties and Conditions</span></span>

<span data-ttu-id="c532a-158">프로젝트 파일은 프로젝트를 성공적으로 빌드하고 배포 하기 위해 일반적으로 다양 한 정보를 제공 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-158">A project file typically needs to provide lots of different pieces of information in order to successfully build and deploy your projects.</span></span> <span data-ttu-id="c532a-159">이러한 정보에는 서버 이름, 연결 문자열, 자격 증명, 빌드 구성, 원본 및 대상 파일 경로, 사용자 지정을 지원 하기 위해 포함 하려는 기타 정보가 포함 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-159">These pieces of information could include server names, connection strings, credentials, build configurations, source and destination file paths, and any other information you want to include to support customization.</span></span> <span data-ttu-id="c532a-160">프로젝트 파일에서 속성은 [PropertyGroup](https://msdn.microsoft.com/library/t4w159bs.aspx) 요소 내에서 정의 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-160">In a project file, properties must be defined within a [PropertyGroup](https://msdn.microsoft.com/library/t4w159bs.aspx) element.</span></span> <span data-ttu-id="c532a-161">MSBuild 속성은 키-값 쌍으로 구성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-161">MSBuild properties consist of key-value pairs.</span></span> <span data-ttu-id="c532a-162">**PropertyGroup** 요소 내에서 요소 이름은 속성 키를 정의 하 고 요소 내용은 속성 값을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-162">Within the **PropertyGroup** element, the element name defines the property key and the content of the element defines the property value.</span></span> <span data-ttu-id="c532a-163">예를 들어 **ServerName** 및 **ConnectionString** 이라는 속성을 정의 하 여 정적 서버 이름과 연결 문자열을 저장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-163">For example, you could define properties named **ServerName** and **ConnectionString** to store a static server name and connection string.</span></span>

[!code-xml[Main](understanding-the-project-file/samples/sample2.xml)]

<span data-ttu-id="c532a-164">속성 값을 검색 하려면 *$ (PropertyName)* 형식을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-164">To retrieve a property value, use the format *$(PropertyName)*.</span></span> <span data-ttu-id="c532a-165">예를 들어 **ServerName** 속성의 값을 검색 하려면 다음을 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-165">For example, to retrieve the value of the **ServerName** property, you would type:</span></span>

[!code-powershell[Main](understanding-the-project-file/samples/sample3.ps1)]

> [!NOTE]
> <span data-ttu-id="c532a-166">이 항목의 뒷부분에서 속성 값을 사용 하는 방법 및 시기에 대 한 예제가 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-166">You'll see examples of how and when to use property values later in this topic.</span></span>

<span data-ttu-id="c532a-167">프로젝트 파일에 정적 속성으로 정보를 포함 하는 것은 빌드 프로세스를 관리 하는 데 적합 한 방식이 아닐 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-167">Embedding information as static properties in a project file is not always the ideal approach to managing the build process.</span></span> <span data-ttu-id="c532a-168">많은 시나리오에서 다른 원본의 정보를 얻거나 사용자가 명령 프롬프트에서 정보를 제공할 수 있도록 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-168">In a lot of scenarios, you'll want to obtain the information from other sources or empower the user to provide the information from the command prompt.</span></span> <span data-ttu-id="c532a-169">MSBuild를 사용 하 여 모든 속성 값을 명령줄 매개 변수로 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-169">MSBuild allows you to specify any property value as a command-line parameter.</span></span> <span data-ttu-id="c532a-170">예를 들어 사용자는 명령줄에서 Msbuild.exe를 실행할 때 **ServerName** 에 대 한 값을 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-170">For example, the user could provide a value for **ServerName** when he or she runs MSBuild.exe from the command line.</span></span>

[!code-console[Main](understanding-the-project-file/samples/sample4.cmd)]

> [!NOTE]
> <span data-ttu-id="c532a-171">Msbuild.exe와 함께 사용할 수 있는 인수 및 스위치에 대 한 자세한 내용은 [Msbuild 명령줄 참조](https://msdn.microsoft.com/library/ms164311.aspx)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="c532a-171">For more information on the arguments and switches you can use with MSBuild.exe, see [MSBuild Command Line Reference](https://msdn.microsoft.com/library/ms164311.aspx).</span></span>

<span data-ttu-id="c532a-172">동일한 속성 구문을 사용 하 여 환경 변수 및 기본 제공 프로젝트 속성의 값을 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-172">You can use the same property syntax to obtain the values of environment variables and built-in project properties.</span></span> <span data-ttu-id="c532a-173">일반적으로 사용 되는 많은 속성이 사용자에 대해 정의 되며 관련 매개 변수 이름을 포함 하 여 프로젝트 파일에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-173">Lots of commonly used properties are defined for you, and you can use them in your project files by including the relevant parameter name.</span></span> <span data-ttu-id="c532a-174">예를&#x2014;들어 현재 프로젝트 플랫폼 (예: **x86** 또는 **AnyCpu**&#x2014;)을 검색 하려면 프로젝트 파일에 **$ (platform)** 속성 참조를 포함 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-174">For example, to retrieve the current project platform&#x2014;for example, **x86** or **AnyCpu**&#x2014;you can include the **$(Platform)** property reference in your project file.</span></span> <span data-ttu-id="c532a-175">자세한 내용은 [빌드 명령 및 속성에 대 한 매크로](https://msdn.microsoft.com/library/c02as0cs.aspx), [공용 MSBuild 프로젝트 속성](https://msdn.microsoft.com/library/bb629394.aspx)및 예약 된 [속성](https://msdn.microsoft.com/library/ms164309.aspx)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="c532a-175">For more information, see [Macros for Build Commands and Properties](https://msdn.microsoft.com/library/c02as0cs.aspx), [Common MSBuild Project Properties](https://msdn.microsoft.com/library/bb629394.aspx), and [Reserved Properties](https://msdn.microsoft.com/library/ms164309.aspx).</span></span>

<span data-ttu-id="c532a-176">속성은 *조건과*함께 사용 되는 경우가 많습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-176">Properties are often used in conjunction with *conditions*.</span></span> <span data-ttu-id="c532a-177">대부분의 MSBuild 요소는 **Condition** 특성을 지원 합니다 .이 특성을 사용 하면 msbuild에서 요소를 평가 하는 기준이 될 조건을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-177">Most MSBuild elements support the **Condition** attribute, which lets you specify the criteria upon which MSBuild should evaluate the element.</span></span> <span data-ttu-id="c532a-178">예를 들어 다음 속성 정의를 살펴보세요.</span><span class="sxs-lookup"><span data-stu-id="c532a-178">For example, consider this property definition:</span></span>

[!code-xml[Main](understanding-the-project-file/samples/sample5.xml)]

<span data-ttu-id="c532a-179">MSBuild는이 속성 정의를 처리할 때 먼저 **$ (Outputroot)** 속성 값을 사용할 수 있는지 여부를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-179">When MSBuild processes this property definition, it first checks to see whether an **$(OutputRoot)** property value is available.</span></span> <span data-ttu-id="c532a-180">다른 단어에서 속성 값이&#x2014;비어 있는 경우 사용자가이 속성&#x2014;에 대 한 값을 제공 하지 않았습니다. 조건이 **true** 로 평가 되 고 속성 값이 \**로 설정 됩니다. \** . 사용자가이 속성에 대 한 값을 제공한 경우 조건이 **false** 로 평가 되 고 정적 속성 값이 사용 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-180">If the property value is blank&#x2014;in other words, the user hasn't provided a value for this property&#x2014;the condition evaluates to **true** and the property value is set to **..\Publish\Out**. If the user has provided a value for this property, the condition evaluates to **false** and the static property value is not used.</span></span>

<span data-ttu-id="c532a-181">조건을 지정할 수 있는 다양 한 방법에 대 한 자세한 내용은 [MSBuild 조건](https://msdn.microsoft.com/library/7szfhaft.aspx)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="c532a-181">For more information on the different ways in which you can specify conditions, see [MSBuild Conditions](https://msdn.microsoft.com/library/7szfhaft.aspx).</span></span>

### <a name="items-and-item-groups"></a><span data-ttu-id="c532a-182">항목 및 항목 그룹</span><span class="sxs-lookup"><span data-stu-id="c532a-182">Items and Item Groups</span></span>

<span data-ttu-id="c532a-183">프로젝트 파일의 중요 한 역할 중 하나는 빌드 프로세스에 대 한 입력을 정의 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-183">One of the important roles of the project file is to define the inputs to the build process.</span></span> <span data-ttu-id="c532a-184">일반적으로 이러한 입력은 빌드&#x2014;프로세스의 일부로 처리 하거나 복사 해야 하는 파일 코드 파일, 구성 파일, 명령 파일 및 기타 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-184">Typically, these inputs are files&#x2014;code files, configuration files, command files, and any other files that you need to process or copy as part of the build process.</span></span> <span data-ttu-id="c532a-185">MSBuild 프로젝트 스키마에서 이러한 입력은 [항목](https://msdn.microsoft.com/library/ms164283.aspx) 요소로 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-185">In the MSBuild project schema, these inputs are represented by [Item](https://msdn.microsoft.com/library/ms164283.aspx) elements.</span></span> <span data-ttu-id="c532a-186">프로젝트 파일에서 [ItemGroup](https://msdn.microsoft.com/library/646dk05y.aspx) 요소 내에 항목을 정의 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-186">In a project file, items must be defined within an [ItemGroup](https://msdn.microsoft.com/library/646dk05y.aspx) element.</span></span> <span data-ttu-id="c532a-187">**속성** 요소와 마찬가지로 **항목** 요소의 이름을 원하는 대로 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-187">Just like **Property** elements, you can name an **Item** element however you like.</span></span> <span data-ttu-id="c532a-188">그러나 **Include** 특성을 지정 하 여 항목이 나타내는 파일 또는 와일드 카드를 식별 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-188">However, you must specify an **Include** attribute to identify the file or wildcard that the item represents.</span></span>

[!code-xml[Main](understanding-the-project-file/samples/sample6.xml)]

<span data-ttu-id="c532a-189">동일한 이름을 가진 여러 **항목** 요소를 지정 하면 리소스의 명명 된 목록을 효과적으로 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-189">By specifying multiple **Item** elements with the same name, you're effectively creating a named list of resources.</span></span> <span data-ttu-id="c532a-190">이 작업을 수행 하는 좋은 방법은 Visual Studio에서 만드는 프로젝트 파일 중 하나를 살펴보는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-190">A good way to see this in action is to take a look inside one of the project files that Visual Studio creates.</span></span> <span data-ttu-id="c532a-191">예를 들어 샘플 솔루션의 *연락처 관리자. Mvc .csproj* 파일에는 여러 개의 동일한 이름의 **항목** 요소가 포함 된 많은 항목 그룹이 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-191">For example, the *ContactManager.Mvc.csproj* file in the sample solution includes a lot of item groups, each with several identically named **Item** elements.</span></span>

[!code-xml[Main](understanding-the-project-file/samples/sample7.xml)]

<span data-ttu-id="c532a-192">이러한 방식으로 프로젝트 파일은 성공적인 빌드를 위해 준비 해야 하는 어셈블리를 **참조** 목록에 포함 하는 것과&#x2014;같은 방식으로 처리 해야 하는 파일 목록을 생성 하도록 MSBuild에 지시 하 고, **컴파일** 목록에는 컴파일해야 하는 코드 파일이 포함 되며, **콘텐츠** 목록에는 변경 되지 않은 상태로 복사 해야 하는 리소스가 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-192">In this way, the project file is instructing MSBuild to construct lists of files that need to be processed in the same way&#x2014;the **Reference** list includes assemblies that must be in place for a successful build, the **Compile** list includes code files that must be compiled, and the **Content** list includes resources that must be copied unaltered.</span></span> <span data-ttu-id="c532a-193">이 항목의 뒷부분에 나오는 빌드 프로세스에서 이러한 항목을 참조 하 고 사용 하는 방법을 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-193">We'll look at how the build process references and uses these items later in this topic.</span></span>

<span data-ttu-id="c532a-194">항목 요소에는 [Itemmetadata](https://msdn.microsoft.com/library/ms164284.aspx) 자식 요소가 포함 될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-194">Item elements can also include [ItemMetadata](https://msdn.microsoft.com/library/ms164284.aspx) child elements.</span></span> <span data-ttu-id="c532a-195">이러한 값은 사용자 정의 키-값 쌍 이며 기본적으로 해당 항목과 관련 된 속성을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-195">These are user-defined key-value pairs and essentially represent properties that are specific to that item.</span></span> <span data-ttu-id="c532a-196">예를 들어 프로젝트 파일의 많은 **컴파일** 항목 요소는 **DependentUpon** 자식 요소를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-196">For example, a lot of the **Compile** item elements in the project file include **DependentUpon** child elements.</span></span>

[!code-xml[Main](understanding-the-project-file/samples/sample8.xml)]

> [!NOTE]
> <span data-ttu-id="c532a-197">사용자가 만든 항목 메타 데이터 외에도 모든 항목에는 만들 때 다양 한 공통 메타 데이터가 할당 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-197">In addition to user-created item metadata, all items are assigned various common metadata on creation.</span></span> <span data-ttu-id="c532a-198">자세한 내용은 [잘 알려진 항목 메타데이터](https://msdn.microsoft.com/library/ms164313.aspx)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="c532a-198">For more information, see [Well-known Item Metadata](https://msdn.microsoft.com/library/ms164313.aspx).</span></span>

<span data-ttu-id="c532a-199">루트 수준 **프로젝트** 요소 또는 특정 **대상** 요소 내에서 **ItemGroup** 요소를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-199">You can create **ItemGroup** elements within the root-level **Project** element or within specific **Target** elements.</span></span> <span data-ttu-id="c532a-200">**ItemGroup** 요소는 또한 프로젝트 구성 또는 플랫폼과 같은 조건에 따라 빌드 프로세스에 대 한 입력을 조정할 수 있는 **조건** 특성도 지원 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-200">**ItemGroup** elements also support **Condition** attributes, which lets you tailor the inputs to the build process according to conditions like the project configuration or platform.</span></span>

### <a name="targets-and-tasks"></a><span data-ttu-id="c532a-201">대상 및 작업</span><span class="sxs-lookup"><span data-stu-id="c532a-201">Targets and Tasks</span></span>

<span data-ttu-id="c532a-202">MSBuild 스키마에서 [task](https://msdn.microsoft.com/library/77f2hx1s.aspx) 요소는 개별 빌드 명령 (또는 작업)을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-202">In the MSBuild schema, a [Task](https://msdn.microsoft.com/library/77f2hx1s.aspx) element represents an individual build instruction (or task).</span></span> <span data-ttu-id="c532a-203">MSBuild에는 미리 정의 된 여러 작업이 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-203">MSBuild includes a multitude of predefined tasks.</span></span> <span data-ttu-id="c532a-204">다음은 그 예입니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-204">For example:</span></span>

- <span data-ttu-id="c532a-205">**복사** 작업은 파일을 새 위치에 복사 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-205">The **Copy** task copies files to a new location.</span></span>
- <span data-ttu-id="c532a-206">**Csc** 작업은 Visual C# 컴파일러를 호출 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-206">The **Csc** task invokes the Visual C# compiler.</span></span>
- <span data-ttu-id="c532a-207">**Vbc** 작업은 Visual Basic 컴파일러를 호출 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-207">The **Vbc** task invokes the Visual Basic compiler.</span></span>
- <span data-ttu-id="c532a-208">**Exec** 태스크가 지정 된 프로그램을 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-208">The **Exec** task runs a specified program.</span></span>
- <span data-ttu-id="c532a-209">**메시지** 태스크는로 거에 메시지를 씁니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-209">The **Message** task writes a message to a logger.</span></span>

> [!NOTE]
> <span data-ttu-id="c532a-210">즉시 사용할 수 있는 작업에 대 한 자세한 내용은 [MSBuild 작업 참조](https://msdn.microsoft.com/library/7z253716.aspx)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="c532a-210">For full details of the tasks that are available out of the box, see [MSBuild Task Reference](https://msdn.microsoft.com/library/7z253716.aspx).</span></span> <span data-ttu-id="c532a-211">사용자 지정 작업을 만드는 방법을 비롯 하 여 작업에 대 한 자세한 내용은 [MSBuild 작업](https://msdn.microsoft.com/library/ms171466.aspx)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="c532a-211">For more information on tasks, including how to create your own custom tasks, see [MSBuild Tasks](https://msdn.microsoft.com/library/ms171466.aspx).</span></span>

<span data-ttu-id="c532a-212">작업은 항상 [대상](https://msdn.microsoft.com/library/t50z2hka.aspx) 요소 내에 포함 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-212">Tasks must always be contained within [Target](https://msdn.microsoft.com/library/t50z2hka.aspx) elements.</span></span> <span data-ttu-id="c532a-213">**대상** 요소는 순차적으로 실행 되는 하나 이상의 작업 집합으로, 프로젝트 파일에는 여러 대상이 포함 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-213">A **Target** element is a set of one or more tasks that are executed sequentially, and a project file can contain multiple targets.</span></span> <span data-ttu-id="c532a-214">작업 또는 작업 집합을 실행 하려는 경우 해당 작업을 포함 하는 대상을 호출 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-214">When you want to run a task, or a set of tasks, you invoke the target that contains them.</span></span> <span data-ttu-id="c532a-215">예를 들어 메시지를 기록 하는 간단한 프로젝트 파일이 있다고 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-215">For example, suppose you have a simple project file that logs a message.</span></span>

[!code-xml[Main](understanding-the-project-file/samples/sample9.xml)]

<span data-ttu-id="c532a-216">**/T** 스위치를 사용 하 여 대상을 지정 하 여 명령줄에서 대상을 호출할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-216">You can invoke the target from the command line, by using the **/t** switch to specify the target.</span></span>

[!code-console[Main](understanding-the-project-file/samples/sample10.cmd)]

<span data-ttu-id="c532a-217">또는 **프로젝트** 요소에 **defaulttargets** 특성을 추가 하 여 호출 하려는 대상을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-217">Alternatively, you can add a **DefaultTargets** attribute to the **Project** element, to specify the targets that you want to invoke.</span></span>

[!code-xml[Main](understanding-the-project-file/samples/sample11.xml)]

<span data-ttu-id="c532a-218">이 경우 명령줄에서 대상을 지정할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-218">In this case, you don't need to specify the target from the command line.</span></span> <span data-ttu-id="c532a-219">프로젝트 파일을 간단히 지정할 수 있으며 MSBuild는 **Fullpublish** 대상을 대신 호출 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-219">You can simply specify the project file, and MSBuild will invoke the **FullPublish** target for you.</span></span>

[!code-console[Main](understanding-the-project-file/samples/sample12.cmd)]

<span data-ttu-id="c532a-220">대상과 태스크 모두 **조건** 특성을 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-220">Both targets and tasks can include **Condition** attributes.</span></span> <span data-ttu-id="c532a-221">따라서 특정 조건이 충족 되는 경우 전체 대상 또는 개별 작업을 생략 하도록 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-221">As such, you can choose to omit entire targets or individual tasks if certain conditions are met.</span></span>

<span data-ttu-id="c532a-222">일반적으로 유용한 작업 및 대상을 만들 때 프로젝트 파일의 다른 위치에 정의 된 속성 및 항목을 참조 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-222">Generally speaking, when you create useful tasks and targets, you'll need to refer to the properties and items that you've defined elsewhere in the project file:</span></span>

- <span data-ttu-id="c532a-223">속성 값을 사용 하려면 **$ (***propertyname***)** 을 입력 합니다. 여기서 *PropertyName* 은 **속성** 요소의 이름 또는 매개 변수 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-223">To use a property value, type **$(***PropertyName***)**, where *PropertyName* is the name of the **Property** element or the name of the parameter.</span></span>
- <span data-ttu-id="c532a-224">항목을 사용 하려면 **@ (***itemname***)** 을 입력 합니다. 여기서 *ItemName* 은 **item** 요소의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-224">To use an item, type **@(***ItemName***)**, where *ItemName* is the name of the **Item** element.</span></span>

> [!NOTE]
> <span data-ttu-id="c532a-225">동일한 이름으로 여러 항목을 만드는 경우 목록을 작성 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-225">Remember that if you create multiple items with the same name, you're building a list.</span></span> <span data-ttu-id="c532a-226">이와 대조적으로 동일한 이름을 사용 하 여 여러 속성을 만드는 경우 사용자가 제공 하는 마지막 속성 값은 동일한 이름의&#x2014;모든 이전 속성을 덮어씁니다. 속성에는 단일 값만 포함 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-226">In contrast, if you create multiple properties with the same name, the last property value you provide will overwrite any previous properties with the same name&#x2014;a property can only contain a single value.</span></span>

<span data-ttu-id="c532a-227">예를 들어 샘플 솔루션의 *게시 proj* 파일에서 **buildprojects** 대상을 살펴보세요.</span><span class="sxs-lookup"><span data-stu-id="c532a-227">For example, in the *Publish.proj* file in the sample solution, take a look at the **BuildProjects** target.</span></span>

[!code-xml[Main](understanding-the-project-file/samples/sample13.xml)]

<span data-ttu-id="c532a-228">이 샘플에서는 다음과 같은 주요 사항을 관찰할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-228">In this sample, you can observe these key points:</span></span>

- <span data-ttu-id="c532a-229">**BuildingInTeamBuild** 매개 변수를 지정 하 고 값이 **true**이면이 대상 내의 모든 작업이 실행 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-229">If the **BuildingInTeamBuild** parameter is specified and has a value of **true**, none of the tasks within this target will be executed.</span></span>
- <span data-ttu-id="c532a-230">대상은 [MSBuild](https://msdn.microsoft.com/library/z7f65y0d.aspx) 태스크의 단일 인스턴스를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-230">The target contains a single instance of the [MSBuild](https://msdn.microsoft.com/library/z7f65y0d.aspx) task.</span></span> <span data-ttu-id="c532a-231">이 작업을 통해 다른 MSBuild 프로젝트를 빌드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-231">This task lets you build other MSBuild projects.</span></span>
- <span data-ttu-id="c532a-232">**ProjectsToBuild** 항목이 작업에 전달 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-232">The **ProjectsToBuild** item is passed to the task.</span></span> <span data-ttu-id="c532a-233">이 항목은 항목 그룹 내의 **ProjectsToBuild** item 요소에 의해 정의 되는 프로젝트 또는 솔루션 파일 목록을 나타낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-233">This item could represent a list of project or solution files, all defined by **ProjectsToBuild** item elements within an item group.</span></span> <span data-ttu-id="c532a-234">이 경우 **ProjectsToBuild** 항목은 단일 솔루션 파일을 참조 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-234">In this case, the **ProjectsToBuild** item refers to a single solution file.</span></span>

    [!code-xml[Main](understanding-the-project-file/samples/sample14.xml)]
- <span data-ttu-id="c532a-235">**MSBuild** 작업에 전달 된 속성 값은 **Outputroot** 및 **Configuration**이라는 매개 변수를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-235">The property values passed to the **MSBuild** task include parameters named **OutputRoot** and **Configuration**.</span></span> <span data-ttu-id="c532a-236">이러한 값은 매개 변수 값이 제공 된 경우 매개 변수 값으로 설정 되 고, 그렇지 않은 경우에는 정적 속성 값으로 설정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-236">These are set to parameter values if they are provided, or static property values if they are not.</span></span>

    [!code-xml[Main](understanding-the-project-file/samples/sample15.xml)]

<span data-ttu-id="c532a-237">**MSBuild** 작업에서 **Build**라는 대상을 호출 하는 것도 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-237">You can also see that the **MSBuild** task invokes a target named **Build**.</span></span> <span data-ttu-id="c532a-238">Visual Studio 프로젝트 파일에서 널리 사용 되 고 있으며 **빌드**, **정리**, **다시 빌드**및 **게시**와 같은 사용자 지정 프로젝트 파일에서 사용할 수 있는 몇 가지 기본 제공 대상 중 하나입니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-238">This is one of several built-in targets that are widely used in Visual Studio project files and are available to you in your custom project files, like **Build**, **Clean**, **Rebuild**, and **Publish**.</span></span> <span data-ttu-id="c532a-239">대상 및 작업을 사용 하 여 빌드 프로세스를 제어 하는 방법과 특히이 항목의 뒷부분에 있는 **MSBuild** 작업에 대해 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-239">You'll learn more about using targets and tasks to control the build process, and about the **MSBuild** task in particular, later in this topic.</span></span>

> [!NOTE]
> <span data-ttu-id="c532a-240">대상에 대 한 자세한 내용은 [MSBuild 대상](https://msdn.microsoft.com/library/ms171462.aspx)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="c532a-240">For more information on targets, see [MSBuild Targets](https://msdn.microsoft.com/library/ms171462.aspx).</span></span>

## <a name="splitting-project-files-to-support-multiple-environments"></a><span data-ttu-id="c532a-241">여러 환경을 지원 하도록 프로젝트 파일 분할</span><span class="sxs-lookup"><span data-stu-id="c532a-241">Splitting Project Files to Support Multiple Environments</span></span>

<span data-ttu-id="c532a-242">테스트 서버, 스테이징 플랫폼 및 프로덕션 환경과 같은 여러 환경에 솔루션을 배포할 수 있다고 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-242">Suppose you want to be able to deploy a solution to multiple environments, like test servers, staging platforms, and production environments.</span></span> <span data-ttu-id="c532a-243">이러한 환경&#x2014;에서는 서버 이름, 연결 문자열 등을 사용 하는 것이 아니라 자격 증명, 보안 설정 및 기타 많은 요인에 따라 구성이 크게 달라질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-243">The configuration may vary substantially between these environments&#x2014;not just in terms of server names, connection strings, and so on, but also potentially in terms of credentials, security settings, and lots of other factors.</span></span> <span data-ttu-id="c532a-244">정기적으로이 작업을 수행 해야 하는 경우 대상 환경을 전환할 때마다 프로젝트 파일에서 여러 속성을 편집 하는 것은 정말 편리 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-244">If you need to do this regularly, it's not really expedient to edit multiple properties in your project file every time you switch the target environment.</span></span> <span data-ttu-id="c532a-245">또한 빌드 프로세스에 제공 되는 다양 한 속성 값 목록을 필요로 하는 이상적인 솔루션은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-245">Nor is it an ideal solution to require an endless list of property values to be provided to the build process.</span></span>

<span data-ttu-id="c532a-246">다행히 대안이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-246">Fortunately there is an alternative.</span></span> <span data-ttu-id="c532a-247">MSBuild를 사용 하면 여러 프로젝트 파일에 빌드 구성을 분할할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-247">MSBuild lets you split your build configuration across multiple project files.</span></span> <span data-ttu-id="c532a-248">이 기능이 어떻게 작동 하는지 확인 하기 위해 샘플 솔루션에는 두 개의 사용자 지정 프로젝트 파일이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-248">To see how this works, in the sample solution, notice that there are two custom project files:</span></span>

- <span data-ttu-id="c532a-249">모든 환경에 공통적인 속성, 항목 및 대상이 포함 된 *proj를 게시 합니다*.</span><span class="sxs-lookup"><span data-stu-id="c532a-249">*Publish.proj*, which contains properties, items, and targets that are common to all environments.</span></span>
- <span data-ttu-id="c532a-250">*Env-Dev.* 개발자 환경에 특정 한 속성이 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-250">*Env-Dev.proj*, which contains properties that are specific to a developer environment.</span></span>

<span data-ttu-id="c532a-251">이제 *Publish. proj* 파일은 열기 **프로젝트** 태그 바로 아래에 [Import](https://msdn.microsoft.com/library/92x05xfs.aspx) 요소를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-251">Now notice that the *Publish.proj* file includes an [Import](https://msdn.microsoft.com/library/92x05xfs.aspx) element, immediately beneath the opening **Project** tag.</span></span>

[!code-xml[Main](understanding-the-project-file/samples/sample16.xml)]

<span data-ttu-id="c532a-252">**Import** 요소는 다른 msbuild 프로젝트 파일의 내용을 현재 msbuild 프로젝트 파일에 가져오는 데 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-252">The **Import** element is used to import the contents of another MSBuild project file into the current MSBuild project file.</span></span> <span data-ttu-id="c532a-253">이 경우 **TargetEnvPropsFile** 매개 변수는 가져올 프로젝트 파일의 파일 이름을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-253">In this case, the **TargetEnvPropsFile** parameter provides the filename of the project file you want to import.</span></span> <span data-ttu-id="c532a-254">MSBuild를 실행할 때이 매개 변수에 대 한 값을 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-254">You can provide a value for this parameter when you run MSBuild.</span></span>

[!code-console[Main](understanding-the-project-file/samples/sample17.cmd)]

<span data-ttu-id="c532a-255">이렇게 하면 두 파일의 내용이 단일 프로젝트 파일에 효과적으로 병합 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-255">This effectively merges the contents of the two files into a single project file.</span></span> <span data-ttu-id="c532a-256">이 방법을 사용 하 여 범용 빌드 구성과 환경 관련 속성을 포함 하는 여러 보조 프로젝트 파일을 포함 하는 하나의 프로젝트 파일을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-256">Using this approach, you can create one project file containing your universal build configuration and multiple supplementary project files containing environment-specific properties.</span></span> <span data-ttu-id="c532a-257">따라서 다른 매개 변수 값을 사용 하 여 명령을 실행 하기만 하면 솔루션을 다른 환경에 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-257">As a result, simply running a command with a different parameter value lets you deploy your solution to a different environment.</span></span>

![](understanding-the-project-file/_static/image3.png)

<span data-ttu-id="c532a-258">이러한 방식으로 프로젝트 파일을 분할 하는 것이 좋은 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-258">Splitting your project files in this way is a good practice to follow.</span></span> <span data-ttu-id="c532a-259">이를 통해 개발자는 단일 명령을 실행 하 여 여러 환경에 배포할 수 있으며, 여러 프로젝트 파일에서 범용 빌드 속성의 중복을 방지할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-259">It allows developers to deploy to multiple environments by running a single command, while avoiding the duplication of universal build properties across multiple project files.</span></span>

> [!NOTE]
> <span data-ttu-id="c532a-260">사용자의 서버 환경에 맞는 환경 관련 프로젝트 파일을 사용자 지정 하는 방법에 대 한 지침은 [대상 환경에 대 한 배포 속성 구성](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="c532a-260">For guidance on how to customize the environment-specific project files for your own server environments, see [Configuring Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="c532a-261">결론</span><span class="sxs-lookup"><span data-stu-id="c532a-261">Conclusion</span></span>

<span data-ttu-id="c532a-262">이 항목에서는 MSBuild 프로젝트 파일에 대 한 일반적인 소개를 제공 하 고 빌드 프로세스를 제어 하는 사용자 지정 프로젝트 파일을 만드는 방법을 설명 했습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-262">This topic provided a general introduction to MSBuild project files and explained how you can create your own custom project files to control the build process.</span></span> <span data-ttu-id="c532a-263">또한 프로젝트 파일을 여러 대상으로 쉽게 빌드하고 배포할 수 있도록 프로젝트 파일을 유니버설 빌드 지침 및 환경 관련 빌드 속성으로 분할 하는 개념을 소개 했습니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-263">It also introduced the concept of splitting project files into universal build instructions and environment-specific build properties, to make it easy to build and deploy projects to multiple destinations.</span></span>

<span data-ttu-id="c532a-264">다음 항목인 [빌드 프로세스](understanding-the-build-process.md)에 대 한 자세한 내용은 프로젝트 파일을 사용 하 여 빌드 및 배포를 제어 하는 방법에 대 한 자세한 정보를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="c532a-264">The next topic, [Understanding the Build Process](understanding-the-build-process.md), provides more insight into how you can use project files to control build and deployment by walking you through the deployment of a solution with a realistic level of complexity.</span></span>

## <a name="further-reading"></a><span data-ttu-id="c532a-265">추가 참고 자료</span><span class="sxs-lookup"><span data-stu-id="c532a-265">Further Reading</span></span>

<span data-ttu-id="c532a-266">프로젝트 파일 및 WPP에 대 한 자세한 소개는 Microsoft Build Engine 내부: Sayed Ibrahim Hashimi에서 [MSBuild 및 Team Foundation Build 사용](http://amzn.com/0735645248) 및 WILLIAM, ISBN: 978-0-7356-4524-0을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="c532a-266">For a more in-depth introduction to project files and the WPP, see [Inside the Microsoft Build Engine: Using MSBuild and Team Foundation Build](http://amzn.com/0735645248) by Sayed Ibrahim Hashimi and William Bartholomew, ISBN: 978-0-7356-4524-0.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="c532a-267">[이전](setting-up-the-contact-manager-solution.md)
> [다음](understanding-the-build-process.md)</span><span class="sxs-lookup"><span data-stu-id="c532a-267">[Previous](setting-up-the-contact-manager-solution.md)
[Next](understanding-the-build-process.md)</span></span>
