---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/configuring-parameters-for-web-package-deployment
title: 웹 패키지 배포에 대 한 매개 변수 구성 | Microsoft Docs
author: jrjlee
description: 이 항목에서는 인터넷 정보 서비스 (IIS) 웹 응용 프로그램 이름, 연결 문자열 및 서비스 끝점과 같은 매개 변수 값을 설정 하는 방법에 대해 설명,...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 37947d79-ab1e-4ba9-9017-52e7a2757414
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/configuring-parameters-for-web-package-deployment
msc.type: authoredcontent
ms.openlocfilehash: f04ace98d81a33053b10cab7e40dbd75a6c0992c
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78438401"
---
# <a name="configuring-parameters-for-web-package-deployment"></a><span data-ttu-id="8645d-103">웹 패키지 배포용 매개 변수 구성</span><span class="sxs-lookup"><span data-stu-id="8645d-103">Configuring Parameters for Web Package Deployment</span></span>

<span data-ttu-id="8645d-104">[Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="8645d-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="8645d-105">PDF 다운로드</span><span class="sxs-lookup"><span data-stu-id="8645d-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="8645d-106">이 항목에서는 원격 IIS 웹 서버에 웹 패키지를 배포할 때 인터넷 정보 서비스 (IIS) 웹 응용 프로그램 이름, 연결 문자열 및 서비스 끝점과 같은 매개 변수 값을 설정 하는 방법에 대해 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-106">This topic describes how to set parameter values, like Internet Information Services (IIS) web application names, connection strings, and service endpoints, when you deploy a web package to a remote IIS web server.</span></span>

<span data-ttu-id="8645d-107">웹 응용 프로그램 프로젝트를 빌드하면 빌드 및 패키징 프로세스에서 다음과 같은 세 가지 주요 파일을 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-107">When you build a web application project, the build and packaging process generates three key files:</span></span>

- <span data-ttu-id="8645d-108">*[프로젝트 이름] .zip* 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-108">A *[project name].zip* file.</span></span> <span data-ttu-id="8645d-109">웹 응용 프로그램 프로젝트에 대 한 웹 배포 패키지입니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-109">This is the web deployment package for your web application project.</span></span> <span data-ttu-id="8645d-110">이 패키지에는 원격 IIS 웹 서버에서 웹 응용 프로그램을 다시 만드는 데 필요한 모든 어셈블리, 파일, 데이터베이스 스크립트 및 리소스가 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-110">This package contains all the assemblies, files, database scripts, and resources required to recreate your web application on a remote IIS web server.</span></span>
- <span data-ttu-id="8645d-111">*[프로젝트 이름]. .cmd* 파일을 배포 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-111">A *[project name].deploy.cmd* file.</span></span> <span data-ttu-id="8645d-112">여기에는 원격 IIS 웹 서버에 웹 배포 패키지를 게시 하는 매개 변수가 있는 웹 배포 (Msdeploy.exe) 명령이 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-112">This contains a set of parameterized Web Deploy (MSDeploy.exe) commands that publish your web deployment package to a remote IIS web server.</span></span>
- <span data-ttu-id="8645d-113">*[프로젝트 이름]입니다. SetParameters .xml* 파일.</span><span class="sxs-lookup"><span data-stu-id="8645d-113">A *[project name].SetParameters.xml* file.</span></span> <span data-ttu-id="8645d-114">이렇게 하면 Msdeploy.exe 명령에 매개 변수 값 집합이 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-114">This provides a set of parameter values to the MSDeploy.exe command.</span></span> <span data-ttu-id="8645d-115">이 파일의 값을 업데이트 하 고 웹 패키지를 배포할 때 명령줄 매개 변수로 웹 배포에 전달할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-115">You can update the values in this file and pass it to Web Deploy as a command-line parameter when you deploy your web package.</span></span>

> [!NOTE]
> <span data-ttu-id="8645d-116">빌드 및 패키징 프로세스에 대 한 자세한 내용은 [웹 응용 프로그램 프로젝트 빌드 및 패키징](building-and-packaging-web-application-projects.md)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="8645d-116">For more information on the build and packaging process, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>

<span data-ttu-id="8645d-117">*Setparameters .xml* 파일은 웹 응용 프로그램 프로젝트 파일 및 프로젝트 내 모든 구성 파일에서 동적으로 생성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-117">The *SetParameters.xml* file is dynamically generated from your web application project file and any configuration files within your project.</span></span> <span data-ttu-id="8645d-118">프로젝트를 빌드하고 패키지할 때 WPP (웹 게시 파이프라인)는 대상 IIS 웹 응용 프로그램 및 모든 데이터베이스 연결 문자열과 같은 배포 환경 간에 변경 될 가능성이 높은 많은 변수를 자동으로 검색 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-118">When you build and package your project, the Web Publishing Pipeline (WPP) will automatically detect lots of the variables that are likely to change between deployment environments, like the destination IIS web application and any database connection strings.</span></span> <span data-ttu-id="8645d-119">이러한 값은 웹 배포 패키지에서 자동으로 매개 변수화 되 고 *Setparameters .xml* 파일에 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-119">These values are automatically parameterized in the web deployment package and added to the *SetParameters.xml* file.</span></span> <span data-ttu-id="8645d-120">예를 *들어 웹 응용* 프로그램 프로젝트의 web.config 파일에 연결 문자열을 추가 하면 빌드 프로세스에서이 변경 내용을 검색 하 고 그에 따라 *setparameters .xml* 파일에 항목을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-120">For example, if you add a connection string to the *web.config* file in your web application project, the build process will detect this change and will add an entry to the *SetParameters.xml* file accordingly.</span></span>

<span data-ttu-id="8645d-121">많은 경우에는이 자동 매개 변수화로 충분 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-121">In a lot of cases, this automatic parameterization will be sufficient.</span></span> <span data-ttu-id="8645d-122">그러나 사용자가 응용 프로그램 설정 또는 서비스 끝점 Url과 같은 배포 환경 간에 다른 설정을 변경 해야 하는 경우에는 배포 패키지에서 이러한 값을 매개 변수화 하 고 해당 항목을 *Setparameters .xml* 파일에 추가 하도록 WPP에 지시 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-122">However, if your users need to vary other settings between deployment environments, like application settings or service endpoint URLs, you need to tell the WPP to parameterize these values in the deployment package and add corresponding entries to the *SetParameters.xml* file.</span></span> <span data-ttu-id="8645d-123">다음 섹션에서는이 작업을 수행 하는 방법을 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-123">The sections that follow explain how to do this.</span></span>

### <a name="automatic-parameterization"></a><span data-ttu-id="8645d-124">자동 매개 변수화</span><span class="sxs-lookup"><span data-stu-id="8645d-124">Automatic Parameterization</span></span>

<span data-ttu-id="8645d-125">웹 응용 프로그램을 빌드하고 패키지할 때 WPP는 다음과 같은 작업을 자동으로 매개 변수화 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-125">When you build and package a web application, the WPP will automatically parameterize these things:</span></span>

- <span data-ttu-id="8645d-126">대상 IIS 웹 응용 프로그램 경로 및 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-126">The destination IIS web application path and name.</span></span>
- <span data-ttu-id="8645d-127">*Web.config 파일에* 있는 모든 연결 문자열</span><span class="sxs-lookup"><span data-stu-id="8645d-127">Any connection strings in your *web.config* file.</span></span>
- <span data-ttu-id="8645d-128">프로젝트 속성 페이지의 **SQL 패키지 및 게시** 탭에 추가 하는 모든 데이터베이스에 대 한 연결 문자열입니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-128">Connection strings for any databases you add to the **Package/Publish SQL** tab in the project property pages.</span></span>

<span data-ttu-id="8645d-129">예를 들어 매개 변수화 프로세스를 사용 하지 않고 [Contact manager](the-contact-manager-solution.md) 샘플 솔루션을 빌드하고 패키지 하는 경우, WPP는 다음과 같은 지 *속성과 파일을 생성 합니다.*</span><span class="sxs-lookup"><span data-stu-id="8645d-129">For example, if you were to build and package the [Contact Manager](the-contact-manager-solution.md) sample solution without touching the parameterization process in any way, the WPP would generate this *ContactManager.Mvc.SetParameters.xml* file:</span></span>

[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample1.xml)]

<span data-ttu-id="8645d-130">이 경우 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-130">In this case:</span></span>

- <span data-ttu-id="8645d-131">**Iis 웹 응용 프로그램 이름** 매개 변수는 웹 응용 프로그램을 배포 하려는 iis 경로입니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-131">The **IIS Web Application Name** parameter is the IIS path where you want to deploy the web application.</span></span> <span data-ttu-id="8645d-132">기본값은 프로젝트 속성 페이지의 **패키지 및 게시 웹** 페이지에서 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-132">The default value is taken from the **Package/Publish Web** page in the project property pages.</span></span>
- <span data-ttu-id="8645d-133">**Applicationservices-Web.config 연결 문자열** 매개 변수가 *Web.config 파일의* **connectionStrings/add** 요소에서 생성 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-133">The **ApplicationServices-Web.config Connection String** parameter was generated from a **connectionStrings/add** element in the *web.config* file.</span></span> <span data-ttu-id="8645d-134">응용 프로그램에서 멤버 자격 데이터베이스에 연결 하는 데 사용 해야 하는 연결 문자열을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-134">It represents the connection string that the application should use to contact the membership database.</span></span> <span data-ttu-id="8645d-135">여기에서 제공 하는 값은 배포 된 *web.config* 파일로 대체 됩니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-135">The value you provide here will be substituted into the deployed *web.config* file.</span></span> <span data-ttu-id="8645d-136">기본값은 배포 전 *web.config* 파일에서 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-136">The default value is taken from the pre-deployment *web.config* file.</span></span>

<span data-ttu-id="8645d-137">또한 WPP는 생성 하는 배포 패키지에서 이러한 속성을 매개 변수화 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-137">The WPP also parameterizes these properties in the deployment package it generates.</span></span> <span data-ttu-id="8645d-138">배포 패키지를 설치할 때 이러한 속성에 대 한 값을 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-138">You can provide values for these properties when you install the deployment package.</span></span> <span data-ttu-id="8645d-139">[수동으로 웹 패키지 설치](manually-installing-web-packages.md)에 설명 된 대로 IIS 관리자를 통해 패키지를 수동으로 설치 하는 경우 설치 마법사에서 매개 변수에 대 한 값을 제공 하 라는 메시지를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-139">If you install the package manually through IIS Manager, as described in [Manually Installing Web Packages](manually-installing-web-packages.md), the installation wizard prompts you to provide values for any parameters.</span></span> <span data-ttu-id="8645d-140">[웹 패키지 배포](deploying-web-packages.md)에 설명 된 대로 *. deploy .cmd* 파일을 사용 하 여 패키지를 원격으로 설치 하는 경우에는 웹 배포이 *setparameters .xml* 파일을 확인 하 여 매개 변수 값을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-140">If you install the package remotely using the *.deploy.cmd* file, as described in [Deploying Web Packages](deploying-web-packages.md), Web Deploy will look to this *SetParameters.xml* file to provide the parameter values.</span></span> <span data-ttu-id="8645d-141">*Setparameters .xml* 파일의 값을 수동으로 편집 하거나 자동화 된 빌드 및 배포 프로세스의 일부로 파일을 사용자 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-141">You can edit the values in the *SetParameters.xml* file manually, or you can customize the file as part of an automated build and deployment process.</span></span> <span data-ttu-id="8645d-142">이 프로세스에 대해서는이 항목의 뒷부분에서 자세히 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-142">This process is described in more detail later in this topic.</span></span>

### <a name="custom-parameterization"></a><span data-ttu-id="8645d-143">사용자 지정 매개 변수화</span><span class="sxs-lookup"><span data-stu-id="8645d-143">Custom Parameterization</span></span>

<span data-ttu-id="8645d-144">더 복잡 한 배포 시나리오에서는 프로젝트를 배포 하기 전에 추가 속성을 매개 변수화 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-144">In more complex deployment scenarios, you'll often want to parameterize additional properties before you deploy your project.</span></span> <span data-ttu-id="8645d-145">일반적으로 대상 환경 마다 다를 수 있는 속성 및 설정을 매개 변수화 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-145">Generally speaking, you should parameterize any properties and settings that will vary between destination environments.</span></span> <span data-ttu-id="8645d-146">여기에는 다음이 포함 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-146">These can include:</span></span>

- <span data-ttu-id="8645d-147">*Web.config 파일의* 서비스 끝점입니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-147">Service endpoints in the *web.config* file.</span></span>
- <span data-ttu-id="8645d-148">*Web.config 파일의* 응용 프로그램 설정입니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-148">Application settings in the *web.config* file.</span></span>
- <span data-ttu-id="8645d-149">사용자에 게 지정 하 라는 메시지를 표시 하려는 다른 모든 선언적 속성</span><span class="sxs-lookup"><span data-stu-id="8645d-149">Any other declarative properties that you want to prompt users to specify.</span></span>

<span data-ttu-id="8645d-150">이러한 속성을 매개 변수화 하는 가장 쉬운 방법은 웹 응용 프로그램 프로젝트의 루트 폴더에 *parameters .xml* 파일을 추가 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-150">The easiest way to parameterize these properties is to add a *parameters.xml* file to the root folder of your web application project.</span></span> <span data-ttu-id="8645d-151">예를 들어 Contact manager 솔루션에서 파일 관리자 프로젝트는 루트 폴더에 *parameters .xml* 파일을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-151">For example, in the Contact Manager solution, the ContactManager.Mvc project includes a *parameters.xml* file in the root folder.</span></span>

![](configuring-parameters-for-web-package-deployment/_static/image1.png)

<span data-ttu-id="8645d-152">이 파일을 열면 단일 **매개 변수** 항목이 포함 된 것을 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-152">If you open this file, you'll see that it contains a single **parameter** entry.</span></span> <span data-ttu-id="8645d-153">이 항목에서는 XPath (XML Path Language) 쿼리를 사용 하 여 web.config 파일에서 *웹* 서비스 WINDOWS COMMUNICATION FOUNDATION (WCF) 서비스의 끝점 URL을 찾고 매개 변수화 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-153">The entry uses an XML Path Language (XPath) query to locate and parameterize the endpoint URL of the ContactService Windows Communication Foundation (WCF) service in the *web.config* file.</span></span>

[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample2.xml)]

<span data-ttu-id="8645d-154">배포 패키지에서 끝점 URL을 매개 변수화 하는 것 외에도, WPP는 배포 패키지와 함께 생성 되는 *Setparameters .xml* 파일에 해당 항목을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-154">In addition to parameterizing the endpoint URL in the deployment package, the WPP also adds a corresponding entry to the *SetParameters.xml* file that gets generated alongside the deployment package.</span></span>

[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample3.xml)]

<span data-ttu-id="8645d-155">배포 패키지를 수동으로 설치 하는 경우 IIS 관리자는 자동으로 매개 변수화 된 속성과 함께 서비스 끝점 주소를 묻는 메시지를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-155">If you install the deployment package manually, IIS Manager will prompt you for the service endpoint address alongside the properties that were parameterized automatically.</span></span> <span data-ttu-id="8645d-156">*.Deploy* 파일을 실행 하 여 배포 패키지를 설치 하는 경우 *setparameters .xml* 파일을 편집 하 여 자동으로 매개 변수화 된 속성에 대 한 값과 함께 서비스 끝점 주소에 대 한 값을 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-156">If you install the deployment package by running the *.deploy.cmd* file, you can edit the *SetParameters.xml* file to provide a value for the service endpoint address together with values for the properties that were parameterized automatically.</span></span>

<span data-ttu-id="8645d-157">*매개 변수 .xml* 파일을 만드는 방법에 대 한 자세한 내용은 [방법: 패키지를 설치할 때 매개 변수를 사용 하 여 배포 설정 구성](https://msdn.microsoft.com/library/ff398068.aspx)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="8645d-157">For full details on how to create a *parameters.xml* file, see [How to: Use Parameters to Configure Deployment Settings When a Package is Installed](https://msdn.microsoft.com/library/ff398068.aspx).</span></span> <span data-ttu-id="8645d-158">**Web.config 파일 설정에 대 한 배포 매개 변수를 사용 하도록** 명명 된 프로시저는 단계별 지침을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-158">The procedure named **To use deployment parameters for Web.config file settings** provides step-by-step instructions.</span></span>

## <a name="modifying-the-setparametersxml-file"></a><span data-ttu-id="8645d-159">SetParameters .xml 파일 수정</span><span class="sxs-lookup"><span data-stu-id="8645d-159">Modifying the SetParameters.xml File</span></span>

<span data-ttu-id="8645d-160">*.Deploy* 파일을 실행 하거나 명령줄&#x2014;에서 msdeploy.exe를 실행 하 여 웹 응용 프로그램 패키지를 수동으로&#x2014;배포 하려는 경우 배포 하기 전에 *setparameters .xml* 파일을 수동으로 편집 하는 것은 아무 작업도 수행 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-160">If you plan to deploy the web application package manually&#x2014;either by running the *.deploy.cmd* file or by running MSDeploy.exe from the command line&#x2014;there's nothing to stop you manually editing the *SetParameters.xml* file prior to the deployment.</span></span> <span data-ttu-id="8645d-161">그러나 엔터프라이즈급 솔루션에서 작업 하는 경우에는 더 크고 자동화 된 빌드 및 배포 프로세스의 일부로 웹 응용 프로그램 패키지를 배포 해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-161">However, if you're working on an enterprise-scale solution, you may need to deploy a web application package as part of a larger, automated build and deployment process.</span></span> <span data-ttu-id="8645d-162">이 시나리오에서는 *Setparameters .xml* 파일을 수정 하는 Microsoft Build Engine (MSBuild)가 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-162">In this scenario, you need the Microsoft Build Engine (MSBuild) to modify the *SetParameters.xml* file for you.</span></span> <span data-ttu-id="8645d-163">MSBuild **XmlPoke** 작업을 사용 하 여이 작업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-163">You can do this by using the MSBuild **XmlPoke** task.</span></span>

<span data-ttu-id="8645d-164">[Contact Manager 샘플 솔루션](the-contact-manager-solution.md) 은이 프로세스를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-164">The [Contact Manager sample solution](the-contact-manager-solution.md) illustrates this process.</span></span> <span data-ttu-id="8645d-165">다음 코드 예제는이 예제와 관련 된 세부 정보만 표시 하도록 편집 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-165">The code examples that follow have been edited to show only the details that are relevant to this example.</span></span>

> [!NOTE]
> <span data-ttu-id="8645d-166">샘플 솔루션의 프로젝트 파일 모델에 대 한 광범위 한 개요와 일반적으로 사용자 지정 프로젝트 파일에 대 한 소개는 [프로젝트 파일 이해](understanding-the-project-file.md) 및 [빌드 프로세스 이해](understanding-the-build-process.md)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="8645d-166">For a broader overview of the project file model in the sample solution, and an introduction to custom project files in general, see [Understanding the Project File](understanding-the-project-file.md) and [Understanding the Build Process](understanding-the-build-process.md).</span></span>

<span data-ttu-id="8645d-167">첫째, 관심의 매개 변수 값은 환경 관련 프로젝트 파일 (예: *Env-Dev. proj*)에서 속성으로 정의 됩니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-167">First, the parameter values of interest are defined as properties in the environment-specific project file (for example, *Env-Dev.proj*).</span></span>

[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample4.xml)]

> [!NOTE]
> <span data-ttu-id="8645d-168">사용자의 서버 환경에 맞는 환경 관련 프로젝트 파일을 사용자 지정 하는 방법에 대 한 지침은 [대상 환경에 대 한 배포 속성 구성](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="8645d-168">For guidance on how to customize the environment-specific project files for your own server environments, see [Configure Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>

<span data-ttu-id="8645d-169">그런 다음 *Publish. proj* 파일은 이러한 속성을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-169">Next, the *Publish.proj* file imports these properties.</span></span> <span data-ttu-id="8645d-170">각 *Setparameters .xml* 파일은 *.deploy .cmd* 파일에 연결 되어 있기 때문에 프로젝트 파일에서 각 *. 배포* .cmd 파일을 호출 하기 때문에 프로젝트 파일은 각 *. .cmd* 파일에 대해 MSBuild *항목* 을 만들고 해당 속성을 *항목 메타 데이터로*정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-170">Because each *SetParameters.xml* file is associated with a *.deploy.cmd* file, and we ultimately want the project file to invoke each *.deploy.cmd* file, the project file creates an MSBuild *item* for each *.deploy.cmd* file and defines the properties of interest as *item metadata*.</span></span>

[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample5.xml)]

<span data-ttu-id="8645d-171">이 경우 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-171">In this case:</span></span>

- <span data-ttu-id="8645d-172">**ParametersXml** 메타 데이터 값은 *setparameters .xml* 파일의 위치를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-172">The **ParametersXml** metadata value indicates the location of the *SetParameters.xml* file.</span></span>
- <span data-ttu-id="8645d-173">**Iiswebappname** 값은 웹 응용 프로그램을 배포 하려는 IIS 경로입니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-173">The **IisWebAppName** value is the IIS path to which you want to deploy the web application.</span></span>
- <span data-ttu-id="8645d-174">**MembershipDBConnectionString** 값은 멤버 자격 데이터베이스에 대 한 연결 문자열이 고 **MembershipDBConnectionName** 값은 *setparameters .xml* 파일에 있는 해당 매개 변수의 **name** 특성입니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-174">The **MembershipDBConnectionString** value is the connection string for the membership database, and the **MembershipDBConnectionName** value is the **name** attribute of the corresponding parameter in the *SetParameters.xml* file.</span></span>
- <span data-ttu-id="8645d-175">**Serviceendpointvalue** 값은 대상 서버에서 WCF 서비스의 끝점 주소이 고 **ServiceEndpointParamName** 값은 *setparameters .xml* 파일에 있는 해당 매개 변수의 name 특성입니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-175">The **ServiceEndpointValue** value is the endpoint address for the WCF service on the destination server, and the **ServiceEndpointParamName** value is the name attribute of the corresponding parameter in the *SetParameters.xml* file.</span></span>

<span data-ttu-id="8645d-176">마지막으로 *게시. proj* 파일에서 게시 되지 않은 **Web패키지** 대상은 **XmlPoke** 작업을 사용 하 여 *setparameters .xml* 파일의 이러한 값을 수정 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-176">Finally, in the *Publish.proj* file, the **PublishWebPackages** target uses the **XmlPoke** task to modify these values in the *SetParameters.xml* file.</span></span>

[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample6.xml)]

<span data-ttu-id="8645d-177">각 **XmlPoke** 작업은 다음과 같은 4 개의 특성 값을 지정 하는 것을 알 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-177">You'll notice that each **XmlPoke** task specifies four attribute values:</span></span>

- <span data-ttu-id="8645d-178">**XmlInputPath** 특성은 수정 하려는 파일을 찾을 위치를 작업에 알려 줍니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-178">The **XmlInputPath** attribute tells the task where to find the file you want to modify.</span></span>
- <span data-ttu-id="8645d-179">**Query** 특성은 변경 하려는 XML 노드를 식별 하는 XPath 쿼리입니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-179">The **Query** attribute is an XPath query that identifies the XML node you want to change.</span></span>
- <span data-ttu-id="8645d-180">**Value** 특성은 선택한 XML 노드에 삽입할 새 값입니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-180">The **Value** attribute is the new value you want to insert into the selected XML node.</span></span>
- <span data-ttu-id="8645d-181">**Condition** 특성은 작업을 실행 하거나 실행 하지 않아야 하는 조건입니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-181">The **Condition** attribute is the criteria on which the task should run or not run.</span></span> <span data-ttu-id="8645d-182">이러한 경우 조건이 있으면 *Setparameters .xml* 파일에 null 값 또는 빈 값을 삽입 하지 않도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-182">In these cases, the condition ensures that you don't try to insert a null or empty value into the *SetParameters.xml* file.</span></span>

## <a name="conclusion"></a><span data-ttu-id="8645d-183">결론</span><span class="sxs-lookup"><span data-stu-id="8645d-183">Conclusion</span></span>

<span data-ttu-id="8645d-184">이 항목에서는 *Setparameters .xml* 파일의 역할에 대해 설명 하 고 웹 응용 프로그램 프로젝트를 빌드할 때 생성 되는 방법에 대해 설명 했습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-184">This topic described the role of the *SetParameters.xml* file and explained how it's generated when you build a web application project.</span></span> <span data-ttu-id="8645d-185">Xml 파일을 프로젝트에 추가 하 여 추가 설정을 매개 변수화 하는 방법에 대해 설명 *했습니다* .</span><span class="sxs-lookup"><span data-stu-id="8645d-185">It explained how you can parameterize additional settings by adding a *parameters.xml* file to your project.</span></span> <span data-ttu-id="8645d-186">또한 프로젝트 파일에서 **XmlPoke** 작업을 사용 하 여 더 크고 자동화 된 빌드 프로세스의 일부로 *setparameters .xml* 파일을 수정 하는 방법에 대해서도 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-186">It also described how you can modify the *SetParameters.xml* file as part of a larger, automated build process, by using the **XmlPoke** task in your project files.</span></span>

<span data-ttu-id="8645d-187">다음 항목인 [웹 패키지 배포](deploying-web-packages.md)에서는 ..exe 파일을 실행 하거나 msdeploy.exe 명령을 직접 사용 하 여 웹 패키지를 배포할 수 있는 방법을 설명 *합니다.*</span><span class="sxs-lookup"><span data-stu-id="8645d-187">The next topic, [Deploying Web Packages](deploying-web-packages.md), describes how you can deploy a web package either by running the *.deploy.cmd* file or by using MSDeploy.exe commands directly.</span></span> <span data-ttu-id="8645d-188">두 경우 모두 *Setparameters .xml* 파일을 배포 매개 변수로 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8645d-188">In both cases, you can specify your *SetParameters.xml* file as a deployment parameter.</span></span>

## <a name="further-reading"></a><span data-ttu-id="8645d-189">추가 참고 자료</span><span class="sxs-lookup"><span data-stu-id="8645d-189">Further Reading</span></span>

<span data-ttu-id="8645d-190">웹 패키지를 만드는 방법에 대 한 자세한 내용은 [웹 응용 프로그램 프로젝트 빌드 및 패키징](building-and-packaging-web-application-projects.md)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="8645d-190">For information on how to create web packages, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span> <span data-ttu-id="8645d-191">웹 패키지를 실제로 배포 하는 방법에 대 한 지침은 [웹 패키지 배포](deploying-web-packages.md)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="8645d-191">For guidance on how to actually deploy a web package, see [Deploying Web Packages](deploying-web-packages.md).</span></span> <span data-ttu-id="8645d-192">*매개 변수 .xml* 파일을 만드는 방법에 대 한 단계별 연습은 [방법: 패키지를 설치할 때 매개 변수를 사용 하 여 배포 설정 구성](https://msdn.microsoft.com/library/ff398068.aspx)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="8645d-192">For a step-by-step walkthrough on how to create a *parameters.xml* file, see [How to: Use Parameters to Configure Deployment Settings When a Package is Installed](https://msdn.microsoft.com/library/ff398068.aspx).</span></span>

<span data-ttu-id="8645d-193">웹 배포 매개 변수화에 대 한 자세한 내용은 [작업에서 매개 변수화 웹 배포](https://go.microsoft.com/?linkid=9805119) (블로그 게시물)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="8645d-193">For more general information on parameterization in Web Deploy, see [Web Deploy Parameterization in Action](https://go.microsoft.com/?linkid=9805119) (blog post).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="8645d-194">[이전](building-and-packaging-web-application-projects.md)
> [다음](deploying-web-packages.md)</span><span class="sxs-lookup"><span data-stu-id="8645d-194">[Previous](building-and-packaging-web-application-projects.md)
[Next](deploying-web-packages.md)</span></span>
