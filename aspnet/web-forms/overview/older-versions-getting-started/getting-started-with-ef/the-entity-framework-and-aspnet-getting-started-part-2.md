---
uid: web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-2
title: 먼저 Entity Framework 4.0 Database를 사용 하 여 시작 및 ASP.NET 4 Web Forms-2 부 | Microsoft Docs
author: tdykstra
description: Contoso University 샘플 웹 응용 프로그램에는 Entity Framework를 사용 하 여 ASP.NET Web Forms 응용 프로그램을 만드는 방법을 보여 줍니다. 샘플 응용 프로그램은...
ms.author: riande
ms.date: 12/03/2010
ms.assetid: fb63a326-a4ae-4b0c-a4f5-412327197216
msc.legacyurl: /web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-2
msc.type: authoredcontent
ms.openlocfilehash: a0b4acca93deee4fb514fa1bc3e2bd13490cf10e
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57041910"
---
<a name="getting-started-with-entity-framework-40-database-first-and-aspnet-4-web-forms---part-2"></a><span data-ttu-id="bd03b-104">먼저 Entity Framework 4.0 Database를 사용 하 여 시작 및 ASP.NET 4 Web Forms-2 부</span><span class="sxs-lookup"><span data-stu-id="bd03b-104">Getting Started with Entity Framework 4.0 Database First and ASP.NET 4 Web Forms - Part 2</span></span>
====================
<span data-ttu-id="bd03b-105">[Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="bd03b-105">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="bd03b-106">Contoso University 샘플 웹 응용 프로그램에는 Entity Framework 4.0 및 Visual Studio 2010을 사용 하 여 ASP.NET Web Forms 응용 프로그램을 만드는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-106">The Contoso University sample web application demonstrates how to create ASP.NET Web Forms applications using the Entity Framework 4.0 and Visual Studio 2010.</span></span> <span data-ttu-id="bd03b-107">자습서 시리즈에 대 한 정보를 참조 하세요. [시리즈의 첫 번째 자습서](the-entity-framework-and-aspnet-getting-started-part-1.md)</span><span class="sxs-lookup"><span data-stu-id="bd03b-107">For information about the tutorial series, see [the first tutorial in the series](the-entity-framework-and-aspnet-getting-started-part-1.md)</span></span>


## <a name="the-entitydatasource-control"></a><span data-ttu-id="bd03b-108">EntityDataSource 컨트롤</span><span class="sxs-lookup"><span data-stu-id="bd03b-108">The EntityDataSource Control</span></span>

<span data-ttu-id="bd03b-109">이전 자습서에서 웹 사이트, 데이터베이스 및 데이터 모델을 만들었습니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-109">In the previous tutorial you created a web site, a database, and a data model.</span></span> <span data-ttu-id="bd03b-110">이 자습서에서 사용 하 여 작업을 `EntityDataSource` ASP.NET Entity Framework 데이터 모델을 작업할 수 있도록 하기 위해 제공 하는 컨트롤입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-110">In this tutorial you work with the `EntityDataSource` control that ASP.NET provides in order to make it easy to work with an Entity Framework data model.</span></span> <span data-ttu-id="bd03b-111">만든를 `GridView` 학생 데이터 표시 및 편집에 대 한 제어를 `DetailsView` 새 학생을 추가 하는 것에 대 한 제어 및 `DropDownList` (나중에 사용할 관련된 과정을 표시 하기 위한)는 부서를 선택 하는 컨트롤입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-111">You'll create a `GridView` control for displaying and editing student data, a `DetailsView` control for adding new students, and a `DropDownList` control for selecting a department (which you'll use later for displaying associated courses).</span></span>

<span data-ttu-id="bd03b-112">[![Image20](the-entity-framework-and-aspnet-getting-started-part-2/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-112">[![Image20](the-entity-framework-and-aspnet-getting-started-part-2/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image1.png)</span></span>

<span data-ttu-id="bd03b-113">[![Image09](the-entity-framework-and-aspnet-getting-started-part-2/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-113">[![Image09](the-entity-framework-and-aspnet-getting-started-part-2/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image3.png)</span></span>

<span data-ttu-id="bd03b-114">[![Image18](the-entity-framework-and-aspnet-getting-started-part-2/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-114">[![Image18](the-entity-framework-and-aspnet-getting-started-part-2/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image5.png)</span></span>

<span data-ttu-id="bd03b-115">이 응용 프로그램에서 있습니다 없습니다 입력된 유효성 검사를 추가할 데이터베이스를 업데이트 하는 페이지를 프로덕션 응용 프로그램에 필요한 대로 강력한 됩니다 오류 처리의 일부 note 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-115">Note that in this application you won't be adding input validation to pages that update the database, and some of the error handling will not be as robust as would be required in a production application.</span></span> <span data-ttu-id="bd03b-116">Entity Framework에 초점을 맞춘이 자습서를 계속을 너무 길어져서에서 유지 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-116">That keeps the tutorial focused on the Entity Framework and keeps it from getting too long.</span></span> <span data-ttu-id="bd03b-117">응용 프로그램에 이러한 기능을 추가 하는 방법에 대 한 자세한 내용은 참조 하세요 [ASP.NET 웹 페이지에서 사용자 입력 유효성 검사](https://msdn.microsoft.com/library/7kh55542.aspx) 하 고 [ASP.NET 페이지 및 응용 프로그램의 오류 처리](https://msdn.microsoft.com/library/w16865z6.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-117">For details about how to add these features to your application, see [Validating User Input in ASP.NET Web Pages](https://msdn.microsoft.com/library/7kh55542.aspx) and [Error Handling in ASP.NET Pages and Applications](https://msdn.microsoft.com/library/w16865z6.aspx).</span></span>

## <a name="adding-and-configuring-the-entitydatasource-control"></a><span data-ttu-id="bd03b-118">EntityDataSource 컨트롤 추가 및 구성</span><span class="sxs-lookup"><span data-stu-id="bd03b-118">Adding and Configuring the EntityDataSource Control</span></span>

<span data-ttu-id="bd03b-119">구성 하 여 먼저를 `EntityDataSource` 읽을 컨트롤 `Person` 엔터티는 `People` 엔터티 집합입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-119">You'll begin by configuring an `EntityDataSource` control to read `Person` entities from the `People` entity set.</span></span>

<span data-ttu-id="bd03b-120">Visual Studio가 열려 있는 있는지 확인 하 고 1 부에서 만든 프로젝트를 사용 하 여 작업할 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-120">Make sure you have Visual Studio open and that you're working with the project you created in part 1.</span></span> <span data-ttu-id="bd03b-121">에 대 한 마지막 변경 이후 또는 데이터 모델을 만든 후 프로젝트를 빌드한 하지 않은 경우 이제 프로젝트를 빌드하십시오.</span><span class="sxs-lookup"><span data-stu-id="bd03b-121">If you haven't built the project since you created the data model or since the last change you made to it, build the project now.</span></span> <span data-ttu-id="bd03b-122">데이터 모델에 대 한 변경 내용은 사용할 수 없습니다 디자이너에는 프로젝트가 빌드될 때까지 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-122">Changes to the data model are not made available to the designer until the project is built.</span></span>

<span data-ttu-id="bd03b-123">사용 하 여 새 웹 페이지의 **웹 폼 마스터 페이지를 사용 하 여** 템플릿을 하 고 이름을 *Students.aspx*합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-123">Create a new web page using the **Web Form using Master Page** template, and name it *Students.aspx*.</span></span>

<span data-ttu-id="bd03b-124">[![Image23](the-entity-framework-and-aspnet-getting-started-part-2/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-124">[![Image23](the-entity-framework-and-aspnet-getting-started-part-2/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image7.png)</span></span>

<span data-ttu-id="bd03b-125">지정할 *Site.Master* 마스터 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-125">Specify *Site.Master* as the master page.</span></span> <span data-ttu-id="bd03b-126">이 자습서에 대 한 만들기 페이지의 모든이 마스터 페이지를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-126">All of the pages you create for these tutorials will use this master page.</span></span>

<span data-ttu-id="bd03b-127">[![Image24](the-entity-framework-and-aspnet-getting-started-part-2/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-127">[![Image24](the-entity-framework-and-aspnet-getting-started-part-2/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image9.png)</span></span>

<span data-ttu-id="bd03b-128">**소스** 보기, 추가 `h2` 제목에 `Content` 라는 컨트롤 `Content2`다음 예제에서와 같이:</span><span class="sxs-lookup"><span data-stu-id="bd03b-128">In **Source** view, add an `h2` heading to the `Content` control named `Content2`, as shown in the following example:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample1.aspx)]

<span data-ttu-id="bd03b-129">**데이터** 탭을 **도구 상자**을 끌어는 `EntityDataSource` 컨트롤을 페이지 머리글 아래에 놓습니다 하 고 ID를 변경 `StudentsEntityDataSource`:</span><span class="sxs-lookup"><span data-stu-id="bd03b-129">From the **Data** tab of the **Toolbox**, drag an `EntityDataSource` control to the page, drop it below the heading, and change the ID to `StudentsEntityDataSource`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample2.aspx)]

<span data-ttu-id="bd03b-130">전환할 **디자인** 보기, 데이터 소스 컨트롤의 스마트 태그를 클릭 한 다음 클릭 **데이터 소스 구성** 시작 하는 **데이터 소스 구성** 마법사.</span><span class="sxs-lookup"><span data-stu-id="bd03b-130">Switch to **Design** view, click the data source control's smart tag, and then click **Configure Data Source** to launch the **Configure Data Source** wizard.</span></span>

<span data-ttu-id="bd03b-131">[![Image01](the-entity-framework-and-aspnet-getting-started-part-2/_static/image12.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-131">[![Image01](the-entity-framework-and-aspnet-getting-started-part-2/_static/image12.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image11.png)</span></span>

<span data-ttu-id="bd03b-132">에 **ObjectContext 구성** 마법사 단계 **SchoolEntities** 값으로 **명명 된 연결**를 선택한 **SchoolEntities**으로 **DefaultContainerName** 값입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-132">In the **Configure ObjectContext** wizard step, select **SchoolEntities** as the value for **Named Connection**, and select **SchoolEntities** as the **DefaultContainerName** value.</span></span> <span data-ttu-id="bd03b-133">**다음**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-133">Then click **Next**.</span></span>

<span data-ttu-id="bd03b-134">[![Image02](the-entity-framework-and-aspnet-getting-started-part-2/_static/image14.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-134">[![Image02](the-entity-framework-and-aspnet-getting-started-part-2/_static/image14.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image13.png)</span></span>

<span data-ttu-id="bd03b-135">참고: 이 시점에서 다음 대화 상자를 표시 하는 경우 계속 하기 전에 프로젝트를 작성 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-135">Note: If you get the following dialog box at this point, you have to build the project before proceeding.</span></span>

<span data-ttu-id="bd03b-136">[![Image25](the-entity-framework-and-aspnet-getting-started-part-2/_static/image16.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-136">[![Image25](the-entity-framework-and-aspnet-getting-started-part-2/_static/image16.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image15.png)</span></span>

<span data-ttu-id="bd03b-137">에 **데이터 선택 구성** 단계 선택 **사람** 값으로 **EntitySetName**합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-137">In the **Configure Data Selection** step, select **People** as the value for **EntitySetName**.</span></span> <span data-ttu-id="bd03b-138">아래 **선택**, 있는지 확인 합니다 **선택** ll 확인란을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-138">Under **Select**, make sure the **Select A** ll check box is selected.</span></span> <span data-ttu-id="bd03b-139">업데이트 설정 및 삭제 하 고 옵션을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-139">Then select the options to enable update and delete.</span></span> <span data-ttu-id="bd03b-140">완료 되 면 **완료**합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-140">When you're done, click **Finish**.</span></span>

<span data-ttu-id="bd03b-141">[![Image03](the-entity-framework-and-aspnet-getting-started-part-2/_static/image18.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-141">[![Image03](the-entity-framework-and-aspnet-getting-started-part-2/_static/image18.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image17.png)</span></span>

## <a name="configuring-database-rules-to-allow-deletion"></a><span data-ttu-id="bd03b-142">데이터베이스 삭제를 허용 하는 규칙 구성</span><span class="sxs-lookup"><span data-stu-id="bd03b-142">Configuring Database Rules to Allow Deletion</span></span>

<span data-ttu-id="bd03b-143">사용자의 학생 들을 삭제할 수 있는 페이지를 만들 합니다 `Person` 세 가지 다른 테이블과 관계가 있는 테이블 (`Course`, `StudentGrade`, 및 `OfficeAssignment`).</span><span class="sxs-lookup"><span data-stu-id="bd03b-143">You'll be creating a page that lets users delete students from the `Person` table, which has three relationships with other tables (`Course`, `StudentGrade`, and `OfficeAssignment`).</span></span> <span data-ttu-id="bd03b-144">기본적으로 데이터베이스 못합니다 수의 행을 삭제 `Person` 관련된 행에 대 한 다른 테이블의 경우.</span><span class="sxs-lookup"><span data-stu-id="bd03b-144">By default, the database will prevent you from deleting a row in `Person` if there are related rows in one of the other tables.</span></span> <span data-ttu-id="bd03b-145">관련된 행을 먼저 삭제 수동으로 또는 삭제 하는 경우 자동으로 삭제 하려면 데이터베이스를 구성할 수는 `Person` 행입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-145">You can manually delete the related rows first, or you can configure the database to delete them automatically when you delete a `Person` row.</span></span> <span data-ttu-id="bd03b-146">이 자습서에서는 학생 레코드에 대 한 관련된 데이터를 자동으로 삭제할 데이터베이스를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-146">For student records in this tutorial, you'll configure the database to delete the related data automatically.</span></span> <span data-ttu-id="bd03b-147">학생에 게는 관련 행 수 있으므로 에서만 `StudentGrade` 세 관계 중 하나만 구성 해야 하는 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-147">Because students can have related rows only in the `StudentGrade` table, you need to configure only one of the three relationships.</span></span>

<span data-ttu-id="bd03b-148">사용 중인 경우는 *School.mdf* 이 자습서를 사용 하 여 이동 하는 프로젝트에서 다운로드 한 파일에 이러한 구성 변경 내용을 수행한 이미 있으므로이 섹션을 건너뛸 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-148">If you're using the *School.mdf* file that you downloaded from the project that goes with this tutorial, you can skip this section because these configuration changes have already been done.</span></span> <span data-ttu-id="bd03b-149">스크립트를 실행 하 여 데이터베이스를 만든 경우 다음 절차를 수행 하 여 데이터베이스를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-149">If you created the database by running a script, configure the database by performing the following procedures.</span></span>

<span data-ttu-id="bd03b-150">**서버 탐색기**, 1 부에서 만든 데이터베이스 다이어그램을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-150">In **Server Explorer**, open the database diagram that you created in part 1.</span></span> <span data-ttu-id="bd03b-151">간의 관계를 마우스 오른쪽 단추로 클릭 `Person` 하 고 `StudentGrade` (테이블 사이의 선)를 선택한 후 **속성**합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-151">Right-click the relationship between `Person` and `StudentGrade` (the line between tables), and then select **Properties**.</span></span>

<span data-ttu-id="bd03b-152">[![Image04](the-entity-framework-and-aspnet-getting-started-part-2/_static/image20.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-152">[![Image04](the-entity-framework-and-aspnet-getting-started-part-2/_static/image20.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image19.png)</span></span>

<span data-ttu-id="bd03b-153">에 **속성** 창 확장 **INSERT 및 UPDATE 사양** 설정 하 고는 **DeleteRule** 속성을 **Cascade**.</span><span class="sxs-lookup"><span data-stu-id="bd03b-153">In the **Properties** window, expand **INSERT and UPDATE Specification** and set the **DeleteRule** property to **Cascade**.</span></span>

<span data-ttu-id="bd03b-154">[![Image05](the-entity-framework-and-aspnet-getting-started-part-2/_static/image22.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-154">[![Image05](the-entity-framework-and-aspnet-getting-started-part-2/_static/image22.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image21.png)</span></span>

<span data-ttu-id="bd03b-155">저장 하 고 다이어그램을 닫습니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-155">Save and close the diagram.</span></span> <span data-ttu-id="bd03b-156">데이터베이스를 업데이트 하는 것인지 클릭 묻는 **예**합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-156">If you're asked whether you want to update the database, click **Yes**.</span></span>

<span data-ttu-id="bd03b-157">모델 유지 동기화 데이터베이스 수행 하는 메모리에 있는 엔터티는 했는지를 데이터 모델의 해당 규칙을 설정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-157">To make sure that the model keeps entities that are in memory in sync with what the database is doing, you must set corresponding rules in the data model.</span></span> <span data-ttu-id="bd03b-158">열기 *SchoolModel.edmx*, 간에 연결 선을 마우스 오른쪽 단추로 클릭 `Person` 하 고 `StudentGrade`를 선택한 후 **속성**합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-158">Open *SchoolModel.edmx*, right-click the association line between `Person` and `StudentGrade`, and then select **Properties**.</span></span>

<span data-ttu-id="bd03b-159">[![Image21](the-entity-framework-and-aspnet-getting-started-part-2/_static/image24.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-159">[![Image21](the-entity-framework-and-aspnet-getting-started-part-2/_static/image24.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image23.png)</span></span>

<span data-ttu-id="bd03b-160">에 **속성** 창에서 **End1 OnDelete** 에 **Cascade**.</span><span class="sxs-lookup"><span data-stu-id="bd03b-160">In the **Properties** window, set **End1 OnDelete** to **Cascade**.</span></span>

<span data-ttu-id="bd03b-161">[![Image22](the-entity-framework-and-aspnet-getting-started-part-2/_static/image26.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-161">[![Image22](the-entity-framework-and-aspnet-getting-started-part-2/_static/image26.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image25.png)</span></span>

<span data-ttu-id="bd03b-162">저장 후 닫기 합니다 *SchoolModel.edmx* 파일과 프로젝트를 다시 빌드합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-162">Save and close the *SchoolModel.edmx* file, and then rebuild the project.</span></span>

<span data-ttu-id="bd03b-163">일반적으로 데이터베이스 변경 되 면 몇 가지 옵션이 있습니다 모델을 동기화 하는 방법에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-163">In general, when the database changes, you have several choices for how to sync up the model:</span></span>

- <span data-ttu-id="bd03b-164">특정 종류의 변경은 (예: 추가 하거나 테이블, 뷰 또는 저장된 프로시저를 새로 고침)를 마우스 오른쪽 단추로 클릭는 디자이너 및 선택 **데이터베이스에서 모델 업데이트** 디자이너 make 변경 내용을 자동으로 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-164">For certain kinds of changes (such as adding or refreshing tables, views, or stored procedures), right-click in the designer and select **Update Model from Database** to have the designer make the changes automatically.</span></span>
- <span data-ttu-id="bd03b-165">데이터 모델을 다시 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-165">Regenerate the data model.</span></span>
- <span data-ttu-id="bd03b-166">이 이와 같은 수동 업데이트를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-166">Make manual updates like this one.</span></span>

<span data-ttu-id="bd03b-167">다시 필드 이름을 변경 해야 하는 다음 다시 모델 생성 또는 관계 변경의 영향을 받는 테이블을 새로 고칠 수 있지만 경우 (에서 `FirstName` 에 `FirstMidName`).</span><span class="sxs-lookup"><span data-stu-id="bd03b-167">In this case, you could have regenerated the model or refreshed the tables affected by the relationship change, but then you'd have to make the field-name change again (from `FirstName` to `FirstMidName`).</span></span>

## <a name="using-a-gridview-control-to-read-and-update-entities"></a><span data-ttu-id="bd03b-168">GridView 컨트롤을 사용 하 여 읽기 및 엔터티를 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-168">Using a GridView Control to Read and Update Entities</span></span>

<span data-ttu-id="bd03b-169">이 섹션에서는 `GridView` 표시, 업데이트 또는 학생을 삭제 하는 컨트롤입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-169">In this section you'll use a `GridView` control to display, update, or delete students.</span></span>

<span data-ttu-id="bd03b-170">열거나 전환할 *Students.aspx* 으로 전환 **디자인** 보기.</span><span class="sxs-lookup"><span data-stu-id="bd03b-170">Open or switch to *Students.aspx* and switch to **Design** view.</span></span> <span data-ttu-id="bd03b-171">**데이터** 탭 합니다 **도구 상자**, 끌어를 `GridView` 컨트롤의 오른쪽에는 `EntityDataSource` 제어 하 고 이름을 `StudentsGridView`, 스마트 태그를 클릭 하 고 선택한  **StudentsEntityDataSource** 데이터 원본으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-171">From the **Data** tab of the **Toolbox**, drag a `GridView` control to the right of the `EntityDataSource` control, name it `StudentsGridView`, click the smart tag, and then select **StudentsEntityDataSource** as the data source.</span></span>

<span data-ttu-id="bd03b-172">[![Image06](the-entity-framework-and-aspnet-getting-started-part-2/_static/image28.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-172">[![Image06](the-entity-framework-and-aspnet-getting-started-part-2/_static/image28.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image27.png)</span></span>

<span data-ttu-id="bd03b-173">클릭 **스키마 새로 고침** (클릭 **예** 것인지 묻는)를 클릭 한 다음 **페이징 사용**를 **정렬 사용**를 **편집 사용**, 및 **삭제 사용**합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-173">Click **Refresh Schema** (click **Yes** if you're prompted to confirm), then click **Enable Paging**, **Enable Sorting**, **Enable Editing**, and **Enable Deleting**.</span></span>

<span data-ttu-id="bd03b-174">클릭 **열을 편집할**합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-174">Click **Edit Columns**.</span></span>

<span data-ttu-id="bd03b-175">[![Image10](the-entity-framework-and-aspnet-getting-started-part-2/_static/image30.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-175">[![Image10](the-entity-framework-and-aspnet-getting-started-part-2/_static/image30.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image29.png)</span></span>

<span data-ttu-id="bd03b-176">에 **선택한 필드** 상자에서 삭제 **PersonID**를 **LastName**, 및 **HireDate**합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-176">In the **Selected fields** box, delete **PersonID**, **LastName**, and **HireDate**.</span></span> <span data-ttu-id="bd03b-177">일반적으로 사용자에 게 레코드 키를 표시 안 함, 고용 날짜는 관련이 없습니다 학생 및만 이름 필드 중 하나가 필요 하므로 두 부분 이름 하나의 필드에 배치 합니다.)</span><span class="sxs-lookup"><span data-stu-id="bd03b-177">You typically don't display a record key to users, hire date is not relevant to students, and you'll put both parts of the name in one field, so you only need one of the name fields.)</span></span>

<span data-ttu-id="bd03b-178">[![Image11](the-entity-framework-and-aspnet-getting-started-part-2/_static/image32.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-178">[![Image11](the-entity-framework-and-aspnet-getting-started-part-2/_static/image32.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image31.png)</span></span>

<span data-ttu-id="bd03b-179">선택 된 **FirstMidName** 필드를 클릭 한 다음 **이 필드를 TemplateField로 변환**합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-179">Select the **FirstMidName** field and then click **Convert this field into a TemplateField**.</span></span>

<span data-ttu-id="bd03b-180">에 대 한 동일한 작업을 수행할 **EnrollmentDate**합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-180">Do the same for **EnrollmentDate**.</span></span>

<span data-ttu-id="bd03b-181">[![Image13](the-entity-framework-and-aspnet-getting-started-part-2/_static/image34.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-181">[![Image13](the-entity-framework-and-aspnet-getting-started-part-2/_static/image34.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image33.png)</span></span>

<span data-ttu-id="bd03b-182">클릭 **확인** 한 다음으로 전환 **원본** 보기.</span><span class="sxs-lookup"><span data-stu-id="bd03b-182">Click **OK** and then switch to **Source** view.</span></span> <span data-ttu-id="bd03b-183">나머지 변경 내용을 태그에서 직접 작업을 수행 하기가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-183">The remaining changes will be easier to do directly in markup.</span></span> <span data-ttu-id="bd03b-184">`GridView` 다음 예와 같이 태그 이제 같습니다를 제어 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-184">The `GridView` control markup now looks like the following example.</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample3.aspx)]

<span data-ttu-id="bd03b-185">명령 필드 템플릿을 필드를 현재 되 면 첫 번째 열 이름을 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-185">The first column after the command field is a template field that currently displays the first name.</span></span> <span data-ttu-id="bd03b-186">다음 예제와 같이이 서식 파일 필드에 대 한 태그를 변경 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-186">Change the markup for this template field to look like the following example:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample4.aspx)]

<span data-ttu-id="bd03b-187">디스플레이 모드에 두 `Label` 컨트롤의 첫 번째 및 마지막 이름을 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-187">In display mode, two `Label` controls display the first and last name.</span></span> <span data-ttu-id="bd03b-188">편집 모드에 두 개의 텍스트 상자에 성과 이름을 변경할 수 있도록 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-188">In edit mode, two text boxes are provided so you can change the first and last name.</span></span> <span data-ttu-id="bd03b-189">와 마찬가지로 합니다 `Label` 컨트롤의 디스플레이 모드를 사용 합니다 `Bind` 및 `Eval` 데이터베이스에 직접 연결 하는 ASP.NET 데이터 소스 컨트롤을 사용 하 여 식 대로 정확 하 게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-189">As with the `Label` controls in display mode, you use `Bind` and `Eval` expressions exactly as you would with ASP.NET data source controls that connect directly to databases.</span></span> <span data-ttu-id="bd03b-190">유일한 차이점은 데이터베이스 열 대신 엔터티 속성을 지정 하는 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-190">The only difference is that you're specifying entity properties instead of database columns.</span></span>

<span data-ttu-id="bd03b-191">마지막 열에는 등록 날짜를 표시 하는 템플릿 필드입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-191">The last column is a template field that displays the enrollment date.</span></span> <span data-ttu-id="bd03b-192">다음 예제와 같이이 필드에 대 한 태그를 변경 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-192">Change the markup for this field to look like the following example:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample5.aspx)]

<span data-ttu-id="bd03b-193">모두 표시 하 고 모드 편집 형식 문자열 "{0, d}" 날짜 "간단한 날짜" 형식으로 표시를 사용 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-193">In both display and edit mode, the format string "{0,d}" causes the date to be displayed in the "short date" format.</span></span> <span data-ttu-id="bd03b-194">(이 자습서에 표시 된 화면 이미지에서 다르게 형식이으로 표시 하려면 시스템을 구성할 수 있습니다.)</span><span class="sxs-lookup"><span data-stu-id="bd03b-194">(Your computer might be configured to display this format differently from the screen images shown in this tutorial.)</span></span>

<span data-ttu-id="bd03b-195">이러한 템플릿 필드의 각 디자이너를 사용 하는 `Bind` 변경한 수 있지만 기본적으로 식에는 `Eval` 식에는 `ItemTemplate` 요소.</span><span class="sxs-lookup"><span data-stu-id="bd03b-195">Notice that in each of these template fields, the designer used a `Bind` expression by default, but you've changed that to an `Eval` expression in the `ItemTemplate` elements.</span></span> <span data-ttu-id="bd03b-196">합니다 `Bind` 식의 데이터에 사용할 수 있도록 `GridView` 코드에서 데이터에 액세스 해야 하는 경우 속성을 제어 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-196">The `Bind` expression makes the data available in `GridView` control properties in case you need to access the data in code.</span></span> <span data-ttu-id="bd03b-197">이 페이지에서 사용할 수 있도록 코드에서이 데이터에 액세스할 필요가 `Eval`를 더 효율적입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-197">In this page you don't need to access this data in code, so you can use `Eval`, which is more efficient.</span></span> <span data-ttu-id="bd03b-198">자세한 내용은 [데이터 컨트롤에서 데이터를 가져오는](https://weblogs.asp.net/davidfowler/archive/2008/12/12/getting-your-data-out-of-the-data-controls.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-198">For more information, see [Getting your data out of the data controls](https://weblogs.asp.net/davidfowler/archive/2008/12/12/getting-your-data-out-of-the-data-controls.aspx).</span></span>

## <a name="revising-entitydatasource-control-markup-to-improve-performance"></a><span data-ttu-id="bd03b-199">성능 향상을 위해 EntityDataSource 컨트롤 태그를 수정 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-199">Revising EntityDataSource Control Markup to Improve Performance</span></span>

<span data-ttu-id="bd03b-200">태그에는 `EntityDataSource` 컨트롤을 제거 합니다 `ConnectionString` 및 `DefaultContainerName` 특성 및 바꿀를 `ContextTypeName="ContosoUniversity.DAL.SchoolEntities"` 특성입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-200">In the markup for the `EntityDataSource` control, remove the `ConnectionString` and `DefaultContainerName` attributes and replace them with a `ContextTypeName="ContosoUniversity.DAL.SchoolEntities"` attribute.</span></span> <span data-ttu-id="bd03b-201">이 만들 때마다 해야 변경은 `EntityDataSource` 개체 컨텍스트 클래스에서 하드 코딩 된 것과에서 다른 연결을 사용 하려면 필요 하지 않은 경우를 제어 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-201">This is a change you should make every time you create an `EntityDataSource` control, unless you need to use a connection that is different from the one that's hard-coded in the object context class.</span></span> <span data-ttu-id="bd03b-202">사용 하는 `ContextTypeName` 특성은 다음과 같은 이점을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-202">Using the `ContextTypeName` attribute provides the following benefits:</span></span>

- <span data-ttu-id="bd03b-203">성능 향상.</span><span class="sxs-lookup"><span data-stu-id="bd03b-203">Better performance.</span></span> <span data-ttu-id="bd03b-204">경우는 `EntityDataSource` 제어를 사용 하 여 데이터 모델을 초기화 합니다 `ConnectionString` 및 `DefaultContainerName` 특성인 모든 요청에 대 한 메타 데이터를 로드 하기 위해 추가 작업 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-204">When the `EntityDataSource` control initializes the data model using the `ConnectionString` and `DefaultContainerName` attributes, it performs additional work to load metadata on every request.</span></span> <span data-ttu-id="bd03b-205">지정 하는 경우에 필요 하지 않습니다는 `ContextTypeName` 특성입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-205">This isn't necessary if you specify the `ContextTypeName` attribute.</span></span>
- <span data-ttu-id="bd03b-206">생성 된 개체 컨텍스트 클래스에는 기본적으로 지연 로딩 상태에서 (같은 `SchoolEntities` 이 자습서에서는) Entity Framework 4.0에서 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-206">Lazy loading is turned on by default in generated object context classes (such as `SchoolEntities` in this tutorial) in Entity Framework 4.0.</span></span> <span data-ttu-id="bd03b-207">이 탐색 속성은 로드 관련된 데이터를 사용 하 여 자동으로 필요할 때 바로 것을 의미 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-207">This means that navigation properties are loaded with related data automatically right when you need it.</span></span> <span data-ttu-id="bd03b-208">지연 로드는이 자습서의 뒷부분에서 자세히 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-208">Lazy loading is explained in more detail later in this tutorial.</span></span>
- <span data-ttu-id="bd03b-209">개체 컨텍스트 클래스에 적용 한 모든 사용자 지정 (이 경우에 `SchoolEntities` 클래스)를 사용 하는 컨트롤에 사용할 수는 `EntityDataSource` 제어 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-209">Any customizations that you've applied to the object context class (in this case, the `SchoolEntities` class) will be available to controls that use the `EntityDataSource` control.</span></span> <span data-ttu-id="bd03b-210">개체 컨텍스트 클래스를 사용자 지정 하는 것은이 자습서 시리즈에서 다루지 않는 고급 항목입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-210">Customizing the object context class is an advanced topic that is not covered in this tutorial series.</span></span> <span data-ttu-id="bd03b-211">자세한 내용은 [Entity Framework 생성 형식 확장](https://msdn.microsoft.com/library/dd456844.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-211">For more information, see [Extending Entity Framework Generated Types](https://msdn.microsoft.com/library/dd456844.aspx).</span></span>

<span data-ttu-id="bd03b-212">태그는 이제 다음 예와 유사 합니다 (속성의 순서는 다른 수 있음):</span><span class="sxs-lookup"><span data-stu-id="bd03b-212">The markup will now resemble the following example (the order of the properties might be different):</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample6.aspx)]

<span data-ttu-id="bd03b-213">`EnableFlattening` 특성이 있는 외래 키 열 된 엔터티 속성으로 노출 되지 않으므로 이전 버전의 Entity Framework에 필요한 기능을 참조 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-213">The `EnableFlattening` attribute refers to a feature that was needed in earlier versions of the Entity Framework because foreign key columns were not exposed as entity properties.</span></span> <span data-ttu-id="bd03b-214">현재 버전을 사용 하면 사용할 수 *외래 키 연결*를 제외한 모든 다 대 다 연결에 대 한 노출 된 외래 키 속성 의미 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-214">The current version makes it possible to use *foreign key associations*, which means foreign key properties are exposed for all but many-to-many associations.</span></span> <span data-ttu-id="bd03b-215">엔터티에 외래 키 속성 및 없는 경우 [복합 형식](https://msdn.microsoft.com/library/bb738472.aspx)로이 특성을 두면 `False`.</span><span class="sxs-lookup"><span data-stu-id="bd03b-215">If your entities have foreign key properties and no [complex types](https://msdn.microsoft.com/library/bb738472.aspx), you can leave this attribute set to `False`.</span></span> <span data-ttu-id="bd03b-216">기본값 이므로 태그에서 특성을 제거 하지 `True`합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-216">Don't remove the attribute from the markup, because the default value is `True`.</span></span> <span data-ttu-id="bd03b-217">자세한 내용은 [평면화 개체 (EntityDataSource)](https://msdn.microsoft.com/library/ee404746.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-217">For more information, see [Flattening Objects (EntityDataSource)](https://msdn.microsoft.com/library/ee404746.aspx).</span></span>

<span data-ttu-id="bd03b-218">페이지를 실행 하 고 학생과 직원 (필터링만 학생을 위한 다음 자습서에서)의 목록을 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-218">Run the page and you see a list of students and employees (you'll filter for just students in the next tutorial).</span></span> <span data-ttu-id="bd03b-219">첫 번째 이름과 마지막 이름 함께 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-219">The first name and last name are displayed together.</span></span>

<span data-ttu-id="bd03b-220">[![Image07](the-entity-framework-and-aspnet-getting-started-part-2/_static/image36.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-220">[![Image07](the-entity-framework-and-aspnet-getting-started-part-2/_static/image36.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image35.png)</span></span>

<span data-ttu-id="bd03b-221">표시를 정렬 하려면 열 이름을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-221">To sort the display, click a column name.</span></span>

<span data-ttu-id="bd03b-222">클릭 **편집** 모든 행에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-222">Click **Edit** in any row.</span></span> <span data-ttu-id="bd03b-223">텍스트 상자에 첫 번째 및 마지막 이름을 변경할 수 있는 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-223">Text boxes are displayed where you can change the first and last name.</span></span>

<span data-ttu-id="bd03b-224">[![Image08](the-entity-framework-and-aspnet-getting-started-part-2/_static/image38.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-224">[![Image08](the-entity-framework-and-aspnet-getting-started-part-2/_static/image38.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image37.png)</span></span>

<span data-ttu-id="bd03b-225">합니다 **삭제** 단추가 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-225">The **Delete** button also works.</span></span> <span data-ttu-id="bd03b-226">등록 날짜를 행에 대 한 삭제를 클릭 하 고 행 사라집니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-226">Click delete for a row that has an enrollment date and the row disappears.</span></span> <span data-ttu-id="bd03b-227">(등록 날짜 없이 행 나타내는 강사 및 참조 무결성 오류가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-227">(Rows without an enrollment date represent instructors and you may get a referential integrity error.</span></span> <span data-ttu-id="bd03b-228">다음 자습서에서에서는이 목록을 필터링 할 뿐 학생을 포함 하도록 합니다.)</span><span class="sxs-lookup"><span data-stu-id="bd03b-228">In the next tutorial you'll filter this list to include just students.)</span></span>

## <a name="displaying-data-from-a-navigation-property"></a><span data-ttu-id="bd03b-229">탐색 속성에서 데이터를 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-229">Displaying Data from a Navigation Property</span></span>

<span data-ttu-id="bd03b-230">이제 얼마나 많은 분야의 교육 알아야 한다고 가정 합시다 각 학생에 등록 됩니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-230">Now suppose you want to know how many courses each student is enrolled in.</span></span> <span data-ttu-id="bd03b-231">Entity Framework에서 해당 정보를 제공 합니다 `StudentGrades` 의 탐색 속성은 `Person` 엔터티.</span><span class="sxs-lookup"><span data-stu-id="bd03b-231">The Entity Framework provides that information in the `StudentGrades` navigation property of the `Person` entity.</span></span> <span data-ttu-id="bd03b-232">데이터베이스 디자인에서 할당 되는 등급 필요 없이 강좌에 등록할 수는 학생을 허용 하지 않으므로,이 자습서에 대 한 가정할 수 있습니다에 해당 있으면 행을 `StudentGrade` 강좌와 연결 된 테이블 행 과정에 등록 되 고와 같습니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-232">Because the database design does not allow a student to be enrolled in a course without having a grade assigned, for this tutorial you can assume that having a row in the `StudentGrade` table row that is associated with a course is the same as being enrolled in the course.</span></span> <span data-ttu-id="bd03b-233">(의 `Courses` 탐색 속성은 강사에 대해서만 합니다.)</span><span class="sxs-lookup"><span data-stu-id="bd03b-233">(The `Courses` navigation property is only for instructors.)</span></span>

<span data-ttu-id="bd03b-234">사용 하는 경우는 `ContextTypeName` 특성을 `EntityDataSource` 컨트롤, Entity Framework 자동으로 검색 탐색 속성에 대 한 정보는 속성에 액세스 하면 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-234">When you use the `ContextTypeName` attribute of the `EntityDataSource` control, the Entity Framework automatically retrieves information for a navigation property when you access that property.</span></span> <span data-ttu-id="bd03b-235">이 이라고 *지연 로드*합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-235">This is called *lazy loading*.</span></span> <span data-ttu-id="bd03b-236">그러나이 비효율적일 수 있습니다, 각 시간 추가 정보가 필요한 데이터베이스에 대 한 별도 호출에 있기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-236">However, this can be inefficient, because it results in a separate call to the database each time additional information is needed.</span></span> <span data-ttu-id="bd03b-237">반환 된 모든 엔터티에 대 한 탐색 속성의 데이터를 해야 하는 경우는 `EntityDataSource` 컨트롤 것이 데이터베이스에 대 한 단일 호출에서 엔터티 자체와 함께 관련된 데이터를 검색 하는 것이 효율적입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-237">If you need data from the navigation property for every entity returned by the `EntityDataSource` control, it's more efficient to retrieve the related data along with the entity itself in a single call to the database.</span></span> <span data-ttu-id="bd03b-238">이것을 *선행 로딩과*를 설정 하 여 탐색 속성에 대해 즉시 로드를 지정 하 고는 `Include` 의 속성을 `EntityDataSource` 컨트롤입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-238">This is called *eager loading*, and you specify eager loading for a navigation property by setting the `Include` property of the `EntityDataSource` control.</span></span>

<span data-ttu-id="bd03b-239">*Students.aspx*모든 학생의 코스 수를 표시 하려면, 따라서 즉시 로드는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-239">In *Students.aspx*, you want to show the number of courses for every student, so eager loading is the best choice.</span></span> <span data-ttu-id="bd03b-240">모든 학생 들이 표시 되었다가 과정의 수를 보여 주는 경우 몇 가지 (해야 하는 태그 외에도 몇 가지 코드 작성)에 대해서만 지연 로드를 더 적합할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-240">If you were displaying all students but showing the number of courses only for a few of them (which would require writing some code in addition to the markup), lazy loading might be a better choice.</span></span>

<span data-ttu-id="bd03b-241">열거나으로 전환 *Students.aspx*, 전환할 **디자인** 뷰의 `StudentsEntityDataSource`, 및를 **속성** 창 집합은 **포함**속성을 **StudentGrades**합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-241">Open or switch to *Students.aspx*, switch to **Design** view, select `StudentsEntityDataSource`, and in the **Properties** window set the **Include** property to **StudentGrades**.</span></span> <span data-ttu-id="bd03b-242">(여러 탐색 속성을 구현 하려고 하는 경우 쉼표로 구분 하 여 해당 이름을 지정할 수 있습니다-예를 들어 **StudentGrades, 교육 코스**.)</span><span class="sxs-lookup"><span data-stu-id="bd03b-242">(If you wanted to get multiple navigation properties, you could specify their names separated by commas — for example, **StudentGrades, Courses**.)</span></span>

<span data-ttu-id="bd03b-243">[![Image19](the-entity-framework-and-aspnet-getting-started-part-2/_static/image40.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image39.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-243">[![Image19](the-entity-framework-and-aspnet-getting-started-part-2/_static/image40.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image39.png)</span></span>

<span data-ttu-id="bd03b-244">전환할 **원본** 보기.</span><span class="sxs-lookup"><span data-stu-id="bd03b-244">Switch to **Source** view.</span></span> <span data-ttu-id="bd03b-245">에 `StudentsGridView` 마지막 컨트롤 `asp:TemplateField` 요소를 추가한 다음 서식 파일 필드:</span><span class="sxs-lookup"><span data-stu-id="bd03b-245">In the `StudentsGridView` control, after the last `asp:TemplateField` element, add the following new template field:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample7.aspx)]

<span data-ttu-id="bd03b-246">에 `Eval` 식에 탐색 속성을 참조할 수 있습니다 `StudentGrades`합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-246">In the `Eval` expression, you can reference the navigation property `StudentGrades`.</span></span> <span data-ttu-id="bd03b-247">이 속성 컬렉션에 포함 되어 있으므로 있기를 `Count` 학생이 등록 된 강좌의 번호가 표시 하는 데 사용할 수 있는 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-247">Because this property contains a collection, it has a `Count` property that you can use to display the number of courses in which the student is enrolled.</span></span> <span data-ttu-id="bd03b-248">자습서의 뒷부분에서 컬렉션 대신 단일 엔터티를 포함 하는 탐색 속성에서 데이터를 표시 하는 방법을 배웁니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-248">In a later tutorial you'll see how to display data from navigation properties that contain single entities instead of collections.</span></span> <span data-ttu-id="bd03b-249">(사용할 수 없습니다는 `BoundField` 탐색 속성에서 데이터를 표시 하는 요소입니다.)</span><span class="sxs-lookup"><span data-stu-id="bd03b-249">(Note that you cannot use `BoundField` elements to display data from navigation properties.)</span></span>

<span data-ttu-id="bd03b-250">페이지를 실행 하 고 각 강좌 수 학생에 등록 되어 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-250">Run the page and you now see how many courses each student is enrolled in.</span></span>

<span data-ttu-id="bd03b-251">[![Image20](the-entity-framework-and-aspnet-getting-started-part-2/_static/image42.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-251">[![Image20](the-entity-framework-and-aspnet-getting-started-part-2/_static/image42.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image41.png)</span></span>

## <a name="using-a-detailsview-control-to-insert-entities"></a><span data-ttu-id="bd03b-252">DetailsView 컨트롤을 사용 하 여 엔터티를 삽입 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-252">Using a DetailsView Control to Insert Entities</span></span>

<span data-ttu-id="bd03b-253">이 페이지를 만들려면 다음 단계는는 `DetailsView` 새 학생을 추가할 수 있도록 컨트롤입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-253">The next step is to create a page that has a `DetailsView` control that will let you add new students.</span></span> <span data-ttu-id="bd03b-254">브라우저를 닫고 만든 다음 사용 하 여 새 웹 페이지의 *Site.Master* 마스터 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-254">Close the browser and then create a new web page using the *Site.Master* master page.</span></span> <span data-ttu-id="bd03b-255">페이지의 이름을 *StudentsAdd.aspx*, 한 다음으로 전환 **원본** 보기.</span><span class="sxs-lookup"><span data-stu-id="bd03b-255">Name the page *StudentsAdd.aspx*, and then switch to **Source** view.</span></span>

<span data-ttu-id="bd03b-256">에 대 한 기존 태그를 바꾸려면 다음 태그를 추가 합니다 `Content` 제어 라는 `Content2`:</span><span class="sxs-lookup"><span data-stu-id="bd03b-256">Add the following markup to replace the existing markup for the `Content` control named `Content2`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample8.aspx)]

<span data-ttu-id="bd03b-257">이 태그를 만듭니다는 `EntityDataSource` 컨트롤에서 만든 것과 비슷한입니다 *Students.aspx*삽입 수 있도록 제외 하 고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-257">This markup creates an `EntityDataSource` control that is similar to the one you created in *Students.aspx*, except it enables insertion.</span></span> <span data-ttu-id="bd03b-258">와 마찬가지로 합니다 `GridView` 컨트롤의 바인딩된 필드는 `DetailsView` 엔터티 속성을 참조 하는 점을 제외 하 고 데이터베이스에 직접 연결 하는 데이터 컨트롤에 대 한 것 처럼 정확 하 게 제어 코딩 됩니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-258">As with the `GridView` control, the bound fields of the `DetailsView` control are coded exactly as they would be for a data control that connects directly to a database, except that they reference entity properties.</span></span> <span data-ttu-id="bd03b-259">이 경우에 `DetailsView` 컨트롤은 기본 모드를 설정한 경우 있도록 행 삽입에 사용 `Insert`합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-259">In this case, the `DetailsView` control is used only for inserting rows, so you have set the default mode to `Insert`.</span></span>

<span data-ttu-id="bd03b-260">페이지를 실행 하 고 새 학생을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-260">Run the page and add a new student.</span></span>

<span data-ttu-id="bd03b-261">[![Image09](the-entity-framework-and-aspnet-getting-started-part-2/_static/image44.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-261">[![Image09](the-entity-framework-and-aspnet-getting-started-part-2/_static/image44.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image43.png)</span></span>

<span data-ttu-id="bd03b-262">하지만 이제 실행 하는 경우 새 학생을 삽입 하면 아무 작업도 *Students.aspx*, 새로운 학생 정보를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-262">Nothing will happen after you insert a new student, but if you now run *Students.aspx*, you'll see the new student information.</span></span>

## <a name="displaying-data-in-a-drop-down-list"></a><span data-ttu-id="bd03b-263">드롭다운 목록에서 데이터를 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-263">Displaying Data in a Drop-Down List</span></span>

<span data-ttu-id="bd03b-264">Databind 살펴볼 다음 단계에는 `DropDownList` 컨트롤을 사용 하 여 설정 하는 엔터티는 `EntityDataSource` 컨트롤입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-264">In the following steps you'll databind a `DropDownList` control to an entity set using an `EntityDataSource` control.</span></span> <span data-ttu-id="bd03b-265">자습서의이 부분에서는이 목록을 사용 하 여 많은 수행할 없습니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-265">In this part of the tutorial, you won't do much with this list.</span></span> <span data-ttu-id="bd03b-266">다음 부분 그러나 있습니다를 사용 하 여 목록 사용자가 부서와 관련 된 강의 표시 하려면 부서를 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-266">In subsequent parts, though, you'll use the list to let users select a department to display courses associated with the department.</span></span>

<span data-ttu-id="bd03b-267">라는 새 웹 페이지를 만듭니다 *Courses.aspx*합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-267">Create a new web page named *Courses.aspx*.</span></span> <span data-ttu-id="bd03b-268">**소스** 보기에서 머리글을 추가 합니다 `Content` 라는 컨트롤을 `Content2`:</span><span class="sxs-lookup"><span data-stu-id="bd03b-268">In **Source** view, add a heading to the `Content` control that's named `Content2`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample9.aspx)]

<span data-ttu-id="bd03b-269">**디자인** 보기에서 추가 `EntityDataSource` 컨트롤을 페이지 이전에 수행한 것 처럼이 시간을 제외 하 고 이름을 `DepartmentsEntityDataSource`입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-269">In **Design** view, add an `EntityDataSource` control to the page as you did before, except this time name it `DepartmentsEntityDataSource`.</span></span> <span data-ttu-id="bd03b-270">선택 **부서** 으로 **EntitySetName** 값을 선택 합니다 **DepartmentID** 및 **이름** 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-270">Select **Departments** as the **EntitySetName** value, and select only the **DepartmentID** and **Name** properties.</span></span>

<span data-ttu-id="bd03b-271">[![Image15](the-entity-framework-and-aspnet-getting-started-part-2/_static/image46.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-271">[![Image15](the-entity-framework-and-aspnet-getting-started-part-2/_static/image46.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image45.png)</span></span>

<span data-ttu-id="bd03b-272">**표준** 탭의 **도구 상자**, 끌어를 `DropDownList` 페이지로 컨트롤을 이름을 `DepartmentsDropDownList`, 스마트 태그를 클릭 하 고 선택 **데이터 소스 선택** 를 시작 합니다 **데이터 소스 구성 마법사**합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-272">From the **Standard** tab of the **Toolbox**, drag a `DropDownList` control to the page, name it `DepartmentsDropDownList`, click the smart tag, and select **Choose Data Source** to start the **DataSource Configuration Wizard**.</span></span>

<span data-ttu-id="bd03b-273">[![Image16](the-entity-framework-and-aspnet-getting-started-part-2/_static/image48.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image47.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-273">[![Image16](the-entity-framework-and-aspnet-getting-started-part-2/_static/image48.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image47.png)</span></span>

<span data-ttu-id="bd03b-274">에 **데이터 원본 선택** 단계 선택 **DepartmentsEntityDataSource** 데이터 원본으로 클릭 **스키마 새로 고침**를 선택한 후 **이름** 표시할 데이터 필드와 **DepartmentID** 값 데이터 필드입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-274">In the **Choose a Data Source** step, select **DepartmentsEntityDataSource** as the data source, click **Refresh Schema**, and then select **Name** as the data field to display and **DepartmentID** as the value data field.</span></span> <span data-ttu-id="bd03b-275">**확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-275">Click **OK**.</span></span>

<span data-ttu-id="bd03b-276">[![Image17](the-entity-framework-and-aspnet-getting-started-part-2/_static/image50.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-276">[![Image17](the-entity-framework-and-aspnet-getting-started-part-2/_static/image50.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image49.png)</span></span>

<span data-ttu-id="bd03b-277">Entity Framework를 사용 하 여 컨트롤 데이터 바인딩에 사용 하는 방법은 다른 ASP.NET 데이터 소스 컨트롤 온다는 점만 다릅니다 지정 하는 엔터티 및 엔터티 속성으로 동일 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-277">The method you use to databind the control using the Entity Framework is the same as with other ASP.NET data source controls except you're specifying entities and entity properties.</span></span>

<span data-ttu-id="bd03b-278">전환할 **원본** 보기 및 추가 "부서 선택:" 직전는 `DropDownList` 컨트롤.</span><span class="sxs-lookup"><span data-stu-id="bd03b-278">Switch to **Source** view and add "Select a department:" immediately before the `DropDownList` control.</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample10.aspx)]

<span data-ttu-id="bd03b-279">참고로, 변경에 대 한 태그를 `EntityDataSource` 대체 하 여이 시점에 컨트롤을 `ConnectionString` 및 `DefaultContainerName` 특성을 `ContextTypeName="ContosoUniversity.DAL.SchoolEntities"` 특성.</span><span class="sxs-lookup"><span data-stu-id="bd03b-279">As a reminder, change the markup for the `EntityDataSource` control at this point by replacing the `ConnectionString` and `DefaultContainerName` attributes with a `ContextTypeName="ContosoUniversity.DAL.SchoolEntities"` attribute.</span></span> <span data-ttu-id="bd03b-280">것이 좋습니다 변경 하기 전에 데이터 소스 컨트롤에 연결 된 데이터 바인딩된 컨트롤을 만든 후 될 때까지 대기 하는 `EntityDataSource` 변경을 수행한 후 디자이너를 제공 하지 않으므로으로 태그를 제어는 **새로 고침 스키마** 데이터 바인딩된 컨트롤에서 옵션입니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-280">It's often best to wait until after you've created the data-bound control that is linked to the data source control before you change the `EntityDataSource` control markup, because after you make the change, the designer will not provide you with a **Refresh Schema** option in the data-bound control.</span></span>

<span data-ttu-id="bd03b-281">페이지를 실행 하 고 드롭다운 목록에서 부서를 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-281">Run the page and you can select a department from the drop-down list.</span></span>

<span data-ttu-id="bd03b-282">[![Image18](the-entity-framework-and-aspnet-getting-started-part-2/_static/image52.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image51.png)</span><span class="sxs-lookup"><span data-stu-id="bd03b-282">[![Image18](the-entity-framework-and-aspnet-getting-started-part-2/_static/image52.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image51.png)</span></span>

<span data-ttu-id="bd03b-283">사용 하 여에 대 한 소개를 완료 합니다 `EntityDataSource` 제어 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-283">This completes the introduction to using the `EntityDataSource` control.</span></span> <span data-ttu-id="bd03b-284">이 컨트롤을 사용 하 여 작업은 일반적으로 다르지 않습니다 다른 ASP.NET 데이터 소스 컨트롤을 작업 제외 하 고 엔터티와 테이블 및 열 대신 속성을 참조 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-284">Working with this control is generally no different from working with other ASP.NET data source controls, except that you reference entities and properties instead of tables and columns.</span></span> <span data-ttu-id="bd03b-285">유일한 예외는 탐색 속성에 액세스 하려는 경우에 합니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-285">The only exception is when you want to access navigation properties.</span></span> <span data-ttu-id="bd03b-286">다음 자습서에서 보면 사용 하는 구문을 사용 하 여 `EntityDataSource` 컨트롤 필터링, 그룹화 및 데이터를 정렬 하는 경우에 다른 데이터 소스 컨트롤에서 달라질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="bd03b-286">In the next tutorial you'll see that the syntax you use with `EntityDataSource` control might also differ from other data source controls when you filter, group, and order data.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="bd03b-287">[이전](the-entity-framework-and-aspnet-getting-started-part-1.md)
> [다음](the-entity-framework-and-aspnet-getting-started-part-3.md)</span><span class="sxs-lookup"><span data-stu-id="bd03b-287">[Previous](the-entity-framework-and-aspnet-getting-started-part-1.md)
[Next](the-entity-framework-and-aspnet-getting-started-part-3.md)</span></span>
