---
uid: web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-web-services
title: ASP.NET AJAX 웹 서비스 이해 | Microsoft Docs
author: scottcate
description: 웹 서비스는 분산된 시스템 간에 데이터를 교환 하기 위한 플랫폼 간 솔루션을 제공 하는.NET framework의 필수적인 부분입니다. 하지만 웹...
ms.author: riande
ms.date: 03/28/2008
ms.assetid: 3332d6e7-e2e1-4144-b805-e71d51e7e415
msc.legacyurl: /web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-web-services
msc.type: authoredcontent
ms.openlocfilehash: 5e59077373b68b907391eff5349e1925222792a3
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57028110"
---
<a name="understanding-aspnet-ajax-web-services"></a><span data-ttu-id="87c3c-104">ASP.NET AJAX 웹 서비스 이해</span><span class="sxs-lookup"><span data-stu-id="87c3c-104">Understanding ASP.NET AJAX Web Services</span></span>
====================
<span data-ttu-id="87c3c-105">[Scott Cate](https://github.com/scottcate)</span><span class="sxs-lookup"><span data-stu-id="87c3c-105">by [Scott Cate](https://github.com/scottcate)</span></span>

[<span data-ttu-id="87c3c-106">PDF 다운로드</span><span class="sxs-lookup"><span data-stu-id="87c3c-106">Download PDF</span></span>](http://download.microsoft.com/download/C/1/9/C19A3451-1D14-477C-B703-54EF22E197EE/AJAX_tutorial05_Web_Services_with_MS_Ajax_cs.pdf)

> <span data-ttu-id="87c3c-107">웹 서비스는 분산된 시스템 간에 데이터를 교환 하기 위한 플랫폼 간 솔루션을 제공 하는.NET framework의 필수적인 부분입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-107">Web Services are an integral part of the .NET framework that provide a cross-platform solution for exchanging data between distributed systems.</span></span> <span data-ttu-id="87c3c-108">웹 서비스는 일반적으로 서로 다른 운영 체제, 개체 모델 및 프로그래밍 언어 데이터를 받고 보내는 데 허용 하는 데 사용 됩니다, 있지만 이러한 데도 사용할 수 있습니다 동적으로 ASP.NET AJAX 페이지에 데이터 삽입 또는 백 엔드 시스템에는 페이지에서 데이터를 전송 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-108">Although Web Services are normally used to allow different operating systems, object models and programming languages to send and receive data, they can also be used to dynamically inject data into an ASP.NET AJAX page or send data from a page to a back-end system.</span></span> <span data-ttu-id="87c3c-109">이 모든 작업을 다시 게시 하지 않고도 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-109">All of this can be done without resorting to postback operations.</span></span>


## <a name="calling-web-services-with-aspnet-ajax"></a><span data-ttu-id="87c3c-110">ASP.NET AJAX와 함께 웹 서비스 호출</span><span class="sxs-lookup"><span data-stu-id="87c3c-110">Calling Web Services with ASP.NET AJAX</span></span>

<span data-ttu-id="87c3c-111">Dan Wahlin</span><span class="sxs-lookup"><span data-stu-id="87c3c-111">Dan Wahlin</span></span>

<span data-ttu-id="87c3c-112">웹 서비스는 분산된 시스템 간에 데이터를 교환 하기 위한 플랫폼 간 솔루션을 제공 하는.NET framework의 필수적인 부분입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-112">Web Services are an integral part of the .NET framework that provide a cross-platform solution for exchanging data between distributed systems.</span></span> <span data-ttu-id="87c3c-113">웹 서비스는 일반적으로 서로 다른 운영 체제, 개체 모델 및 프로그래밍 언어 데이터를 받고 보내는 데 허용 하는 데 사용 됩니다, 있지만 이러한 데도 사용할 수 있습니다 동적으로 ASP.NET AJAX 페이지에 데이터 삽입 또는 백 엔드 시스템에는 페이지에서 데이터를 전송 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-113">Although Web Services are normally used to allow different operating systems, object models and programming languages to send and receive data, they can also be used to dynamically inject data into an ASP.NET AJAX page or send data from a page to a back-end system.</span></span> <span data-ttu-id="87c3c-114">이 모든 작업을 다시 게시 하지 않고도 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-114">All of this can be done without resorting to postback operations.</span></span>

<span data-ttu-id="87c3c-115">ASP.NET AJAX UpdatePanel 컨트롤은 AJAX 하는 간단한 방법을 제공 하지만 ASP.NET 페이지를 사용 하도록 설정, UpdatePanel을 사용 하지 않고 서버에서 데이터를 동적으로 액세스 해야 하는 경우가 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-115">While the ASP.NET AJAX UpdatePanel control provides a simple way to AJAX enable any ASP.NET page, there may be times when you need to dynamically access data on the server without using an UpdatePanel.</span></span> <span data-ttu-id="87c3c-116">이 문서에서는 만들고 ASP.NET AJAX 페이지 내에서 웹 서비스를 사용 하 여이 작업을 수행 하는 방법을 배웁니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-116">In this article you'll see how to accomplish this by creating and consuming Web Services within ASP.NET AJAX pages.</span></span>

<span data-ttu-id="87c3c-117">이 문서는 AutoCompleteExtender 라는 ASP.NET AJAX Toolkit 컨트롤을 사용 하도록 설정 하는 웹 서비스를 비롯 하 여 핵심 ASP.NET AJAX 확장에 사용할 수 있는 기능에 집중 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-117">This article will focus on functionality available in the core ASP.NET AJAX Extensions as well as a Web Service enabled control in the ASP.NET AJAX Toolkit called the AutoCompleteExtender.</span></span> <span data-ttu-id="87c3c-118">다룹니다 AJAX 지원 웹 서비스를 정의 클라이언트 프록시를 만들기 및 JavaScript 사용 하 여 웹 서비스를 호출 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-118">Topics covered include defining AJAX-enabled Web Services, creating client proxies and calling Web Services with JavaScript.</span></span> <span data-ttu-id="87c3c-119">또한 ASP.NET 페이지 메서드를 직접 웹 서비스 호출 수 하는 방법을 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-119">You'll also see how Web Service calls can be made directly to ASP.NET page methods.</span></span>

## <a name="web-services-configuration"></a><span data-ttu-id="87c3c-120">웹 서비스 구성</span><span class="sxs-lookup"><span data-stu-id="87c3c-120">Web Services Configuration</span></span>

<span data-ttu-id="87c3c-121">Visual Studio 2008을 사용 하 여 새 웹 사이트 프로젝트를 만들면 web.config 파일에는 여러 가지 Visual Studio의 이전 버전의 사용자에 게 친숙 하지 않을 수 있는 새로운 기능</span><span class="sxs-lookup"><span data-stu-id="87c3c-121">When a new Web Site project is created with Visual Studio 2008, the web.config file has a number of new additions that may be unfamiliar to users of previous versions of Visual Studio.</span></span> <span data-ttu-id="87c3c-122">몇 가지 이러한 수정 사항은 매핑하므로 "asp" 접두사 ASP.NET AJAX 컨트롤에 다른 필수 HttpHandlers 및 HttpModules를 정의 하는 동안 페이지에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-122">Some of these modifications map the "asp" prefix to ASP.NET AJAX controls so they can be used in pages while others define required HttpHandlers and HttpModules.</span></span> <span data-ttu-id="87c3c-123">수정 된 표시 목록 1은 `<httpHandlers>` 웹 서비스 호출에 영향을 주는 web.config의 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-123">Listing 1 shows modifications made to the `<httpHandlers>` element in web.config that affects Web Service calls.</span></span> <span data-ttu-id="87c3c-124">HttpHandler.asmx 호출을 처리 하는 데 사용 되는 기본 제거 하 고 System.Web.Extensions.dll 어셈블리에 있는 ScriptHandlerFactory 클래스를 사용 하 여 대체 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-124">The default HttpHandler used to process .asmx calls is removed and replaced with a ScriptHandlerFactory class located in the System.Web.Extensions.dll assembly.</span></span> <span data-ttu-id="87c3c-125">System.Web.Extensions.dll 모든 ASP.NET AJAX에서 사용 하는 핵심 기능을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-125">System.Web.Extensions.dll contains all of the core functionality used by ASP.NET AJAX.</span></span>

<span data-ttu-id="87c3c-126">**목록 1. ASP.NET AJAX 웹 서비스 처리기 구성**</span><span class="sxs-lookup"><span data-stu-id="87c3c-126">**Listing 1. ASP.NET AJAX Web Service Handler Configuration**</span></span>

[!code-xml[Main](understanding-asp-net-ajax-web-services/samples/sample1.xml)]

<span data-ttu-id="87c3c-127">이 HttpHandler 대체 JavaScript 웹 서비스 프록시를 사용 하 여 ASP.NET AJAX 페이지에서.NET 웹 서비스에 대 한 개체 JSON (JavaScript Notation) 호출을 허용 하기 위해 수행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-127">This HttpHandler replacement is made in order to allow JavaScript Object Notation (JSON) calls to be made from ASP.NET AJAX pages to .NET Web Services using a JavaScript Web Service proxy.</span></span> <span data-ttu-id="87c3c-128">ASP.NET AJAX 웹 서비스에 일반적으로 웹 서비스와 관련 된 표준 SOAP Simple Object Access Protocol () 호출 대신 JSON 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-128">ASP.NET AJAX sends JSON messages to Web Services as opposed to the standard Simple Object Access Protocol (SOAP) calls typically associated with Web Services.</span></span> <span data-ttu-id="87c3c-129">이 인해 작은 요청 및 응답 메시지 전체에서.</span><span class="sxs-lookup"><span data-stu-id="87c3c-129">This results in smaller request and response messages overall.</span></span> <span data-ttu-id="87c3c-130">또한 있습니다 데이터의 보다 효율적인 클라이언트 쪽 처리를 위해 ASP.NET AJAX JavaScript 라이브러리를 JSON 개체를 사용 하도록 최적화 되어 있으므로.</span><span class="sxs-lookup"><span data-stu-id="87c3c-130">It also allows for more efficient client-side processing of data since the ASP.NET AJAX JavaScript library is optimized to work with JSON objects.</span></span> <span data-ttu-id="87c3c-131">2 및 3 목록 표시 예가를 JSON 형식으로 serialize 된 웹 서비스 요청 및 응답 메시지를 나열 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-131">Listing 2 and Listing 3 show examples of Web Service request and response messages serialized to JSON format.</span></span> <span data-ttu-id="87c3c-132">Customer 개체의 배열 및 관련된 속성 목록 3에서 응답 메시지를 전달 하는 동안 "벨기에"의 값을 사용 하 여 국가 매개 변수를 전달 하는 목록 2에 표시 되는 요청 메시지입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-132">The request message shown in Listing 2 passes a country parameter with a value of "Belgium" while the response message in Listing 3 passes an array of Customer objects and their associated properties.</span></span>

<span data-ttu-id="87c3c-133">**2를 나열 합니다. JSON으로 Serialize 하는 웹 서비스 요청 메시지**</span><span class="sxs-lookup"><span data-stu-id="87c3c-133">**Listing 2. Web Service Request Message Serialized to JSON**</span></span>

[!code-json[Main](understanding-asp-net-ajax-web-services/samples/sample2.json)]

> <span data-ttu-id="87c3c-134">*> [!NOTE] 웹 서비스 URL의 일부로 정의 작업 이름 또한 JSON을 통해 요청 메시지 항상 전송 되지 않습니다. 웹 서비스를 통해 전달 될 매개 변수는 true로 설정 된 UseHttpGet 매개 변수를 사용 하 여 ScriptMethod 특성을 활용할 수는 쿼리 문자열 매개 변수입니다.*</span><span class="sxs-lookup"><span data-stu-id="87c3c-134">*> [!NOTE] the operation name is defined as part of the URL to the web service; additionally, request messages are not always submitted via JSON. Web Services can utilize the ScriptMethod attribute with the UseHttpGet parameter set to true, which causes parameters to be passed via a the query string parameters.*</span></span>


<span data-ttu-id="87c3c-135">**코드 3. JSON으로 Serialize 하는 웹 서비스 응답 메시지**</span><span class="sxs-lookup"><span data-stu-id="87c3c-135">**Listing 3. Web Service Response Message Serialized to JSON**</span></span>

[!code-json[Main](understanding-asp-net-ajax-web-services/samples/sample3.json)]

<span data-ttu-id="87c3c-136">다음 섹션에서 JSON 요청 메시지를 처리 하 고 단순 및 복합 형식을 사용 하 여 응답 수 있는 웹 서비스를 만드는 방법을 배웁니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-136">In the next section you'll see how to create Web Services capable of handling JSON request messages and responding with both simple and complex types.</span></span>

## <a name="creating-ajax-enabled-web-services"></a><span data-ttu-id="87c3c-137">AJAX 사용 웹 서비스 만들기</span><span class="sxs-lookup"><span data-stu-id="87c3c-137">Creating AJAX-Enabled Web Services</span></span>

<span data-ttu-id="87c3c-138">ASP.NET AJAX 프레임 워크는 웹 서비스를 호출 하는 여러 가지를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-138">The ASP.NET AJAX framework provides several different ways to call Web Services.</span></span> <span data-ttu-id="87c3c-139">AutoCompleteExtender 컨트롤 (ASP.NET AJAX Toolkit 사용 가능) 또는 JavaScript를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-139">You can use the AutoCompleteExtender control (available in the ASP.NET AJAX Toolkit) or JavaScript.</span></span> <span data-ttu-id="87c3c-140">그러나 서비스를 호출 하기 전에 해야 AJAX 사용 하 여 해당 클라이언트 스크립트 코드에서 호출할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-140">However, before calling a service you have to AJAX-enable it so that it can be called by client-script code.</span></span>

<span data-ttu-id="87c3c-141">ASP.NET 웹 서비스에 접하는 여부 간단 하 게 만들기 및 AJAX 사용 서비스를 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-141">Whether or not you're new to ASP.NET Web Services, you'll find it straightforward to create and AJAX-enable services.</span></span> <span data-ttu-id="87c3c-142">.NET framework는 2002의 초기 릴리스 이후 ASP.NET 웹 서비스 만들기를 지원 하 고 ASP.NET AJAX Extensions는.NET framework의 기본 기능 집합에 따른 추가 AJAX 기능을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-142">The .NET framework has supported the creation of ASP.NET Web Services since its initial release in 2002 and the ASP.NET AJAX Extensions provide additional AJAX functionality that builds upon the .NET framework's default set of features.</span></span> <span data-ttu-id="87c3c-143">Visual Studio.NET 2008 베타 2는.asmx 웹 서비스 파일 만들기에 대 한 기본 제공 및 System.Web.Services.WebService 클래스에서 클래스 옆에 있는 관련된 코드를 자동으로 파생 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-143">Visual Studio .NET 2008 Beta 2 has built-in support for creating .asmx Web Service files and automatically derives associated code beside classes from the System.Web.Services.WebService class.</span></span> <span data-ttu-id="87c3c-144">클래스에 메서드를 추가 하면 웹 서비스 소비자가 호출 하기 위해에서 WebMethod 특성을 적용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-144">As you add methods into the class you must apply the WebMethod attribute in order for them to be called by Web Service consumers.</span></span>

<span data-ttu-id="87c3c-145">코드 4 GetCustomersByCountry() 라는 메서드에 WebMethod 특성을 적용 하는 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-145">Listing 4 shows an example of applying the WebMethod attribute to a method named GetCustomersByCountry().</span></span>

<span data-ttu-id="87c3c-146">**코드 4. WebMethod 특성을 사용 하 여 웹 서비스에서**</span><span class="sxs-lookup"><span data-stu-id="87c3c-146">**Listing 4. Using the WebMethod Attribute in a Web Service**</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample4.cs)]

<span data-ttu-id="87c3c-147">GetCustomersByCountry() 메서드 국가 매개 변수를 허용 하 고 고객 개체 배열을 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-147">The GetCustomersByCountry() method accepts a country parameter and returns a Customer object array.</span></span> <span data-ttu-id="87c3c-148">메서드로 전달 되는 국가 값은 호출, 데이터베이스에서 데이터를 검색 하는 데이터 계층 클래스 데이터를 사용 하 여 고객 개체 속성을 입력 하 고 배열을 반환 하는 비즈니스 계층 클래스에 전달 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-148">The country value passed into the method is forwarded to a business layer class which in turn calls a data layer class to retrieve the data from the database, fill the Customer object properties with data and return the array.</span></span>

## <a name="using-the-scriptservice-attribute"></a><span data-ttu-id="87c3c-149">ScriptService 특성을 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="87c3c-149">Using the ScriptService Attribute</span></span>

<span data-ttu-id="87c3c-150">특성을 사용 하면 웹 서비스에 표준 SOAP 메시지를 보내는 클라이언트에 의해 호출 될 GetCustomersByCountry() 메서드 WebMethod를 추가 하는 동안 기본적으로 ASP.NET AJAX 응용 프로그램에서 JSON 호출할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-150">While adding the WebMethod attribute allows the GetCustomersByCountry() method to be called by clients that send standard SOAP messages to the Web Service, it doesn't allow JSON calls to be made from ASP.NET AJAX applications out of the box.</span></span> <span data-ttu-id="87c3c-151">ASP.NET AJAX 확장을 적용 해야 할 수 있는 JSON 호출을 허용 하도록 `ScriptService` 특성을 웹 서비스 클래스.</span><span class="sxs-lookup"><span data-stu-id="87c3c-151">To allow JSON calls to be made you have to apply the ASP.NET AJAX Extension's `ScriptService` attribute to the Web Service class.</span></span> <span data-ttu-id="87c3c-152">이 JSON을 사용 하 여 응답 메시지를 보내려면 웹 서비스를 사용 하도록 설정 하 고 JSON 메시지를 전송 하 여 서비스를 호출 하려면 클라이언트 쪽 스크립트를 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-152">This enables a Web Service to send response messages formatted using JSON and allows client-side script to call a service by sending JSON messages.</span></span>

<span data-ttu-id="87c3c-153">목록 5 CustomersService 라는 웹 서비스 클래스에 ScriptService 특성이 적용 하는 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-153">Listing 5 shows an example of applying the ScriptService attribute to a Web Service class named CustomersService.</span></span>

<span data-ttu-id="87c3c-154">**5를 나열 합니다. ScriptService 특성 AJAX 지원 웹 서비스를 사용 하 여**</span><span class="sxs-lookup"><span data-stu-id="87c3c-154">**Listing 5. Using the ScriptService Attribute to AJAX-enable a Web Service**</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample5.cs)]

<span data-ttu-id="87c3c-155">ScriptService 특성이 AJAX 스크립트 코드에서 호출할 수 있습니다 나타내는 표식으로 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-155">The ScriptService attribute acts as a marker that indicates it can be called from AJAX script code.</span></span> <span data-ttu-id="87c3c-156">또한 백그라운드에서 발생 하는 JSON serialization 또는 deserialization 작업에 실제로 처리 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-156">It doesn't actually handle any of the JSON serialization or deserialization tasks that occur behind the scenes.</span></span> <span data-ttu-id="87c3c-157">(Web.config에 구성 됨) ScriptHandlerFactory 및 기타 관련된 클래스는 대량의 JSON 처리를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-157">The ScriptHandlerFactory (configured in web.config) and other related classes do the bulk of JSON processing.</span></span>

## <a name="using-the-scriptmethod-attribute"></a><span data-ttu-id="87c3c-158">ScriptMethod 특성을 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="87c3c-158">Using the ScriptMethod Attribute</span></span>

<span data-ttu-id="87c3c-159">ScriptService 특성이 ASP.NET AJAX 페이지에서 사용할 위해에서.NET 웹 서비스에서 정의 해야 하는 유일한 ASP.NET AJAX 특성이입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-159">The ScriptService attribute is the only ASP.NET AJAX attribute that has to be defined in a .NET Web Service in order for it to be used by ASP.NET AJAX pages.</span></span> <span data-ttu-id="87c3c-160">그러나 ScriptMethod 라는 다른 특성을 서비스에서 웹 메서드를 직접도 적용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-160">However, another attribute named ScriptMethod can also be applied directly to Web Methods in a service.</span></span> <span data-ttu-id="87c3c-161">포함 하는 세 가지 속성을 정의 하는 ScriptMethod `UseHttpGet`, `ResponseFormat` 고 `XmlSerializeString`입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-161">ScriptMethod defines three properties including `UseHttpGet`, `ResponseFormat` and `XmlSerializeString`.</span></span> <span data-ttu-id="87c3c-162">이러한 속성의 값을 변경 웹 메서드에서 허용 하는 요청의 형식을 웹 메서드를 원시 XML 데이터 형식으로 반환 해야 하는 경우 GET로 변경 해야 하는 경우에 유용할 수 있습니다는 `XmlDocument` 또는 `XmlElement` 개체나 데이터에서 반환 하는 경우는  서비스는 항상 XML 대신 JSON으로 serialize 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-162">Changing the values of these properties can be useful in cases where the type of request accepted by a Web Method needs to be changed to GET, when a Web Method needs to return raw XML data in the form of an `XmlDocument` or `XmlElement` object or when data returned from a service should always be serialized as XML instead of JSON.</span></span>

<span data-ttu-id="87c3c-163">웹 메서드를 사용 해야 하는 경우 속성을 사용할 수 있습니다 UseHttpGet POST 요청이 아닌 요청을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-163">The UseHttpGet property can be used when a Web Method should accept GET requests as opposed to POST requests.</span></span> <span data-ttu-id="87c3c-164">요청 쿼리 문자열 매개 변수로 변환 웹 메서드에 입력된 매개 변수를 사용 하 여 URL을 사용 하 여 전송 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-164">Requests are sent using a URL with Web Method input parameters converted to QueryString parameters.</span></span> <span data-ttu-id="87c3c-165">속성의 기본값은 false 하며만 UseHttpGet 설정할 `true` 때 작업 알려져 안전 하며 때 웹 서비스에는 중요 한 데이터가 전달 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-165">The UseHttpGet property defaults to false and should only be set to `true` when operations are known to be safe and when sensitive data is not passed to a Web Service.</span></span> <span data-ttu-id="87c3c-166">코드 6 UseHttpGet 속성을 사용 하 여 ScriptMethod 특성을 사용 하는 예제를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-166">Listing 6 shows an example of using the ScriptMethod attribute with the UseHttpGet property.</span></span>

<span data-ttu-id="87c3c-167">**코드 6. UseHttpGet 속성으로 ScriptMethod 특성을 사용 합니다.**</span><span class="sxs-lookup"><span data-stu-id="87c3c-167">**Listing 6. Using the ScriptMethod attribute with the UseHttpGet property.**</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample6.cs)]

<span data-ttu-id="87c3c-168">6 목록에 표시 된 HttpGetEcho 웹 메서드가 호출 될 때 전송 된 헤더의 예는 다음 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-168">An example of the headers sent when the HttpGetEcho Web Method shown in Listing 6 is called are shown next:</span></span>

`GET /CustomerViewer/DemoService.asmx/HttpGetEcho?input=%22Input Value%22 HTTP/1.1`

<span data-ttu-id="87c3c-169">HTTP GET 요청을 수락 하도록 웹 메서드를 허용 하는 것 외에도 ScriptMethod 특성을 사용할 수도 있습니다 XML 응답의 JSON 보다는 서비스에서 반환 해야 하는 경우.</span><span class="sxs-lookup"><span data-stu-id="87c3c-169">In addition to allowing Web Methods to accept HTTP GET requests, the ScriptMethod attribute can also be used when XML responses need to be returned from a service rather than JSON.</span></span> <span data-ttu-id="87c3c-170">예를 들어, 웹 서비스는 원격 사이트의 RSS 피드를 검색 하 고 XmlDocument 또는 XmlElement 개체로 반환할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-170">For example, a Web Service may retrieve an RSS feed from a remote site and return it as an XmlDocument or XmlElement object.</span></span> <span data-ttu-id="87c3c-171">XML 처리 데이터 발생할 수 있습니다 다음 클라이언트에서.</span><span class="sxs-lookup"><span data-stu-id="87c3c-171">Processing of the XML data can then occur on the client.</span></span>

<span data-ttu-id="87c3c-172">코드 7 ResponseFormat 속성을 사용 하 여 XML 데이터 웹 메서드에서 반환 되어야 함을 지정 하는 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-172">Listing 7 shows an example of using the ResponseFormat property to specify that XML data should be returned from a Web Method.</span></span>

<span data-ttu-id="87c3c-173">**코드 7. ResponseFormat 속성으로 ScriptMethod 특성을 사용 합니다.**</span><span class="sxs-lookup"><span data-stu-id="87c3c-173">**Listing 7. Using the ScriptMethod attribute with the ResponseFormat property.**</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample7.cs)]

<span data-ttu-id="87c3c-174">또한 ResponseFormat 속성은 XmlSerializeString 속성과 함께 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-174">The ResponseFormat property can also be used along with the XmlSerializeString property.</span></span> <span data-ttu-id="87c3c-175">XmlSerializeString 속성이 기본값인 false 반환 하는 웹 메서드에서 반환 된 문자열을 제외 하 고 형식이 XML로 serialize 되는 경우는 `ResponseFormat` 속성이 `ResponseFormat.Xml`합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-175">The XmlSerializeString property has a default value of false which means that all return types except strings returned from a Web Method are serialized as XML when the `ResponseFormat` property is set to `ResponseFormat.Xml`.</span></span> <span data-ttu-id="87c3c-176">때 `XmlSerializeString` 로 설정 된 `true`, 웹 메서드에서 반환 된 모든 형식의 문자열 형식을 비롯 하 여 XML로 serialize 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-176">When `XmlSerializeString` is set to `true`, all types returned from a Web Method are serialized as XML including string types.</span></span> <span data-ttu-id="87c3c-177">ResponseFormat 속성의 값이 있으면 `ResponseFormat.Json` XmlSerializeString 속성은 무시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-177">If the ResponseFormat property has a value of `ResponseFormat.Json` the XmlSerializeString property is ignored.</span></span>

<span data-ttu-id="87c3c-178">코드 8 XML로 serialize 되는 문자열을 적용할 XmlSerializeString 속성을 사용 하는 예제를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-178">Listing 8 shows an example of using the XmlSerializeString property to force strings to be serialized as XML.</span></span>

<span data-ttu-id="87c3c-179">**8를 나열 합니다. ScriptMethod 특성을 사용 하 여 XmlSerializeString 속성**</span><span class="sxs-lookup"><span data-stu-id="87c3c-179">**Listing 8. Using the ScriptMethod attribute with the XmlSerializeString property**</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample8.cs)]

<span data-ttu-id="87c3c-180">8 목록에 표시 된 GetXmlString 웹 메서드 호출에서 반환 되는 값을 다음 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-180">The value returned from calling the GetXmlString Web Method shown in Listing 8 is shown next:</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample9.cs)]

<span data-ttu-id="87c3c-181">요청 및 응답 메시지의 전체 크기를 최소화 하 고 브라우저 간 방식으로 ASP.NET AJAX 클라이언트에서 더 쉽게 사용 하는 기본 JSON 형식으로, ResponseFormat 및 XmlSerializeString 속성을 수 있습니다 사용 하는 경우 클라이언트 응용 프로그램 같은 Internet Explorer 5 이상을 웹 메서드에서 반환 될 XML 데이터를 기대 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-181">Although the default JSON format minimizes the overall size of request and response messages and is more readily consumed by ASP.NET AJAX clients in a cross-browser manner, the ResponseFormat and XmlSerializeString properties can be utilized when client applications such as Internet Explorer 5 or higher expect XML data to be returned from a Web Method.</span></span>

## <a name="working-with-complex-types"></a><span data-ttu-id="87c3c-182">복합 형식 사용</span><span class="sxs-lookup"><span data-stu-id="87c3c-182">Working with Complex Types</span></span>

<span data-ttu-id="87c3c-183">목록 5에서는 웹 서비스에서 Customer 라는 복합 형식을 반환 하는 예제를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-183">Listing 5 showed an example of returning a complex type named Customer from a Web Service.</span></span> <span data-ttu-id="87c3c-184">Customer 클래스는 여러 다른 단순 형식 FirstName 및 LastName 등의 속성으로 내부적으로 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-184">The Customer class defines several different simple types internally as properties such as FirstName and LastName.</span></span> <span data-ttu-id="87c3c-185">복합 형식 입력된 매개 변수로 사용 또는 AJAX 지원 웹 메서드의 반환 형식은 자동으로 클라이언트 쪽에 전송 되기 전에 JSON으로 serialize 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-185">Complex types used as an input parameter or return type on an AJAX-enabled Web Method are automatically serialized into JSON before being sent to the client-side.</span></span> <span data-ttu-id="87c3c-186">그러나 (다른 형식 내에서 내부적으로 정의 된) 중첩 된 복합 형식은 사용할 수 없습니다 클라이언트에 독립 실행형 개체로 기본적으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-186">However, nested complex types (those defined internally within another type) are not made available to the client as standalone objects by default.</span></span>

<span data-ttu-id="87c3c-187">여기서는 웹 서비스에서 사용 하는 중첩된 된 복합 형식을 사용 해야 클라이언트 페이지에서의 경우에서 웹 서비스에 ASP.NET AJAX GenerateScriptType 특성을 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-187">In cases where a nested complex type used by a Web Service must also be used in a client page, the ASP.NET AJAX GenerateScriptType attribute can be added to the Web Service.</span></span> <span data-ttu-id="87c3c-188">CustomerDetails 클래스 목록 9에 표시 된 주소 및 성별 속성을 포함 하는 예를 들어 있는 ***중첩 된 복합 유형을 나타냅니다.***</span><span class="sxs-lookup"><span data-stu-id="87c3c-188">For example, the CustomerDetails class shown in Listing 9 contains Address and Gender properties which ***represent nested complex types.***</span></span>

<span data-ttu-id="87c3c-189">**코드 9. 여기에 표시 된 CustomerDetails 클래스 두 개의 중첩 된 복합 형식을 포함 합니다.**</span><span class="sxs-lookup"><span data-stu-id="87c3c-189">**Listing 9. The CustomerDetails class shown here contains two nested complex types.**</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample10.cs)]

<span data-ttu-id="87c3c-190">목록 9 에서처럼 CustomerDetails 클래스 내에 정의 된 주소 및 성별 개체 않습니다 자동으로 사용할 수 사용에 대 한 JavaScript 통해 클라이언트 쪽에서 중첩된 형식 이므로 (주소는 클래스 및 성별이 열거형)입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-190">The Address and Gender objects defined within the CustomerDetails class shown in Listing 9 won't automatically be made available for use on the client-side via JavaScript since they are nested types (Address is a class and Gender is an enumeration).</span></span> <span data-ttu-id="87c3c-191">여기서 웹 서비스에서 사용 하는 중첩된 형식을 클라이언트 쪽에서 사용할 수 있어야 하는 경우에서 앞에서 언급 한 GenerateScriptType 특성을 사용할 수 있습니다 (10 목록 참조).</span><span class="sxs-lookup"><span data-stu-id="87c3c-191">In situations where a nested type used within a Web Service must be available on the client-side, the GenerateScriptType attribute mentioned earlier can be used (see Listing 10).</span></span> <span data-ttu-id="87c3c-192">이 특성은 다른 중첩 된 복합 형식을 서비스에서 반환 되는 경우에서 여러 번 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-192">This attribute can be added multiple times in cases where different nested complex types are returned from a service.</span></span> <span data-ttu-id="87c3c-193">특정 웹 메서드 이상 웹 서비스 클래스에 직접 적용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-193">It can be applied directly to the Web Service class or above specific Web Methods.</span></span>

<span data-ttu-id="87c3c-194">**코드 10. 클라이언트를 사용할 수 있어야 하는 중첩 된 형식을 정의할 GenerateScriptService 특성을 사용 합니다.**</span><span class="sxs-lookup"><span data-stu-id="87c3c-194">**Listing 10. Using the GenerateScriptService attribute to define nested types that should be available to the client.**</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample11.cs)]

<span data-ttu-id="87c3c-195">적용 하 여는 `GenerateScriptType` 특성 웹 서비스 및 주소, 성별 형식에 자동으로 사용 가능 하 게 사용에 대 한 클라이언트 쪽 ASP.NET AJAX JavaScript 코드입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-195">By applying the `GenerateScriptType` attribute to the Web Service, the Address and Gender types will automatically be made available for use by client-side ASP.NET AJAX JavaScript code.</span></span> <span data-ttu-id="87c3c-196">자동으로 생성 되 고 웹 서비스에는 GenerateScriptType 특성을 추가 하 여 클라이언트에 전송 하는 JavaScript의 예로 11 목록에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-196">An example of the JavaScript that is automatically generated and sent to the client by adding the GenerateScriptType attribute on a Web Service is shown in Listing 11.</span></span> <span data-ttu-id="87c3c-197">문서의 뒷부분에 중첩 된 복합 형식을 사용 하는 방법을 배웁니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-197">You'll see how to use nested complex types later in the article.</span></span>

<span data-ttu-id="87c3c-198">**코드 11. 중첩 된 복합 형식을 ASP.NET AJAX 페이지에서 사용할 수 있습니다.**</span><span class="sxs-lookup"><span data-stu-id="87c3c-198">**Listing 11. Nested complex types made available to an ASP.NET AJAX page.**</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample12.cs)]

<span data-ttu-id="87c3c-199">이제 웹 서비스를 만들고 ASP.NET AJAX 페이지에 액세스할 수 있도록 하는 방법을 살펴보았으므로 만들고 데이터를 검색 하거나 웹 서비스에 전송 될 수 있도록 JavaScript 프록시를 사용 하는 방법에 대해를 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-199">Now that you've seen how to create Web Services and make them accessible to ASP.NET AJAX pages, let's take a look at how to create and use JavaScript proxies so that data can be retrieved or sent to Web Services.</span></span>

## <a name="creating-javascript-proxies"></a><span data-ttu-id="87c3c-200">JavaScript 프록시를 만들기</span><span class="sxs-lookup"><span data-stu-id="87c3c-200">Creating JavaScript Proxies</span></span>

<span data-ttu-id="87c3c-201">일반적으로 표준 웹 서비스 (.NET 또는 다른 플랫폼) 호출 보내는 SOAP 요청 및 응답 메시지의 복잡성 으로부터 보호 하는 프록시 개체를 만드는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-201">Calling a standard Web Service (.NET or another platform) typically involves creating a proxy object that shields you from the complexities of sending SOAP request and response messages.</span></span> <span data-ttu-id="87c3c-202">ASP.NET AJAX 웹 서비스 호출을 사용 하 여에 JavaScript 프록시를 생성 하 고 쉽게 직렬화 및 JSON 메시지를 역직렬화 하는 방법에 대 한 걱정 없이 서비스를 호출 하는 데 사용 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-202">With ASP.NET AJAX Web Service calls, JavaScript proxies can be created and used to easily call services without worrying about serializing and deserializing JSON messages.</span></span> <span data-ttu-id="87c3c-203">ASP.NET AJAX ScriptManager 컨트롤을 사용 하 여 JavaScript 프록시를 자동으로 생성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-203">JavaScript proxies can be automatically generated by using the ASP.NET AJAX ScriptManager control.</span></span>

<span data-ttu-id="87c3c-204">웹 서비스를 호출할 수 있는 JavaScript 프록시 만들기 ScriptManager의 서비스 속성을 사용 하 여 수행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-204">Creating a JavaScript proxy that can call Web Services is accomplished by using the ScriptManager's Services property.</span></span> <span data-ttu-id="87c3c-205">이 속성을 사용 하면 ASP.NET AJAX 페이지를 다시 게시 작업 없이 데이터를 주고받을 비동기적으로 호출할 수 있는 하나 이상의 서비스를 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-205">This property allows you to define one or more services that an ASP.NET AJAX page can call asynchronously to send or receive data without requiring postback operations.</span></span> <span data-ttu-id="87c3c-206">ASP.NET AJAX를 사용 하 여 서비스를 정의한 `ServiceReference` 컨트롤 및 컨트롤의 웹 서비스 URL 할당 `Path` 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-206">You define a service by using the ASP.NET AJAX `ServiceReference` control and assigning the Web Service URL to the control's `Path` property.</span></span> <span data-ttu-id="87c3c-207">코드 12 CustomersService.asmx 라는 서비스를 참조 하는 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-207">Listing 12 shows an example of referencing a service named CustomersService.asmx.</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-web-services/samples/sample13.aspx)]

<span data-ttu-id="87c3c-208">**코드 12. ASP.NET AJAX 페이지에서 사용 되는 웹 서비스를 정의 합니다.**</span><span class="sxs-lookup"><span data-stu-id="87c3c-208">**Listing 12. Defining a Web Service used in an ASP.NET AJAX page.**</span></span>

<span data-ttu-id="87c3c-209">ScriptManager 컨트롤을 통해 CustomersService.asmx에 대 한 참조를 추가 하면 JavaScript 프록시를 동적으로 생성 되 고 페이지에 의해 참조 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-209">Adding a reference to the CustomersService.asmx through the ScriptManager control causes a JavaScript proxy to be dynamically generated and referenced by the page.</span></span> <span data-ttu-id="87c3c-210">프록시를 사용 하 여 포함 되어는 &lt;스크립트&gt; 태그 및 CustomersService.asmx 파일을 호출 하 고 /js의 끝에 추가 하 여 동적으로 로드 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-210">The proxy is embedded by using the &lt;script&gt; tag and dynamically loaded by calling the CustomersService.asmx file and appending /js to the end of it.</span></span> <span data-ttu-id="87c3c-211">다음 예제에서는 web.config에 디버깅 사용 하지 않도록 설정 하는 경우 JavaScript 프록시 페이지에 포함 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-211">The following example shows how the JavaScript proxy is embedded in the page when debugging is disabled in web.config:</span></span>

[!code-html[Main](understanding-asp-net-ajax-web-services/samples/sample14.html)]

> <span data-ttu-id="87c3c-212">*> [!NOTE] 생성 되는 실제 JavaScript 프록시 코드를 참조 하려는 경우 Internet Explorer의 주소 상자에 원하는.NET 웹 서비스의 URL을 입력 하 고 /js의 끝에 추가할 수 있습니다.*</span><span class="sxs-lookup"><span data-stu-id="87c3c-212">*> [!NOTE] If you'd like to see the actual JavaScript proxy code that is generated you can type the URL to the desired .NET Web Service into Internet Explorer's address box and append /js to the end of it.*</span></span>


<span data-ttu-id="87c3c-213">JavaScript 프록시의 디버그 버전으로 페이지에 포함 될 web.config에서 디버깅을 설정한 경우 다음에 표시 된:</span><span class="sxs-lookup"><span data-stu-id="87c3c-213">If debugging is enabled in web.config a debug version of the JavaScript proxy will be embedded in the page as shown next:</span></span>

[!code-html[Main](understanding-asp-net-ajax-web-services/samples/sample15.html)]

<span data-ttu-id="87c3c-214">ScriptManager에 만든 JavaScript 프록시 페이지에 직접 포함할 수도 있습니다를 사용 하 여 참조 되지 않고 합니다 &lt;스크립트&gt; 태그의 src 특성입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-214">The JavaScript proxy created by the ScriptManager can also be embedded directly into the page rather than referenced using the &lt;script&gt; tag's src attribute.</span></span> <span data-ttu-id="87c3c-215">이 true (기본값은 false)로 ServiceReference 컨트롤 InlineScript 속성을 설정 하 여 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-215">This can be done by setting the ServiceReference control's InlineScript property to true (the default is false).</span></span> <span data-ttu-id="87c3c-216">프록시 서버에 대 한 네트워크 호출 횟수를 줄이기 위해 하려는 경우 및 여러 페이지에 걸쳐 공유 되지 않습니다 하는 경우에 유용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-216">This can be useful when a proxy isn't shared across multiple pages and when you'd like to reduce the number of network calls made to the server.</span></span> <span data-ttu-id="87c3c-217">기본값은 false ASP.NET AJAX 응용 프로그램의 여러 페이지에서 프록시 사용 되는 경우에 권장 됩니다 있도록 브라우저에서 InlineScript 프록시 스크립트를 true로 설정 된 경우을 캐시할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-217">When InlineScript is set to true the proxy script won't be cached by the browser so the default value of false is recommended in cases where the proxy is used by multiple pages in an ASP.NET AJAX application.</span></span> <span data-ttu-id="87c3c-218">InlineScript 속성을 사용 하는 예제는 다음 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-218">An example of using the InlineScript property is shown next:</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-web-services/samples/sample16.aspx)]

## <a name="using-javascript-proxies"></a><span data-ttu-id="87c3c-219">JavaScript 프록시를 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="87c3c-219">Using JavaScript Proxies</span></span>

<span data-ttu-id="87c3c-220">웹 서비스는 ScriptManager 컨트롤을 사용 하 여 ASP.NET AJAX 페이지에서 참조 되 면 웹 서비스에 전화를 걸 수 있습니다 하 고 콜백 함수를 사용 하 여 반환된 된 데이터를 처리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-220">Once a Web Service is referenced by an ASP.NET AJAX page using the ScriptManager control, a call can be made to the Web Service and the returned data can be handled using callback functions.</span></span> <span data-ttu-id="87c3c-221">웹 서비스 (있는 경우) 해당 네임 스페이스 참조, 클래스 이름 및 웹 메서드 이름으로 호출 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-221">A Web Service is called by referencing its namespace (if one exists), class name and Web Method name.</span></span> <span data-ttu-id="87c3c-222">웹 서비스에 전달할 매개 변수는 반환된 된 데이터를 처리 하는 콜백 함수를 함께 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-222">Any parameters passed to the Web Service can be defined along with a callback function that handles the returned data.</span></span>

<span data-ttu-id="87c3c-223">JavaScript 프록시를 사용 하 여 GetCustomersByCountry() 라는 웹 메서드를 호출 하는 예제 목록 13에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-223">An example of using a JavaScript proxy to call a Web Method named GetCustomersByCountry() is shown in Listing 13.</span></span> <span data-ttu-id="87c3c-224">GetCustomersByCountry() 함수는 최종 사용자 페이지의 단추를 클릭할 때 호출 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-224">The GetCustomersByCountry() function is called when an end user clicks a button on the page.</span></span>

<span data-ttu-id="87c3c-225">**코드 13. JavaScript 프록시를 사용 하 여 웹 서비스를 호출 합니다.**</span><span class="sxs-lookup"><span data-stu-id="87c3c-225">**Listing 13. Calling a Web Service with a JavaScript proxy.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-web-services/samples/sample17.js)]

<span data-ttu-id="87c3c-226">이 호출은 InterfaceTraining 네임 스페이스를 참조, CustomersService 클래스 및 GetCustomersByCountry 웹 메서드를 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-226">This call references the InterfaceTraining namespace, CustomersService class and GetCustomersByCountry Web Method defined in the service.</span></span> <span data-ttu-id="87c3c-227">Textbox에서 얻은 국가 값 뿐만 아니라 비동기 웹 서비스 호출이 반환 될 때 호출 되어야 하는 OnWSRequestComplete 라는 콜백 함수를 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-227">It passes a country value obtained from a textbox as well as a callback function named OnWSRequestComplete that should be invoked when the asynchronous Web Service call returns.</span></span> <span data-ttu-id="87c3c-228">OnWSRequestComplete 처리 서비스에서 반환 하는 Customer 개체의 배열 및 페이지에 표시 되는 테이블로 변환 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-228">OnWSRequestComplete handles the array of Customer objects returned from the service and converts them into a table that is displayed in the page.</span></span> <span data-ttu-id="87c3c-229">호출에서 생성 된 출력은 그림 1에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-229">The output generated from the call is shown in Figure 1.</span></span>


<span data-ttu-id="87c3c-230">[![웹 서비스에 대 한 비동기 AJAX 호출 하 여 가져온 데이터를 바인딩입니다.](understanding-asp-net-ajax-web-services/_static/image2.png)](understanding-asp-net-ajax-web-services/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="87c3c-230">[![Binding data obtained by making an asynchronous AJAX call to a Web Service.](understanding-asp-net-ajax-web-services/_static/image2.png)](understanding-asp-net-ajax-web-services/_static/image1.png)</span></span>

<span data-ttu-id="87c3c-231">**그림 1**: 웹 서비스에 대 한 비동기 AJAX 호출 하 여 가져온 데이터를 바인딩입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-231">**Figure 1**: Binding data obtained by making an asynchronous AJAX call to a Web Service.</span></span>  <span data-ttu-id="87c3c-232">([클릭 하 여 큰 이미지 보기](understanding-asp-net-ajax-web-services/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="87c3c-232">([Click to view full-size image](understanding-asp-net-ajax-web-services/_static/image3.png))</span></span>


<span data-ttu-id="87c3c-233">JavaScript 프록시가 있는 웹 메서드를 호출 해야 하지만 프록시 응답을 대기 하지 않아야 하는 경우에서 웹 서비스에 대 한 단방향 호출을 만들 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-233">JavaScript proxies can also make one-way calls to Web Services in cases where a Web Method should be called but the proxy shouldn't wait for a response.</span></span> <span data-ttu-id="87c3c-234">예를 들어, 다음 작업 흐름 등의 프로세스를 시작 하지만 서비스에서 반환 값을 기다리지 않고 웹 서비스를 호출 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-234">For example, you may want to call a Web Service to start a process such as a work-flow but not wait for a return value from the service.</span></span> <span data-ttu-id="87c3c-235">서비스에 대 한 단방향 호출 해야 하는 경우에서 13 목록에 표시 된 콜백 함수를 간단히 생략할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-235">In cases where a one-way call needs to be made to a service, the callback function shown in Listing 13 can simply be omitted.</span></span> <span data-ttu-id="87c3c-236">콜백 함수가 정의 되므로 프록시 개체 데이터를 반환 하는 웹 서비스에 대 한 대기 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-236">Since no callback function is defined the proxy object will not wait for the Web Service to return data.</span></span>

## <a name="handling-errors"></a><span data-ttu-id="87c3c-237">오류 처리</span><span class="sxs-lookup"><span data-stu-id="87c3c-237">Handling Errors</span></span>

<span data-ttu-id="87c3c-238">웹 서비스에 대 한 비동기 콜백을 다양 한 유형의 다운을 사용할 수 없게 하는 웹 서비스 또는 예외가 반환 되는 네트워크와 같은 오류가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-238">Asynchronous callbacks to Web Services can encounter different types of errors such as the network being down, the Web Service being unavailable or an exception being returned.</span></span> <span data-ttu-id="87c3c-239">다행 스럽게도 ScriptManager에서 생성 된 JavaScript 프록시 개체 앞에 표시 된 성공 콜백 하는 것 외에도 오류 및 오류 처리를 정의할 수에 대 한 여러 콜백을 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-239">Fortunately, JavaScript proxy objects generated by the ScriptManager allow multiple callbacks to be defined to handle errors and failures in addition to the success callback shown earlier.</span></span> <span data-ttu-id="87c3c-240">오류 콜백 함수를 나열 하는 14에 표시 된 대로 웹 메서드 호출에서 표준 콜백 함수 직후 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-240">An error callback function can be defined immediately after the standard callback function in the call to the Web Method as shown in Listing 14.</span></span>

<span data-ttu-id="87c3c-241">**코드 14. 오류 콜백 함수를 정의 하 고 오류를 표시 합니다.**</span><span class="sxs-lookup"><span data-stu-id="87c3c-241">**Listing 14. Defining an error callback function and displaying errors.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-web-services/samples/sample18.js)]

<span data-ttu-id="87c3c-242">웹 서비스가 호출 될 때 발생 하는 모든 오류는 매개 변수로 오류를 나타내는 개체를 허용 하는 호출할 OnWSRequestFailed() 콜백 함수를 트리거합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-242">Any errors that occur when the Web Service is called will trigger the OnWSRequestFailed() callback function to be called which accepts an object representing the error as a parameter.</span></span> <span data-ttu-id="87c3c-243">오류 개체 뿐만 아니라 호출 시간 초과 여부 오류의 원인을 확인 하려면 몇 가지 다른 함수를 노출 합니다. 그림 2는 함수에 의해 생성 된 출력의 예를 보여 줍니다. 및 다른 오류 함수를 사용 하는 예제를 보여 줍니다 코드 14.</span><span class="sxs-lookup"><span data-stu-id="87c3c-243">The error object exposes several different functions to determine the cause of the error as well as whether or not the call timed out. Listing 14 shows an example of using the different error functions and Figure 2 shows an example of the output generated by the functions.</span></span>


<span data-ttu-id="87c3c-244">[![ASP.NET AJAX 오류 함수를 호출 하 여 생성 된 출력입니다.](understanding-asp-net-ajax-web-services/_static/image5.png)](understanding-asp-net-ajax-web-services/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="87c3c-244">[![Output generated by calling ASP.NET AJAX error functions.](understanding-asp-net-ajax-web-services/_static/image5.png)](understanding-asp-net-ajax-web-services/_static/image4.png)</span></span>

<span data-ttu-id="87c3c-245">**그림 2**: ASP.NET AJAX 오류 함수를 호출 하 여 생성 된 출력입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-245">**Figure 2**: Output generated by calling ASP.NET AJAX error functions.</span></span>  <span data-ttu-id="87c3c-246">([클릭 하 여 큰 이미지 보기](understanding-asp-net-ajax-web-services/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="87c3c-246">([Click to view full-size image](understanding-asp-net-ajax-web-services/_static/image6.png))</span></span>


## <a name="handling-xml-data-returned-from-a-web-service"></a><span data-ttu-id="87c3c-247">웹 서비스에서 반환 된 XML 데이터 처리</span><span class="sxs-lookup"><span data-stu-id="87c3c-247">Handling XML Data Returned from a Web Service</span></span>

<span data-ttu-id="87c3c-248">이전 웹 메서드에 해당 ResponseFormat 속성과 함께 ScriptMethod 특성을 사용 하 여 원시 XML 데이터를 반환할 수 있습니다 하는 방법을 살펴보았습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-248">Earlier you saw how a Web Method could return raw XML data by using the ScriptMethod attribute along with its ResponseFormat property.</span></span> <span data-ttu-id="87c3c-249">ResponseFormat ResponseFormat.Xml로 설정 된 경우 웹 서비스에서 반환 된 데이터는 JSON이 아닌 XML로 serialize 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-249">When ResponseFormat is set to ResponseFormat.Xml, data returned from the Web Service is serialized as XML rather than JSON.</span></span> <span data-ttu-id="87c3c-250">이 기능은 XML 데이터를 JavaScript 또는 XSLT를 사용 하 여 처리에 대 한 클라이언트에 직접 전달 해야 하는 경우에 유용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-250">This can be useful when XML data needs to be passed directly to the client for processing using JavaScript or XSLT.</span></span> <span data-ttu-id="87c3c-251">현재, Internet Explorer 5 이상을 구문 분석 하 고 MSXML에 대 한 기본 제공 지원으로 인해 XML 데이터를 필터링에 대 한 최상의 클라이언트 쪽 개체 모델을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-251">At the current time, Internet Explorer 5 or higher provides the best client-side object model for parsing and filtering XML data due to its built-in support for MSXML.</span></span>

<span data-ttu-id="87c3c-252">웹 서비스에서 XML 데이터를 검색 하는 다른 데이터 형식 검색 차이가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-252">Retrieving XML data from a Web Service is no different than retrieving other data types.</span></span> <span data-ttu-id="87c3c-253">적절 한 함수를 호출 하 고 콜백 함수를 정의 하는 JavaScript 프록시를 호출 하 여 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-253">Start by invoking the JavaScript proxy to call the appropriate function and define a callback function.</span></span> <span data-ttu-id="87c3c-254">호출 반환 되 면 다음 콜백 함수에서 데이터를 처리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-254">Once the call returns you can then process the data in the callback function.</span></span>

<span data-ttu-id="87c3c-255">코드 15 라는 GetRssFeed() XmlElement 개체를 반환 하는 웹 메서드를 호출 하는 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-255">Listing 15 shows an example of calling a Web Method named GetRssFeed() that returns an XmlElement object.</span></span> <span data-ttu-id="87c3c-256">GetRssFeed()는 RSS 피드를 검색에 대 한 URL을 나타내는 단일 매개 변수를 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-256">GetRssFeed() accepts a single parameter representing the URL for the RSS feed to retrieve.</span></span>

<span data-ttu-id="87c3c-257">**15를 나열 합니다. 웹 서비스에서 반환 된 XML 데이터를 사용 합니다.**</span><span class="sxs-lookup"><span data-stu-id="87c3c-257">**Listing 15. Working with XML data returned from a Web Service.**</span></span>

[!code-html[Main](understanding-asp-net-ajax-web-services/samples/sample19.html)]

<span data-ttu-id="87c3c-258">이 예제에서는 RSS 피드 URL을 전달 하 고 OnWSRequestComplete() 함수에서 반환된 된 XML 데이터를 처리 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-258">This example passes a URL to an RSS feed and processes the returned XML data in the OnWSRequestComplete() function.</span></span> <span data-ttu-id="87c3c-259">먼저 OnWSRequestComplete() MSXML 파서는 사용할 수 있는지 여부를 알아야 Internet Explorer 브라우저 인지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-259">OnWSRequestComplete() first checks to see if the browser is Internet Explorer to know whether or not the MSXML parser is available.</span></span> <span data-ttu-id="87c3c-260">이 경우 XPath 문을 찾는 데 사용 됩니다 모든 &lt;항목&gt; RSS 피드 내의 태그입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-260">If it is, an XPath statement is used to locate all &lt;item&gt; tags within the RSS feed.</span></span> <span data-ttu-id="87c3c-261">그런 다음이 각 항목 반복 및 연결 된 &lt;제목&gt; 하 고 &lt;링크&gt; 태그 배치 되 고 각 항목의 데이터를 표시 하려면 처리 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-261">Each item is then iterated through and the associated &lt;title&gt; and &lt;link&gt; tags are located and processed to display each item's data.</span></span> <span data-ttu-id="87c3c-262">그림 3 GetRssFeed() 웹 메서드에 JavaScript 프록시를 통해 호출 하는 ASP.NET AJAX 못하도록 생성 된 출력의 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-262">Figure 3 shows an example of the output generated from making an ASP.NET AJAX call through a JavaScript proxy to the GetRssFeed() Web Method.</span></span>

## <a name="handling-complex-types"></a><span data-ttu-id="87c3c-263">복합 형식 처리</span><span class="sxs-lookup"><span data-stu-id="87c3c-263">Handling Complex Types</span></span>

<span data-ttu-id="87c3c-264">복합 형식은 수락 또는 웹 서비스에 의해 반환 되는 JavaScript 프록시를 통해 자동으로 노출 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-264">Complex types accepted or returned by a Web Service are automatically exposed through a JavaScript proxy.</span></span> <span data-ttu-id="87c3c-265">그러나 중첩 된 복합 형식을 직접 액세스할 수 없는 클라이언트 쪽에서 앞에서 설명한 대로 서비스에는 GenerateScriptType 특성을 적용 하지 않으면.</span><span class="sxs-lookup"><span data-stu-id="87c3c-265">However, nested complex types are not directly accessible on the client-side unless the GenerateScriptType attribute is applied to the service as discussed earlier.</span></span> <span data-ttu-id="87c3c-266">클라이언트 쪽에서 중첩된 된 복합 형식을 사용 하는 이유는 무엇 일까요?</span><span class="sxs-lookup"><span data-stu-id="87c3c-266">Why would you want to use a nested complex type on the client-side?</span></span>

<span data-ttu-id="87c3c-267">이 질문에 답하기 위해 ASP.NET AJAX 페이지 고객 데이터를 표시 하는 고객의 주소를 업데이트 하려면 최종 사용자가 수를 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-267">To answer this question, assume that an ASP.NET AJAX page displays customer data and allows end users to update a customer's address.</span></span> <span data-ttu-id="87c3c-268">웹 서비스 클라이언트에 주소 유형 (CustomerDetails 클래스 내에 정의 된 복합 형식)을 보낼 수 있는지를 지정 하는 경우 더 나은 코드 다시 사용 하기 위해 별도 함수로 업데이트 프로세스를 나눌 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-268">If the Web Service specifies that the Address type (a complex type defined within a CustomerDetails class) can be sent to the client then the update process can be divided into separate functions for better code re-use.</span></span>


<span data-ttu-id="87c3c-269">[![RSS 데이터를 반환 하는 웹 서비스 호출에서 만들기를 출력 합니다.](understanding-asp-net-ajax-web-services/_static/image8.png)](understanding-asp-net-ajax-web-services/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="87c3c-269">[![Output creating from calling a Web Service that returns RSS data.](understanding-asp-net-ajax-web-services/_static/image8.png)](understanding-asp-net-ajax-web-services/_static/image7.png)</span></span>

<span data-ttu-id="87c3c-270">**그림 3**: RSS 데이터를 반환 하는 웹 서비스 호출에서 만들기를 출력 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-270">**Figure 3**: Output creating from calling a Web Service that returns RSS data.</span></span>  <span data-ttu-id="87c3c-271">([클릭 하 여 큰 이미지 보기](understanding-asp-net-ajax-web-services/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="87c3c-271">([Click to view full-size image](understanding-asp-net-ajax-web-services/_static/image9.png))</span></span>


<span data-ttu-id="87c3c-272">코드 16 모델 네임 스페이스에 정의 된 주소 개체를 호출 하는 클라이언트 쪽 코드의 예제를 업데이트 된 데이터로 채우는 및 CustomerDetails 개체의 주소 속성에 할당을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-272">Listing 16 shows an example of client-side code that invokes an Address object defined in a Model namespace, fills it with updated data and assigns it to a CustomerDetails object's Address property.</span></span> <span data-ttu-id="87c3c-273">그러면 CustomerDetails 개체 처리를 위해 웹 서비스에 전달 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-273">The CustomerDetails object is then passed to the Web Service for processing.</span></span>

<span data-ttu-id="87c3c-274">**코드 16. 중첩 된 복합 형식을 사용 하 여**</span><span class="sxs-lookup"><span data-stu-id="87c3c-274">**Listing 16. Using nested complex types**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-web-services/samples/sample20.js)]

## <a name="creating-and-using-page-methods"></a><span data-ttu-id="87c3c-275">만들기 및 페이지 메서드를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-275">Creating and Using Page Methods</span></span>

<span data-ttu-id="87c3c-276">웹 서비스에는 다양 한 ASP.NET AJAX 페이지를 포함 하 여 클라이언트를 다시 사용 가능한 서비스를 노출 하는 훌륭한 방법을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-276">Web Services provide an excellent way to expose re-useable services to a variety of clients including ASP.NET AJAX pages.</span></span> <span data-ttu-id="87c3c-277">그러나 페이지 없습니다 계속 사용 하거나 다른 페이지에서 공유 하는 데이터를 검색 해야 하는 경우가 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-277">However, there may be cases where a page needs to retrieve data that won't ever be used or shared by other pages.</span></span> <span data-ttu-id="87c3c-278">이 경우 서비스는 단일 페이지 에서만 사용 되므로 페이지 데이터에 액세스를 허용 하는.asmx 파일을 만드는 과도 처럼 보일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-278">In this case, making an .asmx file to allow the page to access the data may seem like overkill since the service is only used by a single page.</span></span>

<span data-ttu-id="87c3c-279">ASP.NET AJAX는 독립 실행형.asmx 파일을 만들지 않고 웹 서비스와 유사한 호출을 만들기 위한 다른 메커니즘을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-279">ASP.NET AJAX provides another mechanism for making Web Service-like calls without creating standalone .asmx files.</span></span> <span data-ttu-id="87c3c-280">이 "페이지 메서드" 라고 하는 기술을 사용 하 여 이루어집니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-280">This is done by using a technique referred to as "page methods".</span></span> <span data-ttu-id="87c3c-281">페이지 메서드는 WebMethod 특성을 적용할 수 있는 페이지 또는 코드 병행 파일에 직접 포함 되는 정적 (VB.NET의 경우 공유) 메서드입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-281">Page methods are static (shared in VB.NET) methods embedded directly in a page or code-beside file that have the WebMethod attribute applied to them.</span></span> <span data-ttu-id="87c3c-282">WebMethod 특성을 적용 하 여 호출할 수 있습니다 라는 PageMethods 런타임에 동적으로 생성 되는 특수 한 JavaScript 개체를 사용 하 여 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-282">By applying the WebMethod attribute they can be called using a special JavaScript object named PageMethods that gets dynamically created at runtime.</span></span> <span data-ttu-id="87c3c-283">PageMethods 개체에서 JSON serialization/deserialization 프로세스를 보호 하는 프록시로 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-283">The PageMethods object acts as a proxy that shields you from the JSON serialization/deserialization process.</span></span> <span data-ttu-id="87c3c-284">PageMethods 개체를 사용 하기 위해 설정 해야 하는 ScriptManager의 EnablePageMethods 속성을 true로 note 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-284">Note that in order to use the PageMethods object you must set the ScriptManager's EnablePageMethods property to true.</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-web-services/samples/sample21.aspx)]

<span data-ttu-id="87c3c-285">17 나열 ASP.NET 코드 병행 클래스에서 두 개의 페이지 메서드를 정의 하는 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-285">Listing 17 shows an example of defining two page methods in an ASP.NET code-beside class.</span></span> <span data-ttu-id="87c3c-286">이러한 메서드는 앱에 있는 비즈니스 계층 클래스에서 데이터를 검색 합니다.\_웹 사이트의 코드 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-286">These methods retrieve data from a business layer class located in the App\_Code folder of the Website.</span></span>

<span data-ttu-id="87c3c-287">**17을 나열 합니다. 페이지 메서드를 정의합니다.**</span><span class="sxs-lookup"><span data-stu-id="87c3c-287">**Listing 17. Defining page methods.**</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample22.cs)]

<span data-ttu-id="87c3c-288">ScriptManager의 존재 여부가 웹 메서드와 페이지에서 앞에서 언급 한 PageMethods 개체에 대 한 동적 참조를 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-288">When ScriptManager detects the presence of Web Methods in the page it generates a dynamic reference to the PageMethods object mentioned earlier.</span></span> <span data-ttu-id="87c3c-289">웹 메서드를 호출 하는 메서드 및 전달 되어야 하는 데 필요한 매개 변수 데이터의 이름 뒤에 PageMethods 클래스를 참조 하 여 수행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-289">Calling a Web Method is accomplished by referencing the PageMethods class followed by the name of the method and any necessary parameter data that should be passed.</span></span> <span data-ttu-id="87c3c-290">18 나열 앞서 살펴본 두 페이지 메서드를 호출 하는 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-290">Listing 18 shows examples of calling the two page methods shown earlier.</span></span>

<span data-ttu-id="87c3c-291">**18를 나열 합니다. PageMethods JavaScript 개체를 사용 하 여 페이지 메서드를 호출 합니다.**</span><span class="sxs-lookup"><span data-stu-id="87c3c-291">**Listing 18. Calling page methods with the PageMethods JavaScript object.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-web-services/samples/sample23.js)]

<span data-ttu-id="87c3c-292">PageMethods 개체를 사용 하 여 JavaScript 프록시 개체를 사용 하 여 매우 비슷합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-292">Using the PageMethods object is very similar to using a JavaScript proxy object.</span></span> <span data-ttu-id="87c3c-293">먼저 모든 메서드를 페이지에 전달 되어야 하 고 다음 비동기 호출이 반환 될 때 호출 해야 하는 콜백 함수를 정의 하는 매개 변수 데이터를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-293">You first specify all of the parameter data that should be passed to the page method and then define the callback function that should be called when the asynchronous call returns.</span></span> <span data-ttu-id="87c3c-294">실패 콜백을 지정할 수 있습니다 (오류를 처리 하는 예 14 목록 참조).</span><span class="sxs-lookup"><span data-stu-id="87c3c-294">A failure callback can also be specified (refer to Listing 14 for an example of handling failures).</span></span>

## <a name="the-autocompleteextender-and-the-aspnet-ajax-toolkit"></a><span data-ttu-id="87c3c-295">AutoCompleteExtender 및 ASP.NET AJAX Toolkit</span><span class="sxs-lookup"><span data-stu-id="87c3c-295">The AutoCompleteExtender and the ASP.NET AJAX Toolkit</span></span>

<span data-ttu-id="87c3c-296">ASP.NET AJAX Toolkit (에서 사용 가능한 [ http://ajax.asp.net ](http://ajax.asp.net)) 웹 서비스에 액세스할 수 있는 여러 컨트롤을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-296">The ASP.NET AJAX Toolkit (available from [http://ajax.asp.net](http://ajax.asp.net)) offers several controls that can be used to access Web Services.</span></span> <span data-ttu-id="87c3c-297">도구 키트 라는 유용한 컨트롤을 포함 하는 특히 `AutoCompleteExtender` 웹 서비스를 호출 하 고 페이지에 JavaScript 코드를 전혀 작성 하지 않고 데이터를 표시 하려면 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-297">Specifically, the toolkit contains a useful control named `AutoCompleteExtender` that can be used to call Web Services and show data in pages without writing any JavaScript code at all.</span></span>

<span data-ttu-id="87c3c-298">Textbox의 기존 기능을 확장 하 여 사용자가 쉽게 찾고 있는 데이터를 찾는 데 도움이 되는 AutoCompleteExtender 컨트롤을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-298">The AutoCompleteExtender control can be used to extend existing functionality of a textbox and help users more easily locate data they're looking for.</span></span> <span data-ttu-id="87c3c-299">텍스트 상자에 입력할 컨트롤 쿼리 웹 서비스를 사용할 수 있으며 동적으로 텍스트 상자 아래 결과 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-299">As they type into a textbox the control can be used to query a Web Service and shows results below the textbox dynamically.</span></span> <span data-ttu-id="87c3c-300">그림 4는 AutoCompleteExtender 컨트롤을 사용 하 여 지원 응용 프로그램의 고객 id를 표시 하려면 예를 보여줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-300">Figure 4 shows an example of using the AutoCompleteExtender control to display customer ids for a support application.</span></span> <span data-ttu-id="87c3c-301">사용자가 텍스트 상자에 다른 문자에 따라 다양 한 항목 입력에 따라 아래 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-301">As the user types different characters into the textbox, different items will be shown below it based upon their input.</span></span> <span data-ttu-id="87c3c-302">사용자는 원하는 고객 id를 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-302">Users can then select the desired customer id.</span></span>

<span data-ttu-id="87c3c-303">ASP.NET AJAX 페이지 내 AutoCompleteExtender를 사용 하 여 웹 사이트의 bin 폴더에는 AjaxControlToolkit.dll 어셈블리가 추가 될 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-303">Using the AutoCompleteExtender within an ASP.NET AJAX page requires that the AjaxControlToolkit.dll assembly be added to the Website's bin folder.</span></span> <span data-ttu-id="87c3c-304">도구 키트 어셈블리에 추가 되 면 포함 된 컨트롤을 응용 프로그램의 모든 페이지에 사용할 수 있도록 web.config에서 참조 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-304">Once the toolkit assembly has been added, you'll want to reference it in web.config so that the controls it contains are available to all pages in an application.</span></span> <span data-ttu-id="87c3c-305">Web.config의 내에 다음 태그를 추가 하 여 이렇게 &lt;컨트롤&gt; 태그:</span><span class="sxs-lookup"><span data-stu-id="87c3c-305">This can be done by adding the following tag within web.config's &lt;controls&gt; tag:</span></span>

[!code-xml[Main](understanding-asp-net-ajax-web-services/samples/sample24.xml)]

<span data-ttu-id="87c3c-306">만 해야 하는 특정 페이지에 컨트롤을 사용 하는 경우에서 다음과 같이 web.config를 업데이트 하는 대신 페이지의 맨 위에 참조 지시문을 추가 하 여 참조할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-306">In cases where you only need to use the control in a specific page you can reference it by adding the Reference directive to the top of a page as shown next rather than updating web.config:</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-web-services/samples/sample25.aspx)]


<span data-ttu-id="87c3c-307">[![AutoCompleteExtender 컨트롤을 사용 합니다.](understanding-asp-net-ajax-web-services/_static/image11.png)](understanding-asp-net-ajax-web-services/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="87c3c-307">[![Using the AutoCompleteExtender control.](understanding-asp-net-ajax-web-services/_static/image11.png)](understanding-asp-net-ajax-web-services/_static/image10.png)</span></span>

<span data-ttu-id="87c3c-308">**그림 4**: AutoCompleteExtender 컨트롤을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-308">**Figure 4**: Using the AutoCompleteExtender control.</span></span>  <span data-ttu-id="87c3c-309">([클릭 하 여 큰 이미지 보기](understanding-asp-net-ajax-web-services/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="87c3c-309">([Click to view full-size image](understanding-asp-net-ajax-web-services/_static/image12.png))</span></span>


<span data-ttu-id="87c3c-310">ASP.NET AJAX Toolkit를 사용 하 여 웹 사이트에서 구성한 후는 AutoCompleteExtender 컨트롤을 추가할 수 있습니다 페이지에 훨씬 일반 ASP.NET 서버 컨트롤을 추가할 때 처럼.</span><span class="sxs-lookup"><span data-stu-id="87c3c-310">Once the Website has been configured to use the ASP.NET AJAX Toolkit, an AutoCompleteExtender control can be added into the page much like you'd add a regular ASP.NET server control.</span></span> <span data-ttu-id="87c3c-311">19 목록 컨트롤을 사용 하 여 웹 서비스를 호출 하는 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-311">Listing 19 shows an example of using the control to call a Web Service.</span></span>

<span data-ttu-id="87c3c-312">**19를 나열 합니다. ASP.NET AJAX Toolkit AutoCompleteExtender 컨트롤을 사용 합니다.**</span><span class="sxs-lookup"><span data-stu-id="87c3c-312">**Listing 19. Using the ASP.NET AJAX Toolkit AutoCompleteExtender control.**</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-web-services/samples/sample26.aspx)]

<span data-ttu-id="87c3c-313">AutoCompleteExtender에 서버 컨트롤에 표준 ID와 runat 속성을 포함 하는 여러 다른 속성이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-313">The AutoCompleteExtender has several different properties including the standard ID and runat properties found on server controls.</span></span> <span data-ttu-id="87c3c-314">이 외에도 할 수 있습니다를 웹 서비스 앞에 최종 사용자 형식 데이터를 쿼리 하는 문자 수를 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-314">In addition to these, it allows you to define how many characters an end user types before the Web Service is queried for data.</span></span> <span data-ttu-id="87c3c-315">19 목록에 표시 된 MinimumPrefixLength 속성 하면 서비스가 텍스트 상자에는 문자를 입력할 때마다 호출 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-315">The MinimumPrefixLength property shown in Listing 19 causes the service to be called each time a character is typed into the textbox.</span></span> <span data-ttu-id="87c3c-316">텍스트 상자에 문자와 일치 하는 값을 검색 하려면 호출 될 때마다 사용자가 웹 서비스 문자 때문에이 값을 설정 하 고 주의를 기울여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-316">You'll want to be careful setting this value since each time the user types a character the Web Service will be called to search for values that match the characters in the textbox.</span></span> <span data-ttu-id="87c3c-317">웹 서비스를 호출할 뿐만 아니라 대상 웹 메서드 각각 ServicePath 및 ServiceMethod 속성을 사용 하 여 정의 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-317">The Web Service to call as well as the target Web Method are defined using the ServicePath and ServiceMethod properties respectively.</span></span> <span data-ttu-id="87c3c-318">마지막으로, TargetControlID 속성 AutoCompleteExtender 컨트롤을 연결 하는 텍스트를 식별 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-318">Finally, the TargetControlID property identifies which textbox to hook the AutoCompleteExtender control to.</span></span>

<span data-ttu-id="87c3c-319">호출할 웹 서비스 앞에서 설명한 대로 적용 하는 ScriptService 특성이 있어야 합니다. 및 웹 메서드에 대상 prefixText 결정과 라는 두 개의 매개 변수를 동의 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-319">The Web Service being called must have the ScriptService attribute applied as discussed earlier and the target Web Method must accept two parameters named prefixText and count.</span></span> <span data-ttu-id="87c3c-320">PrefixText 매개 변수가 최종 사용자가 입력 한 문자와, count 매개 변수 반환할 항목을 나타냅니다 (기본값은 10).</span><span class="sxs-lookup"><span data-stu-id="87c3c-320">The prefixText parameter represents the characters typed by the end user and the count parameter represents how many items to return (the default is 10).</span></span> <span data-ttu-id="87c3c-321">20 나열 19 목록 앞에 표시 되는 AutoCompleteExtender 컨트롤을 호출한 GetCustomerIDs 웹 메서드의 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-321">Listing 20 shows an example of the GetCustomerIDs Web Method called by the AutoCompleteExtender control shown earlier in Listing 19.</span></span> <span data-ttu-id="87c3c-322">웹 메서드를 다시 호출 데이터 계층 처리 데이터를 필터링 하 고 일치 결과 반환 하는 메서드는 비즈니스 계층 메서드를 호출 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-322">The Web Method calls a business layer method that in turn calls a data layer method that handles filtering the data and returning the matching results.</span></span> <span data-ttu-id="87c3c-323">데이터 계층 메서드의 코드는 21 목록에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-323">The code for the data layer method is shown in Listing 21.</span></span>

<span data-ttu-id="87c3c-324">**20을 나열 합니다. AutoCompleteExtender 컨트롤에서 전송 된 데이터를 필터링 합니다.**</span><span class="sxs-lookup"><span data-stu-id="87c3c-324">**Listing 20. Filtering data sent from the AutoCompleteExtender control.**</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample27.cs)]

<span data-ttu-id="87c3c-325">**21을 나열 합니다. 최종 사용자 입력에 따라 결과 필터링 합니다.**</span><span class="sxs-lookup"><span data-stu-id="87c3c-325">**Listing 21. Filtering results based upon end user input.**</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample28.cs)]

## <a name="conclusion"></a><span data-ttu-id="87c3c-326">결론</span><span class="sxs-lookup"><span data-stu-id="87c3c-326">Conclusion</span></span>

<span data-ttu-id="87c3c-327">ASP.NET AJAX 요청 및 응답 메시지를 처리 하는 사용자 지정 JavaScript 코드를 많이 작성 하지 않고도 웹 서비스를 호출 하는 것에 대 한 뛰어난 지원을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-327">ASP.NET AJAX provides excellent support for calling Web Services without writing a lot of custom JavaScript code to handle the request and response messages.</span></span> <span data-ttu-id="87c3c-328">이 문서의 살펴봤습니다 JSON 메시지를 처리 하 고 ScriptManager 컨트롤을 사용 하 여 JavaScript 프록시를 정의 하는 방법을 사용 하려면.NET 웹 서비스를 AJAX 사용 하는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-328">In this article you've seen how to AJAX-enable .NET Web Services to enable them to process JSON messages and how to define JavaScript proxies using the ScriptManager control.</span></span> <span data-ttu-id="87c3c-329">또한 JavaScript 프록시를 사용 하 여 웹 서비스를 호출할 수 단순 및 복합 형식을 처리 하 고 오류를 처리 하기 하는 방법을 살펴보았습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-329">You've also seen how JavaScript proxies can be used to call Web Services, handle simple and complex types and deal with failures.</span></span> <span data-ttu-id="87c3c-330">마지막으로 만들고 웹 서비스 호출 프로세스를 간소화 하기 위해 페이지 메서드를 사용할 수 있는 방법 및 최종 사용자에 게 도움말 입력 AutoCompleteExtender 컨트롤 수 하는 방법을 제공 살펴봤습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-330">Finally, you've seen how page methods can be used to simplify the process of creating and making Web Service calls and how the AutoCompleteExtender control can provide help to end users as they type.</span></span> <span data-ttu-id="87c3c-331">ASP.NET AJAX에서 사용할 수 있는 UpdatePanel에는 선택한 간편함 많은 AJAX 프로그래머를 위한 컨트롤을 반드시, JavaScript 프록시를 통해 웹 서비스를 호출 하는 방법을 알면 많은 응용 프로그램에서 유용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-331">Although the UpdatePanel available in ASP.NET AJAX will certainly be the control of choice for many AJAX programmers due to its simplicity, knowing how to call Web Services through JavaScript proxies can be useful in many applications.</span></span>

## <a name="bio"></a><span data-ttu-id="87c3c-332">사용자 정보</span><span class="sxs-lookup"><span data-stu-id="87c3c-332">Bio</span></span>

<span data-ttu-id="87c3c-333">Dan Wahlin (Microsoft Most Valuable Professional ASP.NET 및 XML 웹 서비스에 대 한)은 인터페이스 기술 교육에.NET 개발 강사 및 아키텍처 컨설턴트 ([http://www.interfacett.com](http://www.interfacett.com)).</span><span class="sxs-lookup"><span data-stu-id="87c3c-333">Dan Wahlin (Microsoft Most Valuable Professional for ASP.NET and XML Web Services) is a .NET development instructor and architecture consultant at Interface Technical Training ([http://www.interfacett.com](http://www.interfacett.com)).</span></span> <span data-ttu-id="87c3c-334">Dan 설립 ASP.NET 개발자 웹 사이트에 대 한 XML ([www.XMLforASP.NET](http://www.XMLforASP.NET)), INETA 발표자 기관에 및 여러 컨퍼런스에서 강연 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-334">Dan founded the XML for ASP.NET Developers Web site ([www.XMLforASP.NET](http://www.XMLforASP.NET)), is on the INETA Speaker's Bureau and speaks at several conferences.</span></span> <span data-ttu-id="87c3c-335">Dan은 Professional Windows DNA (Wrox) ASP.NET을 공동 저술 했습니다. 팁, 자습서 및 코드 (Sams), ASP.NET 1.1 Insider 솔루션, Professional ASP.NET 2.0 AJAX (Wrox), ASP.NET 2.0 MVP Hacks 및 ASP.NET 개발자 (Sams)에 대해 작성 된 XML입니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-335">Dan co-authored Professional Windows DNA (Wrox), ASP.NET: Tips, Tutorials and Code (Sams), ASP.NET 1.1 Insider Solutions, Professional ASP.NET 2.0 AJAX (Wrox), ASP.NET 2.0 MVP Hacks and authored XML for ASP.NET Developers (Sams).</span></span> <span data-ttu-id="87c3c-336">그 코드, 기사 또는 책을 기록 하지 않습니다, 작성 및 음악을 기록 및 골프 및 그의 아내와 어린이 농구 재생 Dan 이용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-336">When he's not writing code, articles or books, Dan enjoys writing and recording music and playing golf and basketball with his wife and kids.</span></span>

<span data-ttu-id="87c3c-337">Scott Cate 1997 년부터 Microsoft 웹 기술을 사용 하 여 왔습니다 이며 myKB.com의 대표이사로 서 ([www.myKB.com](http://www.myKB.com)) ASP.NET 작성 전문적 기반 응용 프로그램 기술 자료 소프트웨어 솔루션에 집중 합니다.</span><span class="sxs-lookup"><span data-stu-id="87c3c-337">Scott Cate has been working with Microsoft Web technologies since 1997 and is the President of myKB.com ([www.myKB.com](http://www.myKB.com)) where he specializes in writing ASP.NET based applications focused on Knowledge Base Software solutions.</span></span> <span data-ttu-id="87c3c-338">Scott 전자 메일을 통해 연락할 수 있습니다 [ scott.cate@myKB.com ](mailto:scott.cate@myKB.com) 저자의 블로그 또는 [ScottCate.com](http://ScottCate.com)</span><span class="sxs-lookup"><span data-stu-id="87c3c-338">Scott can be contacted via email at [scott.cate@myKB.com](mailto:scott.cate@myKB.com) or his blog at [ScottCate.com](http://ScottCate.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="87c3c-339">[이전](understanding-asp-net-ajax-localization.md)
> [다음](understanding-asp-net-ajax-debugging-capabilities.md)</span><span class="sxs-lookup"><span data-stu-id="87c3c-339">[Previous](understanding-asp-net-ajax-localization.md)
[Next](understanding-asp-net-ajax-debugging-capabilities.md)</span></span>
