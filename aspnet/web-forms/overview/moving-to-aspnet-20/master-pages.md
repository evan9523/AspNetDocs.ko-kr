---
uid: web-forms/overview/moving-to-aspnet-20/master-pages
title: 마스터 페이지 | Microsoft Docs
author: microsoft
description: 성공적인 웹 사이트의 주요 구성 요소 중 하나는 일관적인 모양과 느낌입니다. ASP.NET 1.x에서 개발자는 사용자 정의 컨트롤을 사용 하 여 일반 페이지를 복제 합니다.
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 9c0cce4d-efd9-4c14-b0e8-a1a140abb3f4
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/master-pages
msc.type: authoredcontent
ms.openlocfilehash: 36f2caf7c2c9bcafd22c8f6681c1d6b19fe5078a
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78457583"
---
# <a name="master-pages"></a>마스터 페이지

[Microsoft](https://github.com/microsoft) 에서

> 성공적인 웹 사이트의 주요 구성 요소 중 하나는 일관적인 모양과 느낌입니다. ASP.NET 1.x에서 개발자는 사용자 정의 컨트롤을 사용 하 여 웹 응용 프로그램에서 공용 페이지 요소를 복제 했습니다. 이 솔루션은 매우 유용한 솔루션 이지만 사용자 정의 컨트롤을 사용 하면 몇 가지 단점이 있습니다. 예를 들어 사용자 정의 컨트롤의 위치를 변경 하려면 사이트에서 여러 페이지를 변경 해야 합니다. 사용자 정의 컨트롤은 페이지에 삽입 된 후에도 디자인 뷰에서 렌더링 되지 않습니다.

성공적인 웹 사이트의 주요 구성 요소 중 하나는 일관적인 모양과 느낌입니다. ASP.NET 1.x에서 개발자는 사용자 정의 컨트롤을 사용 하 여 웹 응용 프로그램에서 공용 페이지 요소를 복제 했습니다. 이 솔루션은 매우 유용한 솔루션 이지만 사용자 정의 컨트롤을 사용 하면 몇 가지 단점이 있습니다. 예를 들어 사용자 정의 컨트롤의 위치를 변경 하려면 사이트에서 여러 페이지를 변경 해야 합니다. 사용자 정의 컨트롤은 페이지에 삽입 된 후에도 디자인 뷰에서 렌더링 되지 않습니다.

ASP.NET 2.0은 일관 된 모양과 느낌을 유지 하는 한 가지 방법으로 마스터 페이지를 소개 하며, 마스터 페이지는 사용자 정의 컨트롤 메서드에 비해 상당한 향상 된 기능을 제공 합니다.

## <a name="why-master-pages"></a>마스터 페이지가 왜 있나요?

ASP.NET 2.0에서 마스터 페이지가 필요한 이유를 궁금할 수 있습니다. 웹 사이트 개발자는 이미 ASP.NET 1.x의 사용자 정의 컨트롤을 사용 하 여 페이지 간에 콘텐츠 영역을 공유 하 고 있습니다. 실제로 사용자 컨트롤이 일반적인 레이아웃을 만들기 위한 최적의 솔루션이 되는 여러 가지 이유가 있습니다.

사용자 정의 컨트롤은 실제로 페이지 레이아웃을 정의 하지 않습니다. 대신, 페이지의 일부에 대 한 레이아웃 및 기능을 정의 합니다. 이러한 두 가지를 구분 하는 것은 사용자 컨트롤 솔루션의 관리 효율성을 훨씬 더 어렵게 하므로 중요 합니다. 예를 들어 페이지에서 사용자 정의 컨트롤의 위치를 변경 하려면 사용자 컨트롤이 표시 되는 실제 페이지를 편집 해야 합니다. 페이지 수가 많지 않은 경우에는 있거나이 매우 큰 사이트에서 빠르게 사이트 관리가 됩니다.

공용 레이아웃을 정의 하는 데 사용자 정의 컨트롤을 사용 하는 또 다른 단점은 ASP.NET 자체의 아키텍처를 기반으로 합니다. 사용자 정의 컨트롤의 public 멤버가 변경 된 경우 사용자 정의 컨트롤을 사용 하는 모든 페이지를 다시 컴파일해야 합니다. 그런 다음 ASP.NET는 처음 액세스할 때 페이지를 다시 JIT 합니다. 이를 통해 다시 한 번은 확장 불가능 한 아키텍처 및 대규모 사이트에 대 한 사이트 관리 문제를 생성 합니다.

이러한 문제 (및 기타)는 모두 ASP.NET 2.0의 마스터 페이지에 의해 깔끔하게 해결 됩니다.

## <a name="how-master-pages-work"></a>마스터 페이지의 작동 방식

마스터 페이지는 다른 페이지의 템플릿과 유사 합니다. 다른 페이지 (예: 메뉴, 테두리 등) 간에 공유 해야 하는 페이지 요소는 마스터 페이지에 추가 됩니다. 새 페이지가 사이트에 추가 되 면 마스터 페이지와 연결할 수 있습니다. 마스터 페이지와 연결 된 페이지를 **콘텐츠 페이지**라고 합니다. 기본적으로 콘텐츠 페이지는 마스터 페이지의 모양을 사용 합니다. 그러나 마스터 페이지를 만들 때 콘텐츠 페이지가 자신의 콘텐츠로 바꿀 수 있는 페이지 부분을 정의할 수 있습니다. 이러한 부분은 ASP.NET 2.0에 새로 추가 된 컨트롤을 사용 하 여 정의 됩니다. **ContentPlaceHolder** 컨트롤입니다.

마스터 페이지에는 개수에 관계 없이 ContentPlaceHolder 컨트롤이 포함 될 수 있습니다. 콘텐츠 페이지에서 ContentPlaceHolder 컨트롤의 콘텐츠는 ASP.NET 2.0의 또 다른 새로운 컨트롤인 **콘텐츠** 컨트롤 내에 표시 됩니다. 기본적으로 콘텐츠 페이지 콘텐츠 컨트롤은 사용자 고유의 콘텐츠를 제공할 수 있도록 비어 있습니다. 콘텐츠 컨트롤 내에서 마스터 페이지의 콘텐츠를 사용 하려는 경우이 작업을 수행할 수 있습니다 .이 작업은 나중에이 모듈에서 볼 수 있습니다. 콘텐츠 컨트롤은 콘텐츠 컨트롤의 ContentPlaceHolderID 특성을 통해 ContentPlaceHolder 컨트롤에 매핑됩니다. 아래 코드는 콘텐츠 컨트롤을 마스터 페이지의 mainBody 라는 ContentPlaceHolder 컨트롤에 매핑합니다.

[!code-aspx[Main](master-pages/samples/sample1.aspx)]

> [!NOTE]
> 사용자가 마스터 페이지를 다른 페이지의 기본 클래스로 설명 하는 경우가 종종 있습니다. 있거나 실제로는 그렇지 않습니다. 마스터 페이지와 콘텐츠 페이지 간의 관계는 상속 중 하나가 아닙니다.

**그림 1** 에는 마스터 페이지와 Visual Studio 2005에 표시 되는 연결 된 콘텐츠 페이지가 표시 됩니다. 마스터 페이지 및 콘텐츠 페이지의 해당 콘텐츠 컨트롤에서 ContentPlaceHolder 컨트롤을 볼 수 있습니다. ContentPlaceHolder 외부에 있는 마스터 페이지 콘텐츠가 표시 되지만 콘텐츠 페이지에서 회색으로 표시 됩니다. 콘텐츠 페이지에서 ContentPlaceHolder 내의 콘텐츠만 supplanted 수 있습니다. 마스터 페이지에서 제공 되는 다른 모든 내용은 변경할 수 없습니다.

![마스터 페이지 및 연결 된 콘텐츠 페이지](master-pages/_static/image1.jpg)

**그림 1**: 마스터 페이지 및 연결 된 콘텐츠 페이지

## <a name="creating-a-master-page"></a>마스터 페이지 만들기

새 마스터 페이지를 만들려면 다음을 수행 합니다.

1. Visual Studio 2005를 열고 새 웹 사이트를 만듭니다.
2. 파일, 새로 만들기, 파일을 차례로 클릭 합니다.
3. **그림 2**에 표시 된 것 처럼 새 항목 추가 대화 상자에서 마스터 파일을 선택 합니다.
4. 추가를 클릭합니다.

![새 마스터 페이지 만들기](master-pages/_static/image2.jpg)

**그림 2**: 새 마스터 페이지 만들기

마스터 페이지의 파일 확장명은 *.master*입니다. 이는 마스터 페이지가 일반 페이지와 다른 방법 중 하나입니다. 또 다른 주요 차이점은 @Page 지시문이 아니라 마스터 페이지에 @Master 지시어가 포함 된다는 것입니다. 방금 만든 마스터 페이지의 원본 뷰로 전환 하 고 코드를 검토 합니다.

새 마스터 페이지에는 기본적으로 하나의 ContentPlaceHolder 컨트롤이 있습니다. 대부분의 경우에는 먼저 common page 요소를 만든 다음 사용자 지정 콘텐츠가 필요한 ContentPlaceHolder 컨트롤을 삽입 하는 것이 더 적합 합니다. 이러한 경우 개발자는 기본 ContentPlaceHolder 컨트롤을 삭제 하 고 페이지가 개발 될 때 새 컨트롤을 삽입 하려고 합니다. 크기 조정 핸들을 표시 한다는 사실에도 불구 하 고 ContentPlaceHolder 컨트롤은 크기를 조정할 수 없습니다. ContentPlaceHolder 컨트롤 크기는 한 가지 예외를 포함 하 여 포함 된 콘텐츠에 따라 자동으로 조정 됩니다. ContentPlaceHolder 컨트롤을 테이블 셀과 같은 블록 요소 안에 두면 요소의 크기에 따라 크기가 조정 됩니다.

## <a name="lab-1-working-with-master-pages"></a>랩 1 마스터 페이지 작업

이 랩에서는 새 마스터 페이지를 만들고 세 개의 ContentPlaceHolder 컨트롤을 정의 합니다. 그런 다음 새 콘텐츠 페이지를 만들고 ContentPlaceHolder 컨트롤 중 하나 이상에서 콘텐츠를 바꿉니다.

1. 마스터 페이지를 만들고 ContentPlaceHolder 컨트롤을 삽입 합니다. 

    1. 위에서 설명한 대로 새 마스터 페이지를 만듭니다.
    2. 기본 ContentPlaceHolder 컨트롤을 삭제 합니다.
    3. 컨트롤의 음영 처리 된 위쪽 테두리를 클릭 하 여 ContentPlaceHolder 컨트롤을 선택 하 고 키보드의 DEL 키를 눌러 삭제 합니다.
    4. 그림 3에 표시 된 것 처럼 *헤더 및 측면* 템플릿을 사용 하 여 새 테이블을 삽입 합니다. 전체 테이블이 디자이너에 표시 되도록 너비와 높이를 각각 90%로 변경 합니다.

![](master-pages/_static/image3.jpg)

**그림 3**

1. 테이블의 각 셀에 커서를 놓고 *valign* 속성을 *top*으로 설정 합니다.
2. 도구 상자에서 테이블의 맨 위 셀 (머리글 셀)에 ContentPlaceHolder 컨트롤을 삽입 합니다.
3. 이 ContentPlaceHolder 컨트롤을 삽입 하는 경우 그림 4에 표시 된 것 처럼 행 높이가 전체 페이지를 차지 하는 것을 알 수 있습니다. 이 시점에서 걱정 하지 마세요.

![빈 공간은 ContentPlaceHolder와 동일한 셀에 있습니다.](master-pages/_static/image1.gif)

**그림 4**: 빈 공간이 ContentPlaceHolder와 동일한 셀에 있습니다.

1. 다른 두 셀에 ContentPlaceHolder 컨트롤을 추가 합니다. 다른 ContentPlaceHolder 컨트롤을 삽입 한 후에는 테이블 셀의 크기가 기대한 대로 여야 합니다. 이제 페이지가 **그림 5**에 표시 된 페이지와 같이 표시 됩니다.

![모든 ContentPlaceHolder 컨트롤을 포함 하는 마스터입니다. 머리글 셀에 대 한 셀 높이가 이제 어떻게 되어야 하는지 확인 합니다.](master-pages/_static/image2.gif)

**그림 5**: 모든 ContentPlaceHolder 컨트롤을 포함 하는 마스터 머리글 셀에 대 한 셀 높이가 이제 어떻게 되어야 하는지 확인 합니다.

1. 세 개의 ContentPlaceHolder 컨트롤 각각에 선택한 텍스트를 입력 합니다.
2. 마스터 페이지를 exercise1로 저장 합니다.
3. 새 Web Form을 만들고 exercise1 마스터 페이지에 연결 합니다.
4. Visual Studio 2005에서 파일, 새로 만들기, 파일을 선택 합니다.
5. 새 항목 추가 대화 상자에서 **Web Form** 을 선택 합니다.
6. 그림 6과 같이 마스터 페이지 선택 확인란을 선택 했는지 확인 합니다.

![새 콘텐츠 페이지 추가](master-pages/_static/image3.gif)

**그림 6**: 새 콘텐츠 페이지 추가

1. 추가를 클릭합니다.
2. 그림 7에 표시 된 것 처럼 마스터 페이지 선택 대화 상자에서 exercise1를 선택 합니다.
3. 확인을 클릭 하 여 새 콘텐츠 페이지를 추가 합니다.

새 콘텐츠 페이지는 마스터 페이지의 각 ContentPlaceHolder 컨트롤에 대해 하나의 콘텐츠 컨트롤을 사용 하 여 Visual Studio에 나타납니다. 콘텐츠 컨트롤은 기본적으로 비어 있으므로 고유한 콘텐츠를 추가할 수 있습니다. 마스터 페이지에서 ContentPlaceHolder 컨트롤의 콘텐츠를 사용 하려면 **그림 8**에 표시 된 것 처럼 스마트 태그 기호 (컨트롤의 오른쪽 위 모퉁이에 있는 작은 검은색 화살표)를 클릭 하 고 기본값을 선택 하 여 스마트 태그의 *콘텐츠를 마스터* 합니다. 이렇게 하면 메뉴 항목이 *사용자 지정 콘텐츠를 만들도록*변경 됩니다. 해당 지점에서 클릭 하면 해당 콘텐츠 컨트롤에 대 한 사용자 지정 콘텐츠를 정의 하는 데 사용할 수 있는 마스터 페이지에서 콘텐츠가 제거 됩니다.

![콘텐츠 컨트롤을 마스터 페이지 내용으로 기본 설정](master-pages/_static/image4.gif)

**그림 7**: 콘텐츠 컨트롤을 마스터 페이지 콘텐츠에 기본값으로 설정

## <a name="connecting-master-page-and-content-pages"></a>마스터 페이지 및 콘텐츠 페이지 연결

마스터 페이지와 콘텐츠 페이지 간 연결은 다음 네 가지 방법 중 하나로 구성할 수 있습니다.

- @Page 지시문의 <strong>MasterPageFile</strong> 특성
- 코드에서 **MasterPageFile** 속성을 설정 합니다.
- 응용 프로그램 구성 파일 (응용 프로그램의 루트 폴더에 있는 web.config)의 **&lt;페이지&gt;** 요소
- 하위 폴더 구성 파일 (하위 폴더의 web.config)에 있는 **&lt;페이지&gt;** 요소

## <a name="masterpagefile-attribute"></a>MasterPageFile 특성

MasterPageFile 특성을 사용 하면 특정 ASP.NET 페이지에 마스터 페이지를 쉽게 적용할 수 있습니다. 연습 1에서 수행한 것 처럼 **마스터 페이지 선택** 확인란을 선택 하는 경우 마스터 페이지를 적용 하는 데 사용 되는 방법 이기도 합니다.

## <a name="setting-pagemasterpagefile-in-code"></a>코드에서 MasterPageFile 설정

코드에서 MasterPageFile 속성을 설정 하 여 런타임에 특정 마스터 페이지를 콘텐츠에 적용할 수 있습니다. 사용자 역할 또는 다른 조건에 따라 특정 마스터 페이지를 적용 해야 하는 경우에 유용 합니다. PreInit 메서드에서 MasterPageFile 속성을 설정 해야 합니다. PreInit 메서드 다음에 설정 된 경우 InvalidOperationException이 throw 됩니다. 이 속성을 설정 하는 페이지에는 페이지의 최상위 컨트롤로 콘텐츠 컨트롤도 있어야 합니다. 그렇지 않으면 MasterPageFile 속성이 설정 된 경우 HttpException이 throw 됩니다.

## <a name="using-the-ltpagesgt-element"></a>&lt;pages&gt; 요소 사용

Web.config 파일의 &lt;pages&gt; 요소에서 masterPageFile 특성을 설정 하 여 페이지에 대 한 마스터 페이지를 구성할 수 있습니다. 이 메서드를 사용 하는 경우 응용 프로그램 구조의 하위 web.config 파일이이 설정을 재정의할 수 있습니다. @Page 지시문에 설정 된 모든 MasterPageFile 특성은이 설정도 재정의 합니다. &lt;pages&gt; 요소를 사용 하면 특정 폴더 또는 파일에서 필요한 경우 재정의할 수 있는 *마스터* 마스터 페이지를 간단 하 게 만들 수 있습니다.

## <a name="properties-in-master-pages"></a>마스터 페이지의 속성

마스터 페이지는 마스터 페이지 내에서 해당 속성을 공용으로 설정 하 여 속성을 노출할 수 있습니다. 예를 들어 다음 코드는 SomeProperty 라는 속성을 정의 합니다.

[!code-csharp[Main](master-pages/samples/sample2.cs)]

콘텐츠 페이지에서 SomeProperty 속성에 액세스 하려면 다음과 같이 Master 속성을 사용 해야 합니다.

[!code-csharp[Main](master-pages/samples/sample3.cs)]

## <a name="nesting-master-pages"></a>마스터 페이지 중첩

마스터 페이지는 규모가 많은 웹 응용 프로그램에서 공통적인 모양과 느낌을 보장 하기 위한 완벽 한 솔루션입니다. 그러나 다른 파트는 다른 인터페이스를 공유 하는 반면, 규모가 많은 사이트의 특정 부분은 공통 인터페이스를 공유 하는 것이 일반적입니다. 이러한 요구를 해결 하기 위해 여러 마스터 페이지가 완벽 한 솔루션입니다. 그러나이 경우에도 사이트의 특정 섹션 간에만 공유 되는 모든 페이지 및 기타 구성 요소 간에 공유 되는 특정 구성 요소 (예: 메뉴 등)가 규모가 많은 응용 프로그램에 포함 될 수 있다는 사실이 해결 되지 않습니다. 이러한 유형의 상황에서 중첩 된 마스터 페이지는 필요에 맞게 채웁니다. 앞서 살펴본 것 처럼 일반 마스터 페이지는 마스터 페이지와 콘텐츠 페이지로 구성 됩니다. 중첩 된 마스터 페이지 상황에서는 두 개의 마스터 페이지가 있습니다. 부모 마스터 및 자식 마스터입니다. 자식 마스터 페이지도 콘텐츠 페이지 이며 마스터는 부모 마스터 페이지입니다.

일반적인 마스터 페이지에 대 한 코드는 다음과 같습니다.

[!code-aspx[Main](master-pages/samples/sample4.aspx)]

중첩 된 마스터 시나리오에서이는 부모 마스터가 됩니다. 다른 마스터 페이지는이 페이지를 마스터 페이지로 사용 하 고 해당 코드는 다음과 같습니다.

[!code-aspx[Main](master-pages/samples/sample5.aspx)]

이 시나리오에서 자식 마스터는 부모 마스터의 콘텐츠 페이지 이기도 합니다. 모든 자식 마스터의 내용이 부모 ContentPlaceHolder 컨트롤에서 해당 콘텐츠를 가져오는 콘텐츠 컨트롤 내에 표시 됩니다.

> [!NOTE]
> 중첩 된 마스터 페이지에는 디자이너 지원을 사용할 수 없습니다. 중첩 된 마스터를 사용 하 여 개발 하는 경우에는 소스 뷰를 사용 해야 합니다.

이 비디오에서는 중첩 된 마스터 페이지를 사용 하는 연습을 보여 줍니다.

![](master-pages/_static/image1.png)

[전체 화면 비디오 열기](master-pages/_static/nested1.wmv)

![마스터 페이지 선택](master-pages/_static/image4.jpg)

**그림 8**: 마스터 페이지 선택
