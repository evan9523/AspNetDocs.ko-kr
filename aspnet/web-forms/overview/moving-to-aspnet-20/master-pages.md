---
uid: web-forms/overview/moving-to-aspnet-20/master-pages
title: 마스터 페이지 | 마이크로 소프트 문서
author: rick-anderson
description: 성공적인 웹 사이트의 핵심 구성 요소 중 하나는 일관된 모양과 느낌입니다. ASP.NET 1.x에서 개발자는 사용자 컨트롤을 사용하여 공통 페이지 elem을 복제했습니다...
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 9c0cce4d-efd9-4c14-b0e8-a1a140abb3f4
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/master-pages
msc.type: authoredcontent
ms.openlocfilehash: b493feb21d2e3d6429f0a23df5aab66e0c4c5b07
ms.sourcegitcommit: 022f79dbc1350e0c6ffaa1e7e7c6e850cdabf9af
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/17/2020
ms.locfileid: "81543186"
---
# <a name="master-pages"></a>마스터 페이지

[로 마이크로 소프트](https://github.com/microsoft)

> 성공적인 웹 사이트의 핵심 구성 요소 중 하나는 일관된 모양과 느낌입니다. ASP.NET 1.x에서 개발자는 사용자 컨트롤을 사용하여 웹 응용 프로그램에서 공통 페이지 요소를 복제했습니다. 이는 확실히 실행 가능한 솔루션이지만 사용자 컨트롤을 사용하면 몇 가지 단점이 있습니다. 예를 들어 사용자 컨트롤의 위치를 변경하려면 사이트 전체의 여러 페이지를 변경해야 합니다. 또한 사용자 컨트롤은 페이지에 삽입된 후 디자인 보기에서 렌더링되지 않습니다.

성공적인 웹 사이트의 핵심 구성 요소 중 하나는 일관된 모양과 느낌입니다. ASP.NET 1.x에서 개발자는 사용자 컨트롤을 사용하여 웹 응용 프로그램에서 공통 페이지 요소를 복제했습니다. 이는 확실히 실행 가능한 솔루션이지만 사용자 컨트롤을 사용하면 몇 가지 단점이 있습니다. 예를 들어 사용자 컨트롤의 위치를 변경하려면 사이트 전체의 여러 페이지를 변경해야 합니다. 또한 사용자 컨트롤은 페이지에 삽입된 후 디자인 보기에서 렌더링되지 않습니다.

ASP.NET 2.0은 일관된 모양과 느낌을 유지하는 방법으로 마스터 페이지를 소개하며 곧 볼 수 있듯이 마스터 페이지는 사용자 제어 방법에 비해 크게 향상되었습니다.

## <a name="why-master-pages"></a>왜 마스터 페이지인가?

ASP.NET 2.0에서 마스터 페이지가 필요한 이유가 궁금할 수 있습니다. 결국 웹 사이트 개발자는 이미 ASP.NET 1.x의 사용자 컨트롤을 사용하여 페이지 간에 콘텐츠 영역을 공유하고 있습니다. 실제로 사용자 컨트롤이 공통 레이아웃을 만들기 에 최적화되지 않은 솔루션인 데는 몇 가지 이유가 있습니다.

사용자 컨트롤은 실제로 페이지 레이아웃을 정의하지 않습니다. 대신 페이지의 일부에 대한 레이아웃과 기능을 정의합니다. 사용자 제어 솔루션의 관리 용이성을 훨씬 더 어렵게 만들기 때문에 이 두 가지 의 구분이 중요합니다. 예를 들어 페이지에서 사용자 컨트롤의 위치를 변경하려면 사용자 컨트롤이 표시되는 실제 페이지를 편집해야 합니다. 당신은 단지 몇 페이지가있는 경우 괜찮아요, 하지만 큰 사이트에서, 그것은 신속하게 사이트 관리 악몽이된다!

공통 레이아웃을 정의하기 위해 사용자 컨트롤을 사용하는 또 다른 단점은 ASP.NET 아키텍처 자체에 뿌리를 두고 있습니다. 사용자 컨트롤의 공용 멤버가 변경되면 사용자 컨트롤을 사용하는 모든 페이지를 다시 컴파일해야 합니다. 차례로, ASP.NET 처음 액세스 할 때 페이지를 다시 JIT합니다. 이렇게 하면 확장불가능한 아키텍처와 대규모 사이트에 대한 사이트 관리 문제가 다시 발생합니다.

이러한 문제 (그리고 더 많은)는 ASP.NET 2.0의 마스터 페이지에서 잘 해결됩니다.

## <a name="how-master-pages-work"></a>마스터 페이지의 작동 방식

마스터 페이지는 다른 페이지의 템플릿과 유사합니다. 다른 페이지(예: 메뉴, 테두리 등)간에 공유해야 하는 페이지 요소가 마스터 페이지에 추가됩니다. 사이트에 새 페이지가 추가되면 마스터 페이지와 연결할 수 있습니다. 마스터 페이지와 연결된 페이지를 **콘텐츠 페이지라고**합니다. 기본적으로 콘텐츠 페이지는 마스터 페이지에서 모양을 취합니다. 그러나 마스터 페이지를 만들 때 콘텐츠 페이지가 자체 콘텐츠로 대체할 수 있는 페이지 부분을 정의할 수 있습니다. 이러한 부분은 ASP.NET 2.0에 도입된 새로운 컨트롤을 사용하여 정의됩니다. **콘텐츠자리 표시자** 컨트롤.

마스터 페이지에는 컨텐스플레이스 홀더 컨트롤(또는 전혀 없음)이 포함될 수 있습니다. 콘텐츠 페이지에서 ContentPlaceHolder 컨트롤의 콘텐츠가 **콘텐츠** 컨트롤 내부에 나타나며, ASP.NET 2.0의 또 다른 새 컨트롤이 나타납니다. 기본적으로 콘텐츠 컨트롤 컨트롤은 비어 있으므로 사용자 고유의 콘텐츠를 제공할 수 있습니다. 콘텐츠 컨트롤 내부의 마스터 페이지에서 콘텐츠를 사용하려는 경우 이 모듈의 후반부에서 볼 수 있듯이 이렇게 할 수 있습니다. 콘텐츠 컨트롤은 콘텐츠 컨트롤의 ContentPlaceHolderID 특성을 통해 콘텐츠자리 표시자 컨트롤에 매핑됩니다. 아래 코드는 콘텐츠 컨트롤을 마스터 페이지에서 mainBody라고 하는 ContentPlaceHolder 컨트롤에 매핑합니다.

[!code-aspx[Main](master-pages/samples/sample1.aspx)]

> [!NOTE]
> 마스터 페이지를 다른 페이지의 기본 클래스로 묘사하는 경우가 많습니다. 그건 사실이 아니다. 마스터 페이지와 콘텐츠 페이지 간의 관계는 상속 중 하나가 아닙니다.

**그림 1은** Visual Studio 2005에 표시되는 마스터 페이지와 관련 콘텐츠 페이지를 보여 주며, 이 페이지는 마스터 페이지에서 ContentPlaceHolder 컨트롤과 콘텐츠 페이지에서 해당 콘텐츠 컨트롤을 볼 수 있습니다. ContentPlaceHolder 외부에 있는 마스터 페이지 콘텐츠는 표시되지만 콘텐츠 페이지에서 회색으로 표시됩니다. ContentPlaceHolder 내부의 내용만 콘텐츠 페이지에서 대체할 수 있습니다. 마스터 페이지에서 제공되는 다른 모든 콘텐츠는 변경할 수 없습니다.

![마스터 페이지 및 관련 콘텐츠 페이지](master-pages/_static/image1.jpg)

**그림 1**: 마스터 페이지 및 관련 콘텐츠 페이지

## <a name="creating-a-master-page"></a>마스터 페이지 만들기

새 마스터 페이지를 만들려면 다음을 수행합니다.

1. Visual Studio 2005를 열고 새 웹 사이트를 만듭니다.
2. 파일, 새, 파일을 클릭합니다.
3. **그림 2와**같이 새 항목 추가 대화 상자에서 마스터 파일을 선택합니다.
4. 추가를 클릭합니다.

![새 마스터 페이지 만들기](master-pages/_static/image2.jpg)

**그림 2**: 새 마스터 페이지 만들기

마스터 페이지의 파일 확장은 *.master 입니다.* 이 방법은 마스터 페이지가 일반 페이지와 다른 방법 중 하나입니다. 다른 주요 차이점은 @Page 지시문 대신 마스터 페이지에 @Master 지시문이 포함되어 있다는 것입니다. 방금 만든 마스터 페이지의 소스 보기로 전환하고 코드를 검토합니다.

새 마스터 페이지에는 기본적으로 하나의 ContentPlaceHolder 컨트롤이 있습니다. 대부분의 경우 공통 페이지 요소를 먼저 만든 다음 사용자 지정 콘텐츠가 필요한 곳에 ContentPlaceHolder 컨트롤을 삽입하는 것이 더 합리적입니다. 이러한 경우 개발자는 기본 ContentPlaceHolder 컨트롤을 삭제하고 페이지가 개발될 때 새 컨트롤을 삽입하려고 합니다. ContentPlaceHolder 컨트롤은 크기 조정 핸들을 표시한다는 사실에도 불구하고 크기를 조정할 수 없습니다. ContentPlaceHolder 컨트롤은 한 가지 예외를 제외하고 포함된 콘텐츠에 따라 자동으로 크기를 조정합니다. 테이블 셀과 같은 블록 요소 내부에 ContentPlaceHolder 컨트롤을 배치하면 요소의 크기에 따라 크기가 조정됩니다.

## <a name="lab-1-working-with-master-pages"></a>랩 1 마스터 페이지 작업

이 실습에서는 새 마스터 페이지를 만들고 세 개의 ContentPlaceHolder 컨트롤을 정의합니다. 그런 다음 새 콘텐츠 페이지를 만들고 콘텐츠PlaceHolder 컨트롤 중 하나 이상에서 콘텐츠를 대체합니다.

1. 마스터 페이지를 만들고 콘텐츠자리 표시자 컨트롤을 삽입합니다. 

    1. 위에서 설명한 대로 새 마스터 페이지를 만듭니다.
    2. 기본 콘텐츠자리 표시자 컨트롤을 삭제합니다.
    3. 컨트롤의 그늘진 상단 테두리를 클릭하여 ContentPlaceHolder 컨트롤을 선택한 다음 키보드의 DEL 키를 눌러 삭제합니다.
    4. 그림 3과 같이 *헤더 및 측면* 템플릿을 사용하여 새 테이블을 삽입합니다. 전체 테이블이 디자이너에서 표시되도록 너비와 높이를 각각 90%로 변경합니다.

![](master-pages/_static/image3.jpg)

**그림 3**

1. 커서를 테이블의 각 셀에 배치하고 *valign* 속성을 *맨 위로*설정합니다.
2. 도구 상자에서 테이블의 위쪽 셀(헤더 셀)에 ContentPlaceHolder 컨트롤을 삽입합니다.
3. 이 ContentPlaceHolder 컨트롤을 삽입하면 그림 4와 같이 행 높이가 거의 전체 페이지를 차지한다는 것을 알 수 있습니다. 이 시점에서 그것에 대해 걱정하지 마십시오.

![빈 공간이 ContentPlaceHolder와 동일한 셀에 있습니다.](master-pages/_static/image1.gif)

**그림 4**: 빈 공간이 ContentPlaceHolder와 동일한 셀에 있습니다.

1. ContentPlaceHolder 컨트롤을 다른 두 셀에 배치합니다. 다른 ContentPlaceHolder 컨트롤이 삽입되면 테이블 셀의 크기가 예상대로 되어야 합니다. 이제 페이지는 **그림 5에**표시된 페이지와 같아야 합니다.

![모든 콘텐츠PlaceHolder 컨트롤이 있는 마스터입니다. 헤더 셀의 셀 높이는 이제](master-pages/_static/image2.gif)

**그림 5**: 모든 콘텐츠플레이스 홀더가 컨트롤하는 마스터입니다. 헤더 셀의 셀 높이는 이제

1. 세 개의 ContentPlaceHolder 컨트롤 각각에 선택한 텍스트를 입력합니다.
2. 마스터 페이지를 exercise1.master로 저장합니다.
3. 새 웹 양식을 만들고 exercise1.master 마스터 페이지와 연결합니다.
4. 비주얼 스튜디오 2005에서 파일, 새 파일, 파일을 선택합니다.
5. 새 항목 추가 대화 상자에서 **웹 양식을** 선택합니다.
6. 그림 6과 같이 마스터 선택 페이지 확인란이 선택되어 있는지 확인합니다.

![새 콘텐츠 페이지 추가](master-pages/_static/image3.gif)

**그림 6**: 새 콘텐츠 페이지 추가

1. 추가를 클릭합니다.
2. 그림 7과 같이 마스터 페이지 선택 대화 상자에서 exercise1.master를 선택합니다.
3. 확인을 클릭하여 새 콘텐츠 페이지를 추가합니다.

새 콘텐츠 페이지는 마스터 페이지의 각 ContentPlaceHolder 컨트롤에 대해 하나의 콘텐츠 컨트롤이 있는 Visual Studio에 나타납니다. 기본적으로 콘텐츠 컨트롤은 비어 있으므로 사용자 고유의 콘텐츠를 추가할 수 있습니다. 마스터 페이지의 ContentPlaceHolder 컨트롤의 콘텐츠를 사용하려면 스마트 태그 기호(컨트롤의 오른쪽 위 모서리에 있는 작은 검은색 화살표)를 클릭하고 **그림 8과**같이 스마트 태그에서 *마스터 콘텐츠로 기본값을* 선택하기만 하면 됩니다. 이렇게 하면 메뉴 항목이 *사용자 지정 콘텐츠 만들기로*변경됩니다. 이 시점에서 클릭하면 마스터 페이지에서 콘텐츠가 제거되므로 특정 콘텐츠 컨트롤에 대한 사용자 지정 콘텐츠를 정의할 수 있습니다.

![콘텐츠 컨트롤을 마스터 페이지 콘텐츠로 기본값으로 설정](master-pages/_static/image4.gif)

**그림 7**: 콘텐츠 컨트롤을 마스터 페이지 콘텐츠로 기본값으로 설정

## <a name="connecting-master-page-and-content-pages"></a>마스터 페이지 및 콘텐츠 페이지 연결

마스터 페이지와 콘텐츠 페이지 간의 연결은 다음 네 가지 방법 중 하나로 구성할 수 있습니다.

- 지시문마스터페이지파일 특성 <strong>MasterPageFile</strong> @Page
- 코드에서 **Page.MasterPageFile 속성을 설정합니다.**
- 응용 프로그램 구성 파일의 ** &lt;페이지&gt; ** 요소(응용 프로그램의 루트 폴더에 있는 web.config)
- 하위 폴더 구성 파일의 ** &lt;페이지&gt; ** 요소(하위 폴더의 web.config)

## <a name="masterpagefile-attribute"></a>마스터페이지파일 속성

MasterPageFile 특성을 사용하면 특정 ASP.NET 페이지에 마스터 페이지를 쉽게 적용할 수 있습니다. 또한 연습 1에서와 같이 **마스터 페이지 선택** 확인란을 선택할 때 마스터 페이지를 적용하는 데 사용되는 방법입니다.

## <a name="setting-pagemasterpagefile-in-code"></a>코드에서 페이지 설정.마스터페이지파일

코드에서 MasterPageFile 속성을 설정 하 여 런타임에 콘텐츠에 특정 마스터 페이지를 적용할 수 있습니다. 이 기능은 사용자 역할 또는 다른 기준에 따라 특정 마스터 페이지를 적용해야 하는 경우에 유용합니다. MasterPageFile 속성은 PreInit 메서드에서 설정 해야 합니다. PreInit 메서드 후에 설정 된 경우 잘못 된 OperationException throw 됩니다. 이 속성이 설정되는 페이지에는 페이지의 최상위 컨트롤로 콘텐츠 컨트롤도 있어야 합니다. 그렇지 않으면 MasterPageFile 속성이 설정될 때 HttpException이 throw됩니다.

## <a name="using-the-ltpagesgt-element"></a>&lt;페이지&gt; 요소 사용

web.config 파일의 &lt;페이지 요소에 masterPageFile 특성을&gt; 설정 하 여 페이지에 대 한 마스터 페이지를 구성할 수 있습니다. 이 방법을 사용하는 경우 응용 프로그램 구조에서 아래쪽에 있는 web.config 파일이 이 설정을 재정의할 수 있습니다. @Page 지시문에 설정된 모든 MasterPageFile 특성도 이 설정을 재정의합니다. 페이지 요소를 사용하면 특정 폴더 나 파일에서 필요한 경우 재정의 할 수있는 마스터 마스터 페이지를 간단하게 만들 수 있습니다. *master* &lt;&gt;

## <a name="properties-in-master-pages"></a>마스터 페이지의 속성

마스터 페이지는 마스터 페이지 내에서 해당 속성을 공개하기만 하면 속성을 노출할 수 있습니다. 예를 들어 다음 코드는 SomeProperty라는 속성을 정의합니다.

[!code-csharp[Main](master-pages/samples/sample2.cs)]

콘텐츠 페이지에서 SomeProperty 속성에 액세스하려면 다음과 같이 Master 속성을 사용해야 합니다.

[!code-csharp[Main](master-pages/samples/sample3.cs)]

## <a name="nesting-master-pages"></a>마스터 페이지 중첩

마스터 페이지는 대규모 웹 응용 프로그램에서 공통된 모양과 느낌을 보장하기 위한 완벽한 솔루션입니다. 그러나 다른 부분이 다른 인터페이스를 공유하는 동안 큰 사이트의 특정 부분이 공통 인터페이스를 공유하는 것은 드문 일이 아닙니다. 이러한 요구 사항을 해결하기 위해 여러 마스터 페이지가 완벽한 솔루션입니다. 그러나 큰 응용 프로그램에는 사이트의 특정 섹션 간에만 공유되는 모든 페이지 및 기타 구성 요소 간에 공유되는 특정 구성 요소(예: 메뉴)가 있을 수 있다는 사실은 여전히 해결되지 않습니다. 이러한 유형의 상황에 대해 중첩된 마스터 페이지는 필요를 잘 채웁니다. 앞서 보시다시하면 일반 마스터 페이지는 마스터 페이지와 콘텐츠 페이지로 구성됩니다. 중첩된 마스터 페이지 상황에서는 두 개의 마스터 페이지가 있습니다. 부모 마스터와 자식 마스터. 자식 마스터 페이지도 콘텐츠 페이지이며 마스터는 상위 마스터 페이지입니다.

일반적인 마스터 페이지의 코드는 다음과 같습니다.

[!code-aspx[Main](master-pages/samples/sample4.aspx)]

중첩된 마스터 시나리오에서는 부모 마스터가 됩니다. 또 다른 마스터 페이지는 이 페이지를 마스터 페이지로 사용하며 해당 코드는 다음과 같습니다.

[!code-aspx[Main](master-pages/samples/sample5.aspx)]

이 시나리오에서는 자식 마스터는 상위 마스터의 콘텐츠 페이지이기도 합니다. 모든 자식 마스터의 콘텐츠는 부모의 ContentPlaceHolder 컨트롤에서 해당 콘텐츠를 가져옵니다 콘텐츠 컨트롤 안에 나타납니다.

> [!NOTE]
> 중첩된 마스터 페이지에는 디자이너 지원을 사용할 수 없습니다. 중첩된 마스터를 사용하여 개발하는 경우 원본 뷰를 사용해야 합니다.

이 비디오에서는 중첩된 마스터 페이지를 사용하는 연습이 표시됩니다.

![](master-pages/_static/image1.png)

[전체 화면 비디오 열기](master-pages/_static/nested1.wmv)

![마스터 페이지 선택](master-pages/_static/image4.jpg)

**그림 8**: 마스터 페이지 선택
