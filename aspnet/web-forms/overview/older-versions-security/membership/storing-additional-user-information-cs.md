---
uid: web-forms/overview/older-versions-security/membership/storing-additional-user-information-cs
title: 저장할 추가 사용자 정보 (C#) | Microsoft Docs
author: rick-anderson
description: 이 자습서에서는 매우 기본적인 방명록 응용 프로그램을 작성 하 여이 질문에 대답은 했습니다. 이 과정에서 살펴보겠습니다 modeli에 대 한 다른 옵션...
ms.author: riande
ms.date: 01/18/2008
ms.assetid: 1642132a-1ca5-4872-983f-ab59fc8865d3
msc.legacyurl: /web-forms/overview/older-versions-security/membership/storing-additional-user-information-cs
msc.type: authoredcontent
ms.openlocfilehash: 08b2e71553d9c1c8158debd05e19a3d1b146b319
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59412361"
---
# <a name="storing-additional-user-information-c"></a><span data-ttu-id="4ca08-104">추가 사용자 정보 저장(C#)</span><span class="sxs-lookup"><span data-stu-id="4ca08-104">Storing Additional User Information (C#)</span></span>

<span data-ttu-id="4ca08-105">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="4ca08-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="4ca08-106">[코드를 다운로드](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/ASPNET_Security_Tutorial_08_CS.zip) 또는 [PDF 다운로드](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/aspnet_tutorial08_ExtraUserInfo_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="4ca08-106">[Download Code](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/ASPNET_Security_Tutorial_08_CS.zip) or [Download PDF](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/aspnet_tutorial08_ExtraUserInfo_cs.pdf)</span></span>

> <span data-ttu-id="4ca08-107">이 자습서에서는 매우 기본적인 방명록 응용 프로그램을 작성 하 여이 질문에 대답은 했습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-107">In this tutorial we will answer this question by building a very rudimentary guestbook application.</span></span> <span data-ttu-id="4ca08-108">이 과정에서 데이터베이스에서 사용자 정보를 모델링 하기 위한 다양 한 옵션을 살펴보고 하 고 멤버 자격 프레임 워크에 의해 생성 된 사용자 계정을 사용 하 여이 데이터를 연결 하는 방법을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="4ca08-108">In doing so, we will look at different options for modeling user information in a database, and then see how to associate this data with the user accounts created by the Membership framework.</span></span>


## <a name="introduction"></a><span data-ttu-id="4ca08-109">소개</span><span class="sxs-lookup"><span data-stu-id="4ca08-109">Introduction</span></span>

<span data-ttu-id="4ca08-110">ASP 합니다. NET의 멤버 자격 프레임 워크는 사용자를 관리 하기 위한 유연한 인터페이스를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-110">ASP.NET's Membership framework offers a flexible interface for managing users.</span></span> <span data-ttu-id="4ca08-111">멤버 자격 API는 자격 증명 유효성 검사, 현재 로그온된 한 사용자에 대 한 정보를 검색, 새 사용자 계정을 만들고 삭제 하기 위한 다른 사용자 계정에는 메서드를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-111">The Membership API includes methods for validating credentials, retrieving information about the currently logged on user, creating a new user account, and deleting a user account, among others.</span></span> <span data-ttu-id="4ca08-112">멤버 자격 프레임 워크에서 각 사용자 계정 자격 증명 유효성 검사 및 필수 사용자 계정 관련 작업 수행에 필요한 속성만 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-112">Each user account in the Membership framework contains only the properties needed for validating credentials and performing essential user account-related tasks.</span></span> <span data-ttu-id="4ca08-113">메서드 및 속성의 된 수치로 증명은이 [ `MembershipUser` 클래스](https://msdn.microsoft.com/library/system.web.security.membershipuser.aspx)를 모델링 하는 멤버 자격 프레임 워크의 사용자 계정입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-113">This is evidenced by the methods and properties of the [`MembershipUser` class](https://msdn.microsoft.com/library/system.web.security.membershipuser.aspx), which models a user account in the Membership framework.</span></span> <span data-ttu-id="4ca08-114">이 클래스와 같은 속성이 [ `UserName` ](https://msdn.microsoft.com/library/system.web.security.membershipuser.username.aspx), [ `Email` ](https://msdn.microsoft.com/library/system.web.security.membershipuser.email.aspx), 및 [ `IsLockedOut` ](https://msdn.microsoft.com/library/system.web.security.membershipuser.islockedout.aspx), 및와 같은 메서드 [ `GetPassword` ](https://msdn.microsoft.com/library/system.web.security.membershipuser.getpassword.aspx) 하 고 [ `UnlockUser` ](https://msdn.microsoft.com/library/system.web.security.membershipuser.unlockuser.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-114">This class has properties like [`UserName`](https://msdn.microsoft.com/library/system.web.security.membershipuser.username.aspx), [`Email`](https://msdn.microsoft.com/library/system.web.security.membershipuser.email.aspx), and [`IsLockedOut`](https://msdn.microsoft.com/library/system.web.security.membershipuser.islockedout.aspx), and methods like [`GetPassword`](https://msdn.microsoft.com/library/system.web.security.membershipuser.getpassword.aspx) and [`UnlockUser`](https://msdn.microsoft.com/library/system.web.security.membershipuser.unlockuser.aspx).</span></span>

<span data-ttu-id="4ca08-115">종종 응용 프로그램 멤버 자격 프레임 워크에 없는 추가 사용자 정보를 저장 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-115">Oftentimes, applications need to store additional user information not included in the Membership framework.</span></span> <span data-ttu-id="4ca08-116">예를 들어, 온라인 소매점 각 사용자 게 배송 및 대금 청구 주소, 결제 정보 배달 기본 설정에 저장 하 고 연락처 전화 번호를 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-116">For example, an online retailer might need to let each user store her shipping and billing addresses, payment information, delivery preferences, and contact phone number.</span></span> <span data-ttu-id="4ca08-117">또한 각 주문 시스템에 특정 사용자 계정과 관련이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-117">Furthermore, each order in the system is associated with a particular user account.</span></span>

<span data-ttu-id="4ca08-118">합니다 `MembershipUser` 클래스와 같은 속성을 포함 하지 않습니다 `PhoneNumber` 하거나 `DeliveryPreferences` 또는 `PastOrders`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-118">The `MembershipUser` class does not include properties like `PhoneNumber` or `DeliveryPreferences` or `PastOrders`.</span></span> <span data-ttu-id="4ca08-119">그렇다면 어떻게 수행 응용 프로그램에 필요한 사용자 정보를 추적 하 고 멤버 자격 프레임 워크와 통합 되 게?</span><span class="sxs-lookup"><span data-stu-id="4ca08-119">So how do we track the user information needed by the application and have it integrate with the Membership framework?</span></span> <span data-ttu-id="4ca08-120">이 자습서에서는 매우 기본적인 방명록 응용 프로그램을 작성 하 여이 질문에 대답은 했습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-120">In this tutorial we will answer this question by building a very rudimentary guestbook application.</span></span> <span data-ttu-id="4ca08-121">이 과정에서 데이터베이스에서 사용자 정보를 모델링 하기 위한 다양 한 옵션을 살펴보고 하 고 멤버 자격 프레임 워크에 의해 생성 된 사용자 계정을 사용 하 여이 데이터를 연결 하는 방법을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="4ca08-121">In doing so, we will look at different options for modeling user information in a database, and then see how to associate this data with the user accounts created by the Membership framework.</span></span> <span data-ttu-id="4ca08-122">이제 시작 하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-122">Let's get started!</span></span>

## <a name="step-1-creating-the-guestbook-applications-data-model"></a><span data-ttu-id="4ca08-123">1단계: 방명록 응용 프로그램의 데이터 모델 만들기</span><span class="sxs-lookup"><span data-stu-id="4ca08-123">Step 1: Creating the Guestbook Application's Data Model</span></span>

<span data-ttu-id="4ca08-124">데이터베이스에서 사용자 정보를 캡처 및 멤버 자격 프레임 워크에 의해 생성 된 사용자 계정을 사용 하 여 연결 하는 데 사용할 수 있는 기술의 여러 가지가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-124">There are a variety of techniques that can be employed to capture user information in a database and associate it with the user accounts created by the Membership framework.</span></span> <span data-ttu-id="4ca08-125">이러한 기법을 보여 주기 위해 일종의 사용자 관련 데이터를 캡처할 수 있도록 자습서 웹 응용 프로그램을 확장 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-125">In order to illustrate these techniques, we will need to augment the tutorial web application so that it captures some sort of user-related data.</span></span> <span data-ttu-id="4ca08-126">(응용 프로그램의 데이터 모델에서 응용 프로그램에 필요한 테이블 서비스에을 포함 하는 현재는 `SqlMembershipProvider`.)</span><span class="sxs-lookup"><span data-stu-id="4ca08-126">(Currently, the application's data model contains only the application services tables needed by the `SqlMembershipProvider`.)</span></span>

<span data-ttu-id="4ca08-127">인증된 된 사용자 의견을 남겨 수 있는 매우 간단한 방명록 응용 프로그램을 만들어 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-127">Let's create a very simple guestbook application where an authenticated user can leave a comment.</span></span> <span data-ttu-id="4ca08-128">방명록 주석을 저장 하는 것 외에도 자신의 홈 타운, 홈 페이지 및 서명을 저장 하는 각 사용자를 허용 해 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-128">In addition to storing guestbook comments, let's allow each user to store his home town, homepage, and signature.</span></span> <span data-ttu-id="4ca08-129">사용자의 홈 도시별으로 제공 하는 경우 홈 페이지 및 서명 그는 방명록의 왼쪽에 각 메시지에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-129">If provided, the user's home town, homepage, and signature will appear on each message he has left in the guestbook.</span></span>

### <a name="adding-theguestbookcommentstable"></a><span data-ttu-id="4ca08-130">추가 된`GuestbookComments`테이블</span><span class="sxs-lookup"><span data-stu-id="4ca08-130">Adding the`GuestbookComments`Table</span></span>

<span data-ttu-id="4ca08-131">방명록 의견을 캡처하려면 라는 데이터베이스 테이블을 생성 해야 `GuestbookComments` 와 같은 열에 있는 `CommentId`를 `Subject`를 `Body`, 및 `CommentDate`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-131">In order to capture the guestbook comments, we need to create a database table named `GuestbookComments` that has columns like `CommentId`, `Subject`, `Body`, and `CommentDate`.</span></span> <span data-ttu-id="4ca08-132">각 레코드에도 해야는 `GuestbookComments` 주석을 남긴 사용자 참조 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-132">We also need to have each record in the `GuestbookComments` table reference the user who left the comment.</span></span>

<span data-ttu-id="4ca08-133">이 테이블에 데이터베이스를 추가 하려면 Visual Studio에서 데이터베이스 탐색기로 이동 하 고 드릴 다운을 `SecurityTutorials` 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-133">To add this table to our database, go to the Database Explorer in Visual Studio and drill down into the `SecurityTutorials` database.</span></span> <span data-ttu-id="4ca08-134">테이블 폴더 단추로 클릭 하 고 새 테이블 추가 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-134">Right-click on the Tables folder and choose Add New Table.</span></span> <span data-ttu-id="4ca08-135">그러면 새 테이블의 열을 정의할 수 있는 인터페이스입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-135">This brings up an interface that allows us to define the columns for the new table.</span></span>


[![A<span data-ttu-id="4ca08-136">dd SecurityTutorials 데이터베이스에 새 테이블]</span><span class="sxs-lookup"><span data-stu-id="4ca08-136">dd a New Table to the SecurityTutorials Database]</span></span>(storing-additional-user-information-cs/_static/image2.png)](storing-additional-user-information-cs/_static/image1.png)

<span data-ttu-id="4ca08-137">**그림 1**: 새 테이블을 추가 합니다 `SecurityTutorials` 데이터베이스 ([큰 이미지를 보려면 클릭](storing-additional-user-information-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-137">**Figure 1**: Add a New Table to the `SecurityTutorials` Database  ([Click to view full-size image](storing-additional-user-information-cs/_static/image3.png))</span></span>


<span data-ttu-id="4ca08-138">다음으로 정의 된 `GuestbookComments`의 열입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-138">Next, define the `GuestbookComments`'s columns.</span></span> <span data-ttu-id="4ca08-139">명명 된 열을 추가 하 여 시작 `CommentId` 형식의 `uniqueidentifier`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-139">Start by adding a column named `CommentId` of type `uniqueidentifier`.</span></span> <span data-ttu-id="4ca08-140">이 열은 방명록에서 각 메모를 고유 하 게 식별을 허용 하므로 `NULL`의 테이블의 기본 키로 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-140">This column will uniquely identify each comment in the guestbook, so disallow `NULL` s and mark it as the table's primary key.</span></span> <span data-ttu-id="4ca08-141">에 대 한 값을 제공 하는 대신 합니다 `CommentId` 각 필드 `INSERT`를 나타낼 수 있습니다 새 `uniqueidentifier` 에서이 필드에 대 한 값을 자동으로 생성할 수 해야 `INSERT` 열의 기본값을 설정 하 여 `NEWID()`.</span><span class="sxs-lookup"><span data-stu-id="4ca08-141">Rather than providing a value for the `CommentId` field on each `INSERT`, we can indicate that a new `uniqueidentifier` value should be automatically generated for this field on `INSERT` by setting the column's default value to `NEWID()`.</span></span> <span data-ttu-id="4ca08-142">이 첫 번째 필드를 기본값으로, primary key 및 설정으로 표시를 추가한 후 화면은 해야 스크린 샷을 그림 2에 표시 된 것과 유사 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-142">After adding this first field, marking it as the primary key, and settings its default value, your screen should look similar to the screen shot shown in Figure 2.</span></span>


[![A<span data-ttu-id="4ca08-143">기본 열 이라는 CommentId dd]</span><span class="sxs-lookup"><span data-stu-id="4ca08-143">dd a Primary Column Named CommentId]</span></span>(storing-additional-user-information-cs/_static/image5.png)](storing-additional-user-information-cs/_static/image4.png)

<span data-ttu-id="4ca08-144">**그림 2**: 명명 된 기본 열 추가 `CommentId` ([큰 이미지를 보려면 클릭](storing-additional-user-information-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-144">**Figure 2**: Add a Primary Column Named `CommentId` ([Click to view full-size image](storing-additional-user-information-cs/_static/image6.png))</span></span>


<span data-ttu-id="4ca08-145">다음으로, 라는 열을 추가 `Subject` 형식의 `nvarchar(50)` 및 명명 된 열 `Body` 형식의 `nvarchar(MAX)`를 허용 하지 `NULL` 두 열 모두의 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-145">Next, add a column named `Subject` of type `nvarchar(50)` and a column named `Body` of type `nvarchar(MAX)`, disallowing `NULL` s in both columns.</span></span> <span data-ttu-id="4ca08-146">그런 다음, 라는 열을 추가 `CommentDate` 형식의 `datetime`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-146">Following that, add a column named `CommentDate` of type `datetime`.</span></span> <span data-ttu-id="4ca08-147">허용 안 함 `NULL` 집합과 s 합니다 `CommentDate` 열의 기본 값을 `getdate()`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-147">Disallow `NULL` s and set the `CommentDate` column's default value to `getdate()`.</span></span>

<span data-ttu-id="4ca08-148">에 각 방명록 메모를 사용 하 여 사용자 계정에 연결 하는 열을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-148">All that remains is to add a column that associates a user account with each guestbook comment.</span></span> <span data-ttu-id="4ca08-149">명명 된 열을 추가할 수 있습니다 `UserName` 형식의 `nvarchar(256)`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-149">One option would be to add a column named `UserName` of type `nvarchar(256)`.</span></span> <span data-ttu-id="4ca08-150">이외의 다른 멤버 자격 공급자를 사용 하는 경우이 적합 한 선택은 `SqlMembershipProvider`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-150">This is a suitable choice when using a Membership provider other than the `SqlMembershipProvider`.</span></span> <span data-ttu-id="4ca08-151">하지만 사용 하는 경우는 `SqlMembershipProvider`처럼이 자습서 시리즈를를 `UserName` 열에는 `aspnet_Users` 테이블 고유성이 보장 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-151">But when using the `SqlMembershipProvider`, as we are in this tutorial series, the `UserName` column in the `aspnet_Users` table is not guaranteed to be unique.</span></span> <span data-ttu-id="4ca08-152">합니다 `aspnet_Users` 테이블의 기본 키는 `UserId` 형식인 `uniqueidentifier`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-152">The `aspnet_Users` table's primary key is `UserId` and is of type `uniqueidentifier`.</span></span> <span data-ttu-id="4ca08-153">따라서 합니다 `GuestbookComments` 테이블에 열 이름이 필요 `UserId` 형식의 `uniqueidentifier` (허용 `NULL` 값).</span><span class="sxs-lookup"><span data-stu-id="4ca08-153">Therefore, the `GuestbookComments` table needs a column named `UserId` of type `uniqueidentifier` (disallowing `NULL` values).</span></span> <span data-ttu-id="4ca08-154">계속 해 서이 열을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-154">Go ahead and add this column.</span></span>

> [!NOTE]
> <span data-ttu-id="4ca08-155">설명한 대로 합니다 [ *SQL Server에서 멤버 자격 스키마 만들기* ](creating-the-membership-schema-in-sql-server-cs.md) 자습서, 멤버 자격 프레임 워크는 여러 웹 응용 프로그램을 다른 사용자 계정으로 동일한 공유 하도록 설계 되었습니다 사용자 저장소입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-155">As we discussed in the [*Creating the Membership Schema in SQL Server*](creating-the-membership-schema-in-sql-server-cs.md) tutorial, the Membership framework is designed to enable multiple web applications with different user accounts to share the same user store.</span></span> <span data-ttu-id="4ca08-156">다른 응용 프로그램에 사용자를 분할 하 여 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-156">It does this by partitioning user accounts into different applications.</span></span> <span data-ttu-id="4ca08-157">및 각 사용자 이름을 응용 프로그램 내에서 고유 하 게 보장 하는 동안 동일한 사용자 이름을 같은 사용자 저장소를 사용 하 여 다른 응용 프로그램에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-157">And while each username is guaranteed to be unique within an application, the same username may be used in different applications using the same user store.</span></span> <span data-ttu-id="4ca08-158">복합 `UNIQUE` 의 제약 조건 합니다 `aspnet_Users` 테이블에 `UserName` 및 `ApplicationId` 필드 이지만의 하나가 아닙니다만 `UserName` 필드.</span><span class="sxs-lookup"><span data-stu-id="4ca08-158">There is a composite `UNIQUE` constraint in the `aspnet_Users` table on the `UserName` and `ApplicationId` fields, but not one on just the `UserName` field.</span></span> <span data-ttu-id="4ca08-159">따라서 있기 aspnet\_Users 테이블 두 개 이상의 레코드가 동일한 `UserName` 값입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-159">Consequently, it is possible for the aspnet\_Users table to have two (or more) records with the same `UserName` value.</span></span> <span data-ttu-id="4ca08-160">그러나을 `UNIQUE` 제약 조건에는 `aspnet_Users` 테이블의 `UserId` (이므로 기본 키) 필드입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-160">There is, however, a `UNIQUE` constraint on the `aspnet_Users` table's `UserId` field (since it is the primary key).</span></span> <span data-ttu-id="4ca08-161">A `UNIQUE` 제약 조건은 없으면 간의 외래 키 제약 조건을 설정할 수 없습니다 것 때문에 중요 합니다 `GuestbookComments` 및 `aspnet_Users` 테이블.</span><span class="sxs-lookup"><span data-stu-id="4ca08-161">A `UNIQUE` constraint is important because without it we cannot establish a foreign key constraint between the `GuestbookComments` and `aspnet_Users` tables.</span></span>


<span data-ttu-id="4ca08-162">추가한 후의 `UserId` 저장 도구 모음에서 저장 아이콘을 클릭 하 여 테이블 열입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-162">After adding the `UserId` column, save the table by clicking on the Save icon in the Toolbar.</span></span> <span data-ttu-id="4ca08-163">새 테이블의 이름을 `GuestbookComments`입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-163">Name the new table `GuestbookComments`.</span></span>

<span data-ttu-id="4ca08-164">마지막 한 가지 문제를 사용 하 여 참가 했습니다 합니다 `GuestbookComments` 테이블: 만들어야를 [foreign key 제약 조건을](https://msdn.microsoft.com/library/ms175464.aspx) 간에 `GuestbookComments.UserId` 열 및 `aspnet_Users.UserId` 열.</span><span class="sxs-lookup"><span data-stu-id="4ca08-164">We have one last issue to attend to with the `GuestbookComments` table: we need to create a [foreign key constraint](https://msdn.microsoft.com/library/ms175464.aspx) between the `GuestbookComments.UserId` column and the `aspnet_Users.UserId` column.</span></span> <span data-ttu-id="4ca08-165">이렇게 하려면 외래 키 관계 대화 상자를 시작 하려면 도구 모음에서 관계 아이콘을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-165">To achieve this, click the Relationship icon in the Toolbar to launch the Foreign Key Relationships dialog box.</span></span> <span data-ttu-id="4ca08-166">(또는 시작할 수 있습니다이 대화 상자는 테이블 디자이너 메뉴로 이동 하 고 관계를 선택 하 여.)</span><span class="sxs-lookup"><span data-stu-id="4ca08-166">(Alternatively, you can launch this dialog box by going to the Table Designer menu and choosing Relationships.)</span></span>

<span data-ttu-id="4ca08-167">외래 키 관계 대화 상자의 왼쪽된 아래 모서리에 있는 추가 단추를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-167">Click the Add button in the lower left corner of the Foreign Key Relationships dialog box.</span></span> <span data-ttu-id="4ca08-168">이렇게 하면 여전히 관계에 참여 하는 테이블을 정의 해야 하지만 새 외래 키 제약 조건을 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-168">This will add a new foreign key constraint, although we still need to define the tables that participate in the relationship.</span></span>


[![U<span data-ttu-id="4ca08-169">테이블의 외래 키 제약 조건을 관리 하는 외래 키 관계 대화 상자 se]</span><span class="sxs-lookup"><span data-stu-id="4ca08-169">se the Foreign Key Relationships Dialog Box to Manage a Table's Foreign Key Constraints]</span></span>(storing-additional-user-information-cs/_static/image8.png)](storing-additional-user-information-cs/_static/image7.png)

<span data-ttu-id="4ca08-170">**그림 3**: 테이블의 외래 키 제약 조건을 관리 하는 외래 키 관계 대화 상자를 사용 하 여 ([클릭 하 여 큰 이미지 보기](storing-additional-user-information-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-170">**Figure 3**: Use the Foreign Key Relationships Dialog Box to Manage a Table's Foreign Key Constraints  ([Click to view full-size image](storing-additional-user-information-cs/_static/image9.png))</span></span>


<span data-ttu-id="4ca08-171">다음으로 오른쪽에 있는 "테이블 및 열 사양" 행에 있는 줄임표 아이콘을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-171">Next, click the ellipses icon in the "Table and Columns Specifications" row on the right.</span></span> <span data-ttu-id="4ca08-172">이 테이블 및 열 대화 상자를 시작를 지정할 수 있습니다 기본 키 테이블 및 열에서 외래 키 열을 `GuestbookComments` 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-172">This will launch the Tables and Columns dialog box, from which we can specify the primary key table and column and the foreign key column from the `GuestbookComments` table.</span></span> <span data-ttu-id="4ca08-173">특히 선택 `aspnet_Users` 하 고 `UserId` 기본 키 테이블 및 열 및 `UserId` 에서 `GuestbookComments` 외래 키 열으로 테이블 (그림 4 참조).</span><span class="sxs-lookup"><span data-stu-id="4ca08-173">In particular, select `aspnet_Users` and `UserId` as the primary key table and column, and `UserId` from the `GuestbookComments` table as the foreign key column (see Figure 4).</span></span> <span data-ttu-id="4ca08-174">기본 및 외래 키 테이블 및 열을 정의한 후 확인을 클릭 하 여 외래 키 관계 대화 상자로 돌아갑니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-174">After defining the primary and foreign key tables and columns, click OK to return to the Foreign Key Relationships dialog box.</span></span>


[![E<span data-ttu-id="4ca08-175">외래 키 제약 조건 간에 aspnet_Users 및 GuesbookComments 테이블 stablish]</span><span class="sxs-lookup"><span data-stu-id="4ca08-175">stablish a Foreign Key Constraint Between the aspnet_Users and GuesbookComments Tables]</span></span>(storing-additional-user-information-cs/_static/image11.png)](storing-additional-user-information-cs/_static/image10.png)

<span data-ttu-id="4ca08-176">**그림 4**: 외래 키 제약 조건 간에 설정 된 `aspnet_Users` 하 고 `GuesbookComments` 테이블 ([전체 크기 이미지를 보려면 클릭](storing-additional-user-information-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-176">**Figure 4**: Establish a Foreign Key Constraint Between the `aspnet_Users` and `GuesbookComments` Tables  ([Click to view full-size image](storing-additional-user-information-cs/_static/image12.png))</span></span>


<span data-ttu-id="4ca08-177">이 시점에서 외래 키 제약 조건이 설정 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-177">At this point the foreign key constraint has been established.</span></span> <span data-ttu-id="4ca08-178">이 제약 조건의 제공 되므로 [관계 무결성](http://en.wikipedia.org/wiki/Referential_integrity) 는 될 수 없으므로 존재 하지 않는 사용자 계정에 참조 방명록 항목을 보장 하 여 두 테이블 사이입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-178">The presence of this constraint ensures [relational integrity](http://en.wikipedia.org/wiki/Referential_integrity) between the two tables by guaranteeing that there will never be a guestbook entry referring to a non-existent user account.</span></span> <span data-ttu-id="4ca08-179">기본적으로 외래 키 제약 조건을 자식 레코드 해당 하는 경우 삭제할 부모 레코드를 허용 하지 것입니다 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-179">By default, a foreign key constraint will disallow a parent record to be deleted if there are corresponding child records.</span></span> <span data-ttu-id="4ca08-180">즉, 사용자가 하나 이상의 방명록 설명 하는 경우 해당 사용자 계정을 삭제 하려고 하면 다음에 자신의 방명록 의견을 먼저 삭제 됩니다 않으면 삭제가 실패 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-180">That is, if a user makes one or more guestbook comments, and then we attempt to delete that user account, the delete will fail unless his guestbook comments are deleted first.</span></span>

<span data-ttu-id="4ca08-181">부모 레코드가 삭제 될 때 자동으로 연결 된 자식 레코드를 삭제 하려면 foreign key 제약 조건은 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-181">Foreign key constraints can be configured to automatically delete the associated child records when a parent record is deleted.</span></span> <span data-ttu-id="4ca08-182">즉, 자신의 사용자 계정을 삭제 하는 경우 사용자의 방명록 항목 자동으로 삭제 되도록이 외래 키 제약 조건을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-182">In other words, we can setup this foreign key constraint so that a user's guestbook entries are automatically deleted when her user account is deleted.</span></span> <span data-ttu-id="4ca08-183">이렇게 하려면 "INSERT 및 UPDATE 사양" 섹션을 확장 cascade를 지정 하는 "규칙 삭제" 속성을 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-183">To accomplish this, expand the "INSERT And UPDATE Specification" section and set the "Delete Rule" property to Cascade.</span></span>


[![C<span data-ttu-id="4ca08-184">계단식 삭제를 외래 키 제약 조건 onfigure]</span><span class="sxs-lookup"><span data-stu-id="4ca08-184">onfigure the Foreign Key Constraint to Cascade Deletes]</span></span>(storing-additional-user-information-cs/_static/image14.png)](storing-additional-user-information-cs/_static/image13.png)

<span data-ttu-id="4ca08-185">**그림 5**: 계단식 삭제를 외래 키 제약 조건 구성 ([클릭 하 여 큰 이미지 보기](storing-additional-user-information-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-185">**Figure 5**: Configure the Foreign Key Constraint to Cascade Deletes  ([Click to view full-size image](storing-additional-user-information-cs/_static/image15.png))</span></span>


<span data-ttu-id="4ca08-186">외래 키 제약을 저장 하려면 외래 키 관계를 종료 하려면 닫기 단추를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-186">To save the foreign key constraint, click the Close button to exit out of the Foreign Key Relationships.</span></span> <span data-ttu-id="4ca08-187">테이블 및이 저장 하려면 도구 모음에서 저장 아이콘을 클릭 한 다음 관계입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-187">Then click the Save icon in the Toolbar to save the table and the this relationship.</span></span>

### <a name="storing-the-users-home-town-homepage-and-signature"></a><span data-ttu-id="4ca08-188">사용자의 홈 타운, 홈 페이지 및 서명을 저장</span><span class="sxs-lookup"><span data-stu-id="4ca08-188">Storing the User's Home Town, Homepage, and Signature</span></span>

<span data-ttu-id="4ca08-189">`GuestbookComments` 테이블에는 사용자 계정과 일 대 다 관계를 공유 하는 정보를 저장 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-189">The `GuestbookComments` table illustrates how to store information that shares a one-to-many relationship with user accounts.</span></span> <span data-ttu-id="4ca08-190">각 사용자 계정 임의 개수의 관련된 댓글 수 없으므로이 관계를 특정 사용자에 게 각 메모를 다시 연결 하는 열을 포함 하는 주석의 집합을 저장할 테이블을 만들어 모델링 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-190">Since each user account may have an arbitrary number of associated comments, this relationship is modeled by creating a table to hold the set of comments that includes a column that links back each comment to a particular user.</span></span> <span data-ttu-id="4ca08-191">사용 하는 경우는 `SqlMembershipProvider`,이 링크를 가장 잘 라는 열을 만들어 설정 `UserId` 형식의 `uniqueidentifier` 및이 열 간의 외래 키 제약 조건 및 `aspnet_Users.UserId`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-191">When using the `SqlMembershipProvider`, this link is best established by creating a column named `UserId` of type `uniqueidentifier` and a foreign key constraint between this column and `aspnet_Users.UserId`.</span></span>

<span data-ttu-id="4ca08-192">이제 사용자의 홈 town, 홈 페이지 및 자신의 방명록 주석에서 표시 되는 시그니처를 저장 하도록 각 사용자 계정을 사용 하 여 세 개의 열을 연결 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-192">We now need to associate three columns with each user account to store the user's home town, homepage, and signature, which will appear in his guestbook comments.</span></span> <span data-ttu-id="4ca08-193">이 작업을 수행 하는 다양 한 방법의 수:</span><span class="sxs-lookup"><span data-stu-id="4ca08-193">There are number of different ways to accomplish this:</span></span>

- <span data-ttu-id="4ca08-194"><strong>새 열을 추가 합니다</strong><strong>`aspnet_Users`</strong><strong>하거나</strong><strong>`aspnet_Membership`</strong><strong>테이블입니다.</strong></span><span class="sxs-lookup"><span data-stu-id="4ca08-194"><strong>Add new columns to the</strong><strong>`aspnet_Users`</strong><strong>or</strong><strong>`aspnet_Membership`</strong><strong>tables.</strong></span></span> <span data-ttu-id="4ca08-195">사용 되는 스키마를 수정 하기 때문에이 방법은 권장 하지 않을 필자는 `SqlMembershipProvider`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-195">I would not recommend this approach because it modifies the schema used by the `SqlMembershipProvider`.</span></span> <span data-ttu-id="4ca08-196">이 의사 결정은 조만간 다닐 수 다시 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-196">This decision may come back to haunt you down the road.</span></span> <span data-ttu-id="4ca08-197">예를 들어 경우 ASP.NET의 이후 버전에서는 다른 `SqlMembershipProvider` 스키마입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-197">For example, what if a future version of ASP.NET uses a different `SqlMembershipProvider` schema.</span></span> <span data-ttu-id="4ca08-198">Microsoft ASP.NET 2.0을 마이그레이션하는 도구에 포함 될 수 있습니다 `SqlMembershipProvider` ASP.NET 2.0을 수정한 경우 이지만 새 스키마를 데이터 `SqlMembershipProvider` 스키마, 이러한 변환은 불가능할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-198">Microsoft may include a tool to migrate the ASP.NET 2.0 `SqlMembershipProvider` data to the new schema, but if you have modified the ASP.NET 2.0 `SqlMembershipProvider` schema, such a conversion may not be possible.</span></span>

- **<span data-ttu-id="4ca08-199">ASP를 사용 합니다. .NET의 프로필 framework, 홈 타운, 홈 페이지 및 서명 프로필 속성을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-199">Use ASP.NET's Profile framework, defining a profile property for the home town, homepage, and signature.</span></span>** <span data-ttu-id="4ca08-200">ASP.NET 추가 사용자 고유의 데이터를 저장 하도록 설계 된 프로필 프레임 워크를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-200">ASP.NET includes a Profile framework that is designed to store additional user-specific data.</span></span> <span data-ttu-id="4ca08-201">멤버 자격 프레임 워크와 같은 프로필 프레임 워크는 공급자 모델 작성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-201">Like the Membership framework, the Profile framework is built atop the provider model.</span></span> <span data-ttu-id="4ca08-202">.NET Framework와 함께 제공 되는 `SqlProfileProvider` 된의 경우 SQL Server 데이터베이스에 프로필 데이터를 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-202">The .NET Framework ships with a `SqlProfileProvider` sthat stores profile data in a SQL Server database.</span></span> <span data-ttu-id="4ca08-203">데이터베이스에 이미 사용 하는 테이블이 실제로 `SqlProfileProvider` (`aspnet_Profile`) 처럼 응용 프로그램 서비스를 다시 추가 했을 때 추가한 합니다 <a id="_msoanchor_2"> </a> [ *sql에서 멤버 자격 스키마 만들기 서버* ](creating-the-membership-schema-in-sql-server-cs.md) 자습서입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-203">In fact, our database already has the table used by the `SqlProfileProvider` (`aspnet_Profile`), as it was added when we added the application services back in the <a id="_msoanchor_2"></a>[*Creating the Membership Schema in SQL Server*](creating-the-membership-schema-in-sql-server-cs.md) tutorial.</span></span>   
  <span data-ttu-id="4ca08-204">프로필 프레임 워크의 주된 이점은 개발자가 프로필 속성을 정의 하는 데 수 있다는 점입니다 `Web.config` – 내부 데이터 저장소에서 프로 파일 데이터를 직렬화 하 작성 해야 하는 코드가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-204">The main benefit of the Profile framework is that it allows for developers to define the profile properties in `Web.config` – no code needs to be written to serialize the profile data to and from the underlying data store.</span></span> <span data-ttu-id="4ca08-205">즉, 쉽습니다 매우 프로필 속성 집합을 정의 하 고 코드에서 작업할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-205">In short, it is incredibly easy to define a set of profile properties and to work with them in code.</span></span> <span data-ttu-id="4ca08-206">그러나 프로필 시스템 개선의 여지가 버전 관리에 있어 많았습니다 응용 프로그램 위치를 제거 하거나 수정 하 고, 기존 또는 나중에 추가할 새 사용자 고유의 속성을 원하는 다음 프로필 프레임 워크 아닐 경우는  최상의 옵션입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-206">However, the Profile system leaves a lot to be desired when it comes to versioning, so if you have an application where you expect new user-specific properties to be added at a later time, or existing ones to be removed or modified, then the Profile framework may not be the best option.</span></span> <span data-ttu-id="4ca08-207">또한는 `SqlProfileProvider` 거의 불가능 했습니다 (예: 얼마나 많은 사용자가를 홈 town의 New York) 프로필 데이터에 대해 직접 쿼리를 실행할 수 있도록 고도로 비 정규화 된 방식으로 프로필 속성을 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-207">Moreover, the `SqlProfileProvider` stores the profile properties in a highly denormalized fashion, making it next to impossible to run queries directly against the profile data (such as, how many users have a home town of New York).</span></span>   
  <span data-ttu-id="4ca08-208">프로필 프레임 워크에 대 한 자세한 내용은이 자습서의 끝에 "추가 정보" 섹션을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="4ca08-208">For more information on the Profile framework, consult the "Further Readings" section at the end of this tutorial.</span></span>

- <span data-ttu-id="4ca08-209"><strong>데이터베이스에 새 테이블에 이러한 세 개의 열을 추가 하 고이 테이블 간에 한 일 관계를 설정 하 고</strong><strong>`aspnet_Users`</strong><strong>합니다.</strong></span><span class="sxs-lookup"><span data-stu-id="4ca08-209"><strong>Add these three columns to a new table in the database and establish a one-to-one relationship between this table and</strong><strong>`aspnet_Users`</strong><strong>.</strong></span></span> <span data-ttu-id="4ca08-210">이 방법은 프로필 프레임 워크를 사용 하 여 보다 약간 더 많은 작업이 포함 됩니다. 하지만 데이터베이스에서 추가 사용자 속성은 모델링 하는 방법에 대 한 최대 유연성을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-210">This approach involves a bit more work than with the Profile framework, but offers maximum flexibility in how the additional user properties are modeled in the database.</span></span> <span data-ttu-id="4ca08-211">이 자습서에서 사용 하는 옵션입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-211">This is the option we will use in this tutorial.</span></span>

<span data-ttu-id="4ca08-212">라는 새 테이블을 만들겠습니다 `UserProfiles` 홈 타운, 홈 페이지 및 각 사용자에 대 한 서명을 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-212">We will create a new table called `UserProfiles` to save the home town, homepage, and signature for each user.</span></span> <span data-ttu-id="4ca08-213">데이터베이스 탐색기 창에서 테이블 폴더 단추로 클릭 하 고 새 테이블을 만들려면 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-213">Right-click on the Tables folder in the Database Explorer window and choose to create a new table.</span></span> <span data-ttu-id="4ca08-214">첫 번째 열 이름을 `UserId` 해당 유형을 설정 하 고 `uniqueidentifier`입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-214">Name the first column `UserId` and set its type to `uniqueidentifier`.</span></span> <span data-ttu-id="4ca08-215">Disallow `NULL` 값 및 기본 키로 열을 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-215">Disallow `NULL` values and mark the column as a primary key.</span></span> <span data-ttu-id="4ca08-216">다음으로 명명 된 열을 추가 합니다. `HomeTown` 형식의 `nvarchar(50)`; `HomepageUrl` 형식의 `nvarchar(100)`; 및 형식 서명을 `nvarchar(500)`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-216">Next, add columns named: `HomeTown` of type `nvarchar(50)`; `HomepageUrl` of type `nvarchar(100)`; and Signature of type `nvarchar(500)`.</span></span> <span data-ttu-id="4ca08-217">이러한 세 가지 열 각각에 응하기는 `NULL` 값입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-217">Each of these three columns can accept a `NULL` value.</span></span>


[![C<span data-ttu-id="4ca08-218">UserProfiles 테이블 reate]</span><span class="sxs-lookup"><span data-stu-id="4ca08-218">reate the UserProfiles Table]</span></span>(storing-additional-user-information-cs/_static/image17.png)](storing-additional-user-information-cs/_static/image16.png)

<span data-ttu-id="4ca08-219">**그림 6**: 만들기는 `UserProfiles` 테이블 ([큰 이미지를 보려면 클릭](storing-additional-user-information-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-219">**Figure 6**: Create the `UserProfiles` Table  ([Click to view full-size image](storing-additional-user-information-cs/_static/image18.png))</span></span>


<span data-ttu-id="4ca08-220">테이블을 저장 하 고 이름을 `UserProfiles`입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-220">Save the table and name it `UserProfiles`.</span></span> <span data-ttu-id="4ca08-221">마지막으로, 간의 외래 키 제약 조건을 설정 합니다 `UserProfiles` 테이블의 `UserId` 필드 및 `aspnet_Users.UserId` 필드.</span><span class="sxs-lookup"><span data-stu-id="4ca08-221">Lastly, establish a foreign key constraint between the `UserProfiles` table's `UserId` field and the `aspnet_Users.UserId` field.</span></span> <span data-ttu-id="4ca08-222">간의 외래 키 제약 조건을 사용 하 여 했던 것 처럼 합니다 `GuestbookComments` 및 `aspnet_Users` 테이블 삭제가 계단식으로 배열 하이 제약 조건이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-222">As we did with the foreign key constraint between the `GuestbookComments` and `aspnet_Users` tables, have this constraint cascade deletes.</span></span> <span data-ttu-id="4ca08-223">있으므로 `UserId` 필드에 `UserProfiles` 는 주 서버이 키, 이렇게 하면 둘 이상의 레코드 되도록는 `UserProfiles` 각 사용자 계정에 대 한 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-223">Since the `UserId` field in `UserProfiles` is the primary key, this ensures that there will be no more than one record in the `UserProfiles` table for each user account.</span></span> <span data-ttu-id="4ca08-224">이 형식의 관계는 일대일로 라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-224">This type of relationship is referred to as one-to-one.</span></span>

<span data-ttu-id="4ca08-225">이제 만든 데이터 모델을 만들었으므로 준비가 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-225">Now that we have the data model created, we are ready to use it.</span></span> <span data-ttu-id="4ca08-226">2 단계와 3에 현재 로그온된 한 사용자 수 보기 및 홈 타운, 홈 페이지 및 서명 정보를 편집 하는 방법을 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-226">In Steps 2 and 3 we will look at how the currently logged on user can view and edit their home town, homepage, and signature information.</span></span> <span data-ttu-id="4ca08-227">4 단계에서에서 인증 된 사용자는 guestbook으로 새 의견을 제출 하 고 기존 서버를 볼 수에 대 한 인터페이스를 만들겠습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-227">In Step 4 we will create the interface for authenticated users to submit new comments to the guestbook and view the existing ones.</span></span>

## <a name="step-2-displaying-the-users-home-town-homepage-and-signature"></a><span data-ttu-id="4ca08-228">2단계: 사용자의 홈 Town, 홈 페이지 및 시그니처를 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-228">Step 2: Displaying the User's Home Town, Homepage, and Signature</span></span>

<span data-ttu-id="4ca08-229">보고 자신의 홈 타운, 홈 페이지 및 서명 정보를 편집 하려면 현재 로그온된 한 사용자를 허용 하는 방법의 여러 가지가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-229">There are a variety of ways to allow the currently logged on user to view and edit his home town, homepage, and signature information.</span></span> <span data-ttu-id="4ca08-230">텍스트 상자를 사용 하 여 사용자 인터페이스를 수동으로 만들 수 및 DetailsView 컨트롤과 같은 웹 컨트롤에 데이터 중 하나는 Label 컨트롤 또는에서는 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-230">We could manually create the user interface with TextBox and Label controls or we could use one of the data Web controls, such as the DetailsView control.</span></span> <span data-ttu-id="4ca08-231">데이터베이스를 수행 하려면 `SELECT` 및 `UPDATE` ADO.NET 작성할 수 있습니다이 페이지의 코드 숨김 클래스에서 코드 문이나, 또는 SqlDataSource와 함께 선언적 방식을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-231">To perform the database `SELECT` and `UPDATE` statements we could write ADO.NET code in our page's code-behind class or, alternatively, employ a declarative approach with the SqlDataSource.</span></span> <span data-ttu-id="4ca08-232">이상적으로 응용 프로그램 페이지의 코드 숨김 클래스 또는 선언적으로 ObjectDataSource 컨트롤을 통해 프로그래밍 방식으로 호출 하거나 수 계층화 된 아키텍처를 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-232">Ideally our application would contain a tiered architecture, which we could either invoke programmatically from the page's code-behind class or declaratively via the ObjectDataSource control.</span></span>

<span data-ttu-id="4ca08-233">이 자습서 시리즈는 폼 인증, 권한 부여, 사용자 계정 및 역할에 중점을 두고 있으므로 더 이상 없습니다 철저 한 설명은 다른 데이터 액세스 옵션 또는 SQL 문을 직접 실행을 통해 계층화 된 아키텍처는 것이 좋습니다는 이유 ASP.NET 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-233">Since this tutorial series focuses on forms authentication, authorization, user accounts, and roles, there will not be a thorough discussion of these different data access options or why a tiered architecture is preferred over executing SQL statements directly from the ASP.NET page.</span></span> <span data-ttu-id="4ca08-234">– 가장 쉽고 빠른 옵션-SqlDataSource와 DetailsView를 사용 하 여 안내 하고자 하지만 설명 된 개념 대체 웹 컨트롤 및 데이터 액세스 논리에 확실히 적용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-234">I am going to walk through using a DetailsView and SqlDataSource – the quickest and easiest option – but the concepts discussed can certainly be applied to alternative Web controls and data access logic.</span></span> <span data-ttu-id="4ca08-235">ASP.NET에서 데이터를 사용 하 여 작업에 대 한 자세한 내용은 참조 내 *[ASP.NET 2.0에서 데이터로 작업할](../../data-access/index.md)* 자습서 시리즈입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-235">For more information on working with data in ASP.NET, refer to my *[Working with Data in ASP.NET 2.0](../../data-access/index.md)* tutorial series.</span></span>

<span data-ttu-id="4ca08-236">열기를 `AdditionalUserInfo.aspx` 페이지에 `Membership` 폴더 설정 페이지에 DetailsView 컨트롤을 추가 하 고 해당 `ID` 속성을 `UserProfile` 정리 및 해당 `Width` 및 `Height` 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-236">Open the `AdditionalUserInfo.aspx` page in the `Membership` folder and add a DetailsView control to the page, setting its `ID` property to `UserProfile` and clearing out its `Width` and `Height` properties.</span></span> <span data-ttu-id="4ca08-237">DetailsView의 스마트 태그를 확장 하 고 새 데이터 소스 컨트롤에 연결 하려면 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-237">Expand the DetailsView's Smart Tag and choose to bind it to a new data source control.</span></span> <span data-ttu-id="4ca08-238">이 데이터 소스 구성 마법사가 시작 됩니다 (그림 7 참조).</span><span class="sxs-lookup"><span data-stu-id="4ca08-238">This will launch the DataSource Configuration Wizard (see Figure 7).</span></span> <span data-ttu-id="4ca08-239">첫 번째 단계를 사용 하면 데이터 원본 유형에를 묻습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-239">The first step asks you to specify the data source type.</span></span> <span data-ttu-id="4ca08-240">에 직접 연결할 것 이므로 `SecurityTutorials` 데이터베이스, 데이터베이스 아이콘을 지정 하는 `ID` 으로 `UserProfileDataSource`입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-240">Since we are going to connect directly to the `SecurityTutorials` database, choose the Database icon, specifying the `ID` as `UserProfileDataSource`.</span></span>


[![A<span data-ttu-id="4ca08-241">새 SqlDataSource 컨트롤 이라는 UserProfileDataSource dd]</span><span class="sxs-lookup"><span data-stu-id="4ca08-241">dd a New SqlDataSource Control Named UserProfileDataSource]</span></span>(storing-additional-user-information-cs/_static/image20.png)](storing-additional-user-information-cs/_static/image19.png)

<span data-ttu-id="4ca08-242">**그림 7**: 명명 된 새 SqlDataSource 컨트롤을 추가 `UserProfileDataSource` ([큰 이미지를 보려면 클릭](storing-additional-user-information-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-242">**Figure 7**: Add a New SqlDataSource Control Named `UserProfileDataSource` ([Click to view full-size image](storing-additional-user-information-cs/_static/image21.png))</span></span>


<span data-ttu-id="4ca08-243">다음 화면을 사용 하는 데이터베이스 요구 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-243">The next screen prompts for the database to use.</span></span> <span data-ttu-id="4ca08-244">연결 문자열을 이미 정의한 `Web.config` 에 대 한는 `SecurityTutorials` 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-244">We have already defined a connection string in `Web.config` for the `SecurityTutorials` database.</span></span> <span data-ttu-id="4ca08-245">이 연결 문자열 이름 – `SecurityTutorialsConnectionString` – 드롭다운 목록에 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-245">This connection string name – `SecurityTutorialsConnectionString` – should be in the drop-down list.</span></span> <span data-ttu-id="4ca08-246">이 옵션을 선택 하 고 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-246">Select this option and click Next.</span></span>


[![C<span data-ttu-id="4ca08-247">드롭다운 목록에서 SecurityTutorialsConnectionString 설치할]</span><span class="sxs-lookup"><span data-stu-id="4ca08-247">hoose SecurityTutorialsConnectionString from the Drop-Down List]</span></span>(storing-additional-user-information-cs/_static/image23.png)](storing-additional-user-information-cs/_static/image22.png)

<span data-ttu-id="4ca08-248">**그림 8**: 선택할 `SecurityTutorialsConnectionString` 드롭 다운 목록에서 ([큰 이미지를 보려면 클릭](storing-additional-user-information-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-248">**Figure 8**: Choose `SecurityTutorialsConnectionString` from the Drop-Down List  ([Click to view full-size image](storing-additional-user-information-cs/_static/image24.png))</span></span>


<span data-ttu-id="4ca08-249">다음 화면에서는 테이블 및 쿼리 하는 열을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-249">The subsequent screen asks us to specify the table and columns to query.</span></span> <span data-ttu-id="4ca08-250">선택 된 `UserProfiles` 드롭 다운 목록에서 테이블 및 열 모두 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-250">Choose the `UserProfiles` table from the drop-down list and check all of the columns.</span></span>


[![B<span data-ttu-id="4ca08-251">링 UserProfiles 테이블에서 열 다시 모든]</span><span class="sxs-lookup"><span data-stu-id="4ca08-251">ring Back All of the Columns from the UserProfiles Table]</span></span>(storing-additional-user-information-cs/_static/image26.png)](storing-additional-user-information-cs/_static/image25.png)

<span data-ttu-id="4ca08-252">**그림 9**: 열의 모든 다시 표시 합니다 `UserProfiles` 테이블 ([큰 이미지를 보려면 클릭](storing-additional-user-information-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-252">**Figure 9**: Bring Back All of the Columns from the `UserProfiles` Table  ([Click to view full-size image](storing-additional-user-information-cs/_static/image27.png))</span></span>


<span data-ttu-id="4ca08-253">그림 9 반환의 현재 쿼리가 *모든* 의 레코드 `UserProfiles`, 현재 로그온된 한 사용자의 레코드에만 관심이 있지만.</span><span class="sxs-lookup"><span data-stu-id="4ca08-253">The current query in Figure 9 returns *all* of the records in `UserProfiles`, but we are only interested in the currently logged on user's record.</span></span> <span data-ttu-id="4ca08-254">추가할를 `WHERE` 절을 클릭 합니다 `WHERE` 단추를 추가 `WHERE` 절 대화 상자 (그림 10 참조).</span><span class="sxs-lookup"><span data-stu-id="4ca08-254">To add a `WHERE` clause, click the `WHERE` button to bring up the Add `WHERE` Clause dialog box (see Figure 10).</span></span> <span data-ttu-id="4ca08-255">여기에서 필터링 할 열, 연산자 및 필터 매개 변수의 소스를 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-255">Here you can select the column to filter on, the operator, and the source of the filter parameter.</span></span> <span data-ttu-id="4ca08-256">선택 `UserId` 열과 연산자 "="입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-256">Select `UserId` as the column and "=" as the Operator.</span></span>

<span data-ttu-id="4ca08-257">아쉽게도 현재 로그온된 한 사용자의 반환할 기본 제공 매개 변수 소스를이 없다는 `UserId` 값입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-257">Unfortunately there is no built-in parameter source to return the currently logged on user's `UserId` value.</span></span> <span data-ttu-id="4ca08-258">이 값을 프로그래밍 방식으로 선택 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-258">We will need to grab this value programmatically.</span></span> <span data-ttu-id="4ca08-259">따라서 원본 드롭 다운 목록 "None", 추가 매개 변수를 추가 하려면 단추를 클릭 한 다음 클릭을 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-259">Therefore, set the Source drop-down list to "None," click the Add button to add the parameter, and then click OK.</span></span>


[![A<span data-ttu-id="4ca08-260">dd는 UserId 열에서 필터 매개 변수]</span><span class="sxs-lookup"><span data-stu-id="4ca08-260">dd a Filter Parameter on the UserId Column]</span></span>(storing-additional-user-information-cs/_static/image29.png)](storing-additional-user-information-cs/_static/image28.png)

<span data-ttu-id="4ca08-261">**그림 10**: 필터 매개 변수를 추가 합니다 `UserId` 열 ([큰 이미지를 보려면 클릭](storing-additional-user-information-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-261">**Figure 10**: Add a Filter Parameter on the `UserId` Column  ([Click to view full-size image](storing-additional-user-information-cs/_static/image30.png))</span></span>


<span data-ttu-id="4ca08-262">확인을 클릭 하면 그림 9에 표시 된 화면에 반환 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-262">After clicking OK you will be returned to the screen shown in Figure 9.</span></span> <span data-ttu-id="4ca08-263">하지만이 이때 화면 맨 아래에 있는 SQL 쿼리를 포함할지를 `WHERE` 절.</span><span class="sxs-lookup"><span data-stu-id="4ca08-263">This time, however, the SQL query at the bottom of the screen should include a `WHERE` clause.</span></span> <span data-ttu-id="4ca08-264">"테스트 쿼리" 화면으로 이동 하려면 다음을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-264">Click Next to move on to the "Test Query" screen.</span></span> <span data-ttu-id="4ca08-265">쿼리를 실행 하면 다음 결과 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-265">Here you can run the query and see the results.</span></span> <span data-ttu-id="4ca08-266">마법사를 완료 하려면 마침을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-266">Click Finish to complete the wizard.</span></span>

<span data-ttu-id="4ca08-267">데이터 소스 구성 마법사를 완료 하면 Visual Studio에는 마법사에서 지정한 설정에 따라 SqlDataSource 컨트롤을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-267">Upon completing the DataSource Configuration Wizard, Visual Studio creates the SqlDataSource control based on the settings specified in the wizard.</span></span> <span data-ttu-id="4ca08-268">또한 수동으로 추가 BoundFields SqlDataSource의에서 반환 된 각 열에 대 한 DetailsView `SelectCommand`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-268">Moreover, it manually adds BoundFields to the DetailsView for each column returned by the SqlDataSource's `SelectCommand`.</span></span> <span data-ttu-id="4ca08-269">표시할 필요가 없습니다를 `UserId` 필드에 DetailsView 하므로 사용자는이 값을 알 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-269">There's no need to show the `UserId` field in the DetailsView, since the user does not need to know this value.</span></span> <span data-ttu-id="4ca08-270">DetailsView 컨트롤의 선언적 태그에서 직접이 필드를 제거 하거나 "편집 필드"를 클릭 하 여 스마트 태그에서 연결 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-270">You can remove this field directly from the DetailsView control's declarative markup or by clicking the "Edit Fields" link from its Smart Tag.</span></span>

<span data-ttu-id="4ca08-271">이 시점에서 페이지의 선언적 태그는 다음과 비슷하게 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-271">At this point your page's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](storing-additional-user-information-cs/samples/sample1.aspx)]

<span data-ttu-id="4ca08-272">SqlDataSource 컨트롤의 프로그래밍 방식으로 설정 해야 `UserId` 매개 변수를 현재 로그인된 한 사용자의 `UserId` 데이터 선택 되기 전에 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-272">We need to programmatically set the SqlDataSource control's `UserId` parameter to the currently logged in user's `UserId` before the data is selected.</span></span> <span data-ttu-id="4ca08-273">SqlDataSource의에 대 한 이벤트 처리기를 만들어 이렇게 `Selecting` 이벤트 및 다음 추가 코드 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-273">This can be accomplished by creating an event handler for the SqlDataSource's `Selecting` event and adding the following code there:</span></span>

[!code-csharp[Main](storing-additional-user-information-cs/samples/sample2.cs)]

<span data-ttu-id="4ca08-274">위의 코드를 호출 하 여 현재 로그온된 한 사용자에 대 한 참조를 가져와서 시작 합니다 `Membership` 클래스의 `GetUser` 메서드.</span><span class="sxs-lookup"><span data-stu-id="4ca08-274">The above code starts by obtaining a reference to the currently logged on user by calling the `Membership` class's `GetUser` method.</span></span> <span data-ttu-id="4ca08-275">반환 합니다.는 `MembershipUser` 개체입니다 `ProviderUserKey` 속성을 포함 합니다 `UserId`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-275">This returns a `MembershipUser` object, whose `ProviderUserKey` property contains the `UserId`.</span></span> <span data-ttu-id="4ca08-276">합니다 `UserId` SqlDataSource의 값이 할당 한 다음 `@UserId` 매개 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-276">The `UserId` value is then assigned to the SqlDataSource's `@UserId` parameter.</span></span>

> [!NOTE]
> <span data-ttu-id="4ca08-277">`Membership.GetUser()` 메서드는 현재 로그온된 한 사용자에 대 한 정보를 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-277">The `Membership.GetUser()` method returns information about the currently logged on user.</span></span> <span data-ttu-id="4ca08-278">익명 사용자가 페이지를 방문 하 고, 값이 반환 됩니다 `null`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-278">If an anonymous user is visiting the page, it will return a value of `null`.</span></span> <span data-ttu-id="4ca08-279">이러한 경우이로 인해를 `NullReferenceException` 읽으려고 할 때 코드의 다음 줄에는 `ProviderUserKey` 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-279">In such a case, this will lead to a `NullReferenceException` on the following line of code when attempting to read the `ProviderUserKey` property.</span></span> <span data-ttu-id="4ca08-280">물론, 걱정할 필요가 없습니다 `Membership.GetUser()` 반환을 `null` 값을 `AdditionalUserInfo.aspx` 인증 된 사용자만이 폴더에 ASP.NET 리소스에 액세스할 수 있도록 이전 자습서에서 URL 권한 부여를 구성 했기 때문에 페이지.</span><span class="sxs-lookup"><span data-stu-id="4ca08-280">Of course, we don't have to worry about `Membership.GetUser()` returning a `null` value in the `AdditionalUserInfo.aspx` page because we configured URL authorization in a previous tutorial so that only authenticated users could access the ASP.NET resources in this folder.</span></span> <span data-ttu-id="4ca08-281">익명 액세스를 허용 하는 위치 페이지에서 현재 로그온된 한 사용자에 대 한 정보에 액세스 해야 할 경우 했는지 확인 하는 이외`null MembershipUser` 개체에서 반환 되는 `GetUser()` 해당 속성을 참조 하기 전에 메서드.</span><span class="sxs-lookup"><span data-stu-id="4ca08-281">If you need to access information about the currently logged on user in a page where anonymous access is permitted, make sure to check that a non-`null MembershipUser` object is returned from the `GetUser()` method before referencing its properties.</span></span>


<span data-ttu-id="4ca08-282">방문 하는 경우는 `AdditionalUserInfo.aspx` 페이지 브라우저를 통해 표시 됩니다 모든 행을 추가 하려면 아직 때문에 빈 페이지는 `UserProfiles` 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-282">If you visit the `AdditionalUserInfo.aspx` page through a browser you will see a blank page because we have yet to add any rows to the `UserProfiles` table.</span></span> <span data-ttu-id="4ca08-283">새 행을 자동으로 추가할 CreateUserWizard 컨트롤 사용자 지정 하는 방법을 살펴보겠습니다 6 단계에서에서의 `UserProfiles` 새 사용자 계정을 만들면 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-283">In Step 6 we will look at how to customize the CreateUserWizard control to automatically add a new row to the `UserProfiles` table when a new user account is created.</span></span> <span data-ttu-id="4ca08-284">그러나 지금은 해야 수동으로 테이블에 레코드를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-284">For now, however, we will need to manually create a record in the table.</span></span>

<span data-ttu-id="4ca08-285">Visual Studio에서 Database Explorer로 이동 하 고 테이블 폴더를 확장 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-285">Navigate to the Database Explorer in Visual Studio and expand the Tables folder.</span></span> <span data-ttu-id="4ca08-286">마우스 오른쪽 단추로 클릭 합니다 `aspnet_Users` 테이블 및 테이블의 레코드를 보려면 "테이블 데이터 표시" 선택;에 대해 동일한 작업을 수행 합니다 `UserProfiles` 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-286">Right-click on the `aspnet_Users` table and choose "Show Table Data" to see the records in the table; do the same thing for the `UserProfiles` table.</span></span> <span data-ttu-id="4ca08-287">그림 11에서는 세로 바둑판식으로 배열 하는 경우 이러한 결과 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-287">Figure 11 shows these results when tiled vertically.</span></span> <span data-ttu-id="4ca08-288">데이터베이스에 현재 가지 `aspnet_Users` Bruce, Fred 및 Tito에 대 한 레코드 있지만 레코드 없음는 `UserProfiles` 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-288">In my database there are currently `aspnet_Users` records for Bruce, Fred, and Tito, but no records in the `UserProfiles` table.</span></span>


[![T<span data-ttu-id="4ca08-289">그는 aspnet_Users 내용과 UserProfiles 테이블 표시 됩니다]</span><span class="sxs-lookup"><span data-stu-id="4ca08-289">he Contents of the aspnet_Users and UserProfiles Tables are Displayed]</span></span>(storing-additional-user-information-cs/_static/image32.png)](storing-additional-user-information-cs/_static/image31.png)

<span data-ttu-id="4ca08-290">**그림 11**: 콘텐츠를 `aspnet_Users` 하 고 `UserProfiles` 테이블이 표시 됩니다 ([전체 크기 이미지를 보려면 클릭](storing-additional-user-information-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-290">**Figure 11**: The Contents of the `aspnet_Users` and `UserProfiles` Tables are Displayed  ([Click to view full-size image](storing-additional-user-information-cs/_static/image33.png))</span></span>


<span data-ttu-id="4ca08-291">새 레코드를 추가 합니다 `UserProfiles` 수동으로 대 한 값을 입력 하 여 테이블을 `HomeTown`, `HomepageUrl`, 및 `Signature` 필드.</span><span class="sxs-lookup"><span data-stu-id="4ca08-291">Add a new record to the `UserProfiles` table by manually typing in values for the `HomeTown`, `HomepageUrl`, and `Signature` fields.</span></span> <span data-ttu-id="4ca08-292">유효한 얻을 수 있는 가장 쉬운 방법은 `UserId` 새 값 `UserProfiles` 레코드는 선택 하는 `UserId` 의 특정 사용자 계정에서 필드를 `aspnet_Users` 테이블 복사 및 붙여 넣습니다 합니다 `UserId` 필드에 `UserProfiles`.</span><span class="sxs-lookup"><span data-stu-id="4ca08-292">The easiest way to get a valid `UserId` value in the new `UserProfiles` record is to select the `UserId` field from a particular user account in the `aspnet_Users` table and copy and paste it into the `UserId` field in `UserProfiles`.</span></span> <span data-ttu-id="4ca08-293">그림 12는 `UserProfiles` Bruce에 대 한 새 레코드를 추가한 후 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-293">Figure 12 shows the `UserProfiles` table after a new record has been added for Bruce.</span></span>


[![A <span data-ttu-id="4ca08-294">Bruce에 대 한 레코드 UserProfiles에 추가한]</span><span class="sxs-lookup"><span data-stu-id="4ca08-294">Record was Added to UserProfiles for Bruce]</span></span>(storing-additional-user-information-cs/_static/image35.png)](storing-additional-user-information-cs/_static/image34.png)

<span data-ttu-id="4ca08-295">**그림 12**: 레코드에 추가 되었습니다 `UserProfiles` Bruce에 대 한 ([큰 이미지를 보려면 클릭](storing-additional-user-information-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-295">**Figure 12**: A Record was Added to `UserProfiles` for Bruce  ([Click to view full-size image](storing-additional-user-information-cs/_static/image36.png))</span></span>


<span data-ttu-id="4ca08-296">반환 합니다 `AdditionalUserInfo.aspx` 페이지, Bruce로 로그인 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-296">Return to the `AdditionalUserInfo.aspx` page, logged in as Bruce.</span></span> <span data-ttu-id="4ca08-297">그림 13에서 알 수 있듯이, Bruce의 설정이 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-297">As Figure 13 shows, Bruce's settings are displayed.</span></span>


[![T<span data-ttu-id="4ca08-298">현재 사용자 방문 담당 하 고 His 설정 표시]</span><span class="sxs-lookup"><span data-stu-id="4ca08-298">he Currently Visiting User is Shown His Settings]</span></span>(storing-additional-user-information-cs/_static/image38.png)](storing-additional-user-information-cs/_static/image37.png)

<span data-ttu-id="4ca08-299">**그림 13**: 현재 방문 사용자가 His 설정 표시 ([클릭 하 여 큰 이미지 보기](storing-additional-user-information-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-299">**Figure 13**: The Currently Visiting User is Shown His Settings  ([Click to view full-size image](storing-additional-user-information-cs/_static/image39.png))</span></span>


> [!NOTE]
> <span data-ttu-id="4ca08-300">수동으로 추가 레코드를 `UserProfiles` 각 멤버 자격 사용자에 대 한 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-300">Go ahead and manually add records in the `UserProfiles` table for each Membership user.</span></span> <span data-ttu-id="4ca08-301">새 행을 자동으로 추가할 CreateUserWizard 컨트롤 사용자 지정 하는 방법을 살펴보겠습니다 6 단계에서에서의 `UserProfiles` 새 사용자 계정을 만들면 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-301">In Step 6 we will look at how to customize the CreateUserWizard control to automatically add a new row to the `UserProfiles` table when a new user account is created.</span></span>


## <a name="step-3-allowing-the-user-to-edit-his-home-town-homepage-and-signature"></a><span data-ttu-id="4ca08-302">3단계: 사용자를가 자신의 홈 타운, 홈 페이지 및 서명을 편집할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-302">Step 3: Allowing the User to Edit His Home Town, Homepage, and Signature</span></span>

<span data-ttu-id="4ca08-303">현재 로그인된 한 사용자를 해당 홈 town, 홈 페이지 및 서명 설정을 볼 수는 시점에서 있지만 이러한 아직 수정할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-303">At this point the currently logged in user can view their home town, homepage, and signature setting, but they cannot yet modify them.</span></span> <span data-ttu-id="4ca08-304">데이터를 편집할 수 있도록 DetailsView 컨트롤을 업데이트 해 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-304">Let's update the DetailsView control so that the data can be edited.</span></span>

<span data-ttu-id="4ca08-305">가장 먼저 해야 할 추가 됩니다는 `UpdateCommand` SqlDataSource에 대 한 지정 하는 `UPDATE` 문을 실행 하 고 해당 매개 변수.</span><span class="sxs-lookup"><span data-stu-id="4ca08-305">The first thing we need to do is add an `UpdateCommand` for the SqlDataSource, specifying the `UPDATE` statement to execute and its corresponding parameters.</span></span> <span data-ttu-id="4ca08-306">SqlDataSource를 선택 하 고 속성 창에서 명령 및 매개 변수 편집기 대화 상자를 표시 하려면 UpdateQuery 속성 옆의 줄임표를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-306">Select the SqlDataSource and, from the Properties window, click on the ellipses next to the UpdateQuery property to bring up the Command and Parameter Editor dialog box.</span></span> <span data-ttu-id="4ca08-307">다음과 같이 입력 `UPDATE` 문 텍스트 상자에 붙여넣습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-307">Enter the following `UPDATE` statement into the textbox:</span></span>

[!code-sql[Main](storing-additional-user-information-cs/samples/sample3.sql)]

<span data-ttu-id="4ca08-308">다음으로, SqlDataSource 컨트롤의 매개 변수를 생성 하는 "매개 변수 새로 고침" 단추를 클릭 `UpdateParameters` 매개 변수 각각에 대 한 컬렉션을 `UPDATE` 문입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-308">Next, click the "Refresh Parameters" button, which will create a parameter in the SqlDataSource control's `UpdateParameters` collection for each of the parameters in the `UPDATE` statement.</span></span> <span data-ttu-id="4ca08-309">None 매개 변수 집합의 모든 소스를 두고 대화 상자를 완료 하려면 확인 단추를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-309">Leave the source for all of the parameters set to None and click the OK button to complete the dialog box.</span></span>


[![S<span data-ttu-id="4ca08-310">SqlDataSource의 UpdateCommand 및 UpdateParameters 지정]</span><span class="sxs-lookup"><span data-stu-id="4ca08-310">pecify the SqlDataSource's UpdateCommand and UpdateParameters]</span></span>(storing-additional-user-information-cs/_static/image41.png)](storing-additional-user-information-cs/_static/image40.png)

<span data-ttu-id="4ca08-311">**그림 14**: SqlDataSource의 지정할 `UpdateCommand` 하 고 `UpdateParameters` ([클릭 하 여 큰 이미지 보기](storing-additional-user-information-cs/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-311">**Figure 14**: Specify the SqlDataSource's `UpdateCommand` and `UpdateParameters` ([Click to view full-size image](storing-additional-user-information-cs/_static/image42.png))</span></span>


<span data-ttu-id="4ca08-312">추가 된 항목으로 인해 이제를 지원할 수 있는 편집 DetailsView SqlDataSource 컨트롤에 만들었습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-312">Due to the additions we made to the SqlDataSource control, the DetailsView control can now support editing.</span></span> <span data-ttu-id="4ca08-313">DetailsView의 스마트 태그에서 "편집 사용" 확인란을 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-313">From the DetailsView's Smart Tag, check the "Enable Editing" checkbox.</span></span> <span data-ttu-id="4ca08-314">컨트롤에는 CommandField 추가 `Fields` 컬렉션과 해당 `ShowEditButton` 속성이 True로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-314">This adds a CommandField to the control's `Fields` collection with its `ShowEditButton` property set to True.</span></span> <span data-ttu-id="4ca08-315">이 DetailsView 읽기 전용 모드 및 업데이트에 표시 되 고 취소 단추에 표시 되는 모드를 편집 하는 경우 편집 단추를 렌더링 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-315">This renders an Edit button when the DetailsView is displayed in read-only mode and Update and Cancel buttons when displayed in edit mode.</span></span> <span data-ttu-id="4ca08-316">사용자가 편집 클릭에 요구 하는 대신 그러나 있다는 DetailsView 렌더링 "항상 편집 가능" 상태로 DetailsView 컨트롤을 설정 하 여 [ `DefaultMode` 속성](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.defaultmode.aspx) 하려면 `Edit`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-316">Rather than requiring the user to click Edit, though, we can have the DetailsView render in an "always editable" state by setting the DetailsView control's [`DefaultMode` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.defaultmode.aspx) to `Edit`.</span></span>

<span data-ttu-id="4ca08-317">이러한 변경으로 DetailsView 컨트롤의 선언적 태그는 다음과 같아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-317">With these changes, your DetailsView control's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](storing-additional-user-information-cs/samples/sample4.aspx)]

<span data-ttu-id="4ca08-318">CommandField 추가 및 `DefaultMode` 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-318">Note the addition of the CommandField and the `DefaultMode` property.</span></span>

<span data-ttu-id="4ca08-319">계속 해 서 브라우저를 통해이 페이지를 테스트 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-319">Go ahead and test this page through a browser.</span></span> <span data-ttu-id="4ca08-320">해당 레코드에 있는 사용자를 방문할 때 `UserProfiles`, 사용자의 설정을 편집할 수 있는 인터페이스에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-320">When visiting with a user that has a corresponding record in `UserProfiles`, the user's settings are displayed in an editable interface.</span></span>


[![T<span data-ttu-id="4ca08-321">편집 가능한 인터페이스를 렌더링 하는 그 DetailsView]</span><span class="sxs-lookup"><span data-stu-id="4ca08-321">he DetailsView Renders an Editable Interface]</span></span>(storing-additional-user-information-cs/_static/image44.png)](storing-additional-user-information-cs/_static/image43.png)

<span data-ttu-id="4ca08-322">**그림 15**: DetailsView를 편집할 수 있는 인터페이스를 렌더링 합니다. ([클릭 하 여 큰 이미지 보기](storing-additional-user-information-cs/_static/image45.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-322">**Figure 15**: The DetailsView Renders an Editable Interface  ([Click to view full-size image](storing-additional-user-information-cs/_static/image45.png))</span></span>


<span data-ttu-id="4ca08-323">시도 값을 변경 하 고 업데이트 단추를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-323">Try changing the values and clicking the Update button.</span></span> <span data-ttu-id="4ca08-324">아무 작업도 처럼 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-324">It appears as if nothing happens.</span></span> <span data-ttu-id="4ca08-325">다시 게시 하 고 값이 데이터베이스에 저장 됩니다 있지만 저장 수행한 visual 알 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-325">There is a postback and the values are saved to the database, but there's no visual feedback that the save occurred.</span></span>

<span data-ttu-id="4ca08-326">이 해결 하려면 Visual Studio로 돌아가서 및 DetailsView 위에 레이블 컨트롤을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-326">To remedy this, return to Visual Studio and add a Label control above the DetailsView.</span></span> <span data-ttu-id="4ca08-327">설정 해당 `ID` 에 `SettingsUpdatedMessage`, 해당 `Text` 속성을 "사용자 설정이 업데이트 되었습니다," 및 해당 `Visible` 하 고 `EnableViewState` 속성을 `false`입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-327">Set its `ID` to `SettingsUpdatedMessage`, its `Text` property to "Your settings have been updated," and its `Visible` and `EnableViewState` properties to `false`.</span></span>

[!code-aspx[Main](storing-additional-user-information-cs/samples/sample5.aspx)]

<span data-ttu-id="4ca08-328">표시할 필요는 `SettingsUpdatedMessage` DetailsView 업데이트 될 때마다 레이블.</span><span class="sxs-lookup"><span data-stu-id="4ca08-328">We need to display the `SettingsUpdatedMessage` Label whenever the DetailsView is updated.</span></span> <span data-ttu-id="4ca08-329">DetailsView의에 대 한 이벤트 처리기를 만들고이를 위해 `ItemUpdated` 이벤트 다음 코드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-329">To accomplish this, create an event handler for the DetailsView's `ItemUpdated` event and add the following code:</span></span>

[!code-csharp[Main](storing-additional-user-information-cs/samples/sample6.cs)]

<span data-ttu-id="4ca08-330">반환 합니다 `AdditionalUserInfo.aspx` 브라우저를 통해 페이지와 데이터를 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-330">Return to the `AdditionalUserInfo.aspx` page through a browser and update the data.</span></span> <span data-ttu-id="4ca08-331">이 이번에는 유용한 상태 메시지가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-331">This time, a helpful status message is displayed.</span></span>


[![A <span data-ttu-id="4ca08-332">짧은 메시지가 표시 되는 경우의 설정을 업데이트 하는입니다.]</span><span class="sxs-lookup"><span data-stu-id="4ca08-332">Short Message is Displayed When the Settings are Updated]</span></span>(storing-additional-user-information-cs/_static/image47.png)](storing-additional-user-information-cs/_static/image46.png)

<span data-ttu-id="4ca08-333">**그림 16**: 설정이 업데이트 되 면 짧은 메시지가 표시 됩니다 ([클릭 하 여 큰 이미지 보기](storing-additional-user-information-cs/_static/image48.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-333">**Figure 16**: A Short Message is Displayed When the Settings are Updated  ([Click to view full-size image](storing-additional-user-information-cs/_static/image48.png))</span></span>


> [!NOTE]
> <span data-ttu-id="4ca08-334">DetailsView 컨트롤의 편집 인터페이스 리프는 부분이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-334">The DetailsView control's editing interface leaves a lot to be desired.</span></span> <span data-ttu-id="4ca08-335">표준 크기의 텍스트 상자를 사용 하지만 서명 필드는 여러 줄 텍스트 상자 되어야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-335">It uses standard-sized textboxes, but the Signature field should probably be a multi-line textbox.</span></span> <span data-ttu-id="4ca08-336">RegularExpressionValidator는 홈 페이지 URL을 입력 하는 경우 시작 "http://" 또는 "https://"로 확인 하는 것 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-336">A RegularExpressionValidator should be used to ensure that the homepage URL, if entered, starts with "http://" or "https://".</span></span> <span data-ttu-id="4ca08-337">DetailsView 컨트롤에는 또한 이후에 해당 `DefaultMode` 속성이 설정 `Edit`, 취소 단추 아무 작업도 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-337">Moreover, since the DetailsView control has its `DefaultMode` property set to `Edit`, the Cancel button does not do anything.</span></span> <span data-ttu-id="4ca08-338">이 하거나 제거 하거나를 클릭 하면 사용자를 리디렉션할 다른 일부 페이지 (같은 `~/Default.aspx`).</span><span class="sxs-lookup"><span data-stu-id="4ca08-338">It should either be removed or, when clicked, redirect the user to some other page (such as `~/Default.aspx`).</span></span> <span data-ttu-id="4ca08-339">I 이러한 향상 된이 기능은 판독기에 대 한 연습을 그대로 둡니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-339">I leave these enhancements as an exercise for the reader.</span></span>


### <a name="adding-a-link-to-theadditionaluserinfoaspxpage-in-the-master-page"></a><span data-ttu-id="4ca08-340">에 대 한 링크를 추가 합니다`AdditionalUserInfo.aspx`마스터 페이지에서 페이지</span><span class="sxs-lookup"><span data-stu-id="4ca08-340">Adding a Link to the`AdditionalUserInfo.aspx`Page in the Master Page</span></span>

<span data-ttu-id="4ca08-341">현재 웹 사이트에 대 한 링크 제공 하지 않습니다는 `AdditionalUserInfo.aspx` 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-341">Currently, the website does not provide any links to the `AdditionalUserInfo.aspx` page.</span></span> <span data-ttu-id="4ca08-342">서버에 도달 하는 유일한 방법은 브라우저의 주소 표시줄에 직접 페이지의 URL을 입력 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-342">The only way to reach it is to enter the page's URL directly into the browser's Address bar.</span></span> <span data-ttu-id="4ca08-343">이 페이지에 대 한 링크를 추가 해 보겠습니다는 `Site.master` 마스터 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-343">Let's add a link to this page in the `Site.master` master page.</span></span>

<span data-ttu-id="4ca08-344">마스터 페이지에는 LoginView 웹 컨트롤에 회수 해당 `LoginContent` ContentPlaceHolder 인증 및 익명 방문자에 대 한 다른 태그를 표시 하는 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-344">Recall that the master page contains a LoginView Web control in its `LoginContent` ContentPlaceHolder that displays different markup for authenticated and anonymous visitors.</span></span> <span data-ttu-id="4ca08-345">LoginView 컨트롤의 업데이트 `LoggedInTemplate` 링크를 포함 하는 `AdditionalUserInfo.aspx` 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-345">Update the LoginView control's `LoggedInTemplate` to include a link to the `AdditionalUserInfo.aspx` page.</span></span> <span data-ttu-id="4ca08-346">LoginView 이러한 변경을 수행한 후 컨트롤의 선언적 태그는 다음과 비슷하게 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-346">After making these changes the LoginView control's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](storing-additional-user-information-cs/samples/sample7.aspx)]

<span data-ttu-id="4ca08-347">추가 된 `lnkUpdateSettings` 하이퍼링크 컨트롤을는 `LoggedInTemplate`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-347">Note the addition of the `lnkUpdateSettings` HyperLink control to the `LoggedInTemplate`.</span></span> <span data-ttu-id="4ca08-348">진행에서이 링크를 사용 하 여 인증 된 사용자가 홈 타운, 홈 페이지 및 서명을 설정 보기 및 수정 페이지 빠르게 이동할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-348">With this link in place, authenticated users can quickly jump to the page to view and modify their home town, homepage, and signature settings.</span></span>

## <a name="step-4-adding-new-guestbook-comments"></a><span data-ttu-id="4ca08-349">4단계: 새 방명록 주석 추가</span><span class="sxs-lookup"><span data-stu-id="4ca08-349">Step 4: Adding New Guestbook Comments</span></span>

<span data-ttu-id="4ca08-350">`Guestbook.aspx` 페이지 위치 이며 인증 된 사용자 수는 방명록 보고 의견을 남겨 주세요.</span><span class="sxs-lookup"><span data-stu-id="4ca08-350">The `Guestbook.aspx` page is where authenticated users can view the guestbook and leave a comment.</span></span> <span data-ttu-id="4ca08-351">새 방명록 주석을 추가 하는 인터페이스를 만드는 것부터 시작 하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-351">Let's start with creating the interface to add new guestbook comments.</span></span>

<span data-ttu-id="4ca08-352">열기는 `Guestbook.aspx` Visual Studio에서 페이지 및 새 메모의 제목 및 본문에 대 한 두 개의 텍스트 상자 컨트롤 구성 된 사용자 인터페이스를 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-352">Open the `Guestbook.aspx` page in Visual Studio and construct a user interface consisting of two TextBox controls, one for the new comment's subject and one for its body.</span></span> <span data-ttu-id="4ca08-353">첫 번째 텍스트 상자 컨트롤을 설정 `ID` 속성을 `Subject` 및 해당 `Columns` 40 속성; 설정된 두 번째 `ID` 하 `Body`, 해당 `TextMode` 에 `MultiLine`, 및 해당 `Width` 및 `Rows` 속성을 "95%" 및 8, 각각.</span><span class="sxs-lookup"><span data-stu-id="4ca08-353">Set the first TextBox control's `ID` property to `Subject` and its `Columns` property to 40; set second's `ID` to `Body`, its `TextMode` to `MultiLine`, and its `Width` and `Rows` properties to "95%" and 8, respectively.</span></span> <span data-ttu-id="4ca08-354">사용자 인터페이스를 완료 하려면 라는 단추 웹 컨트롤을 추가 `PostCommentButton` 설정 및 해당 `Text` "댓글 게시" 하는 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-354">To complete the user interface, add a Button Web control named `PostCommentButton` and set its `Text` property to "Post Your Comment".</span></span>

<span data-ttu-id="4ca08-355">각 방명록 주석 제목 및 본문에 필요한 있으므로 각 텍스트 상자에 대 한는 RequiredFieldValidator를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-355">Since each guestbook comment requires a subject and body, add a RequiredFieldValidator for each of the TextBoxes.</span></span> <span data-ttu-id="4ca08-356">설정 합니다 `ValidationGroup` "EnterComment"; 이러한 컨트롤의 속성 마찬가지로 설정 합니다 `PostCommentButton` 컨트롤의 `ValidationGroup` "EnterComment" 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-356">Set the `ValidationGroup` property of these controls to "EnterComment"; likewise, set the `PostCommentButton` control's `ValidationGroup` property to "EnterComment".</span></span> <span data-ttu-id="4ca08-357">ASP에 대 한 자세한 내용은 합니다. NET의 유효성 검사 컨트롤, 체크 아웃 [asp.net에서 양식 유효성 검사](http://www.4guysfromrolla.com/webtech/090200-1.shtml)를 [ASP.NET 2.0의 유효성 검사 컨트롤 분석](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx), 및 [유효성 검사 서버 컨트롤 자습서](http://www.w3schools.com/aspnet/aspnet_refvalidationcontrols.asp) 온 [W3Schools](http://www.w3schools.com/)합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-357">For more information on ASP.NET's validation controls, check out [Form Validation in ASP.NET](http://www.4guysfromrolla.com/webtech/090200-1.shtml), [Dissecting the Validation Controls in ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx), and the [Validation Server Controls Tutorial](http://www.w3schools.com/aspnet/aspnet_refvalidationcontrols.asp) on [W3Schools](http://www.w3schools.com/).</span></span>

<span data-ttu-id="4ca08-358">사용자 인터페이스를 작성 한 후 페이지의 선언적 태그 다음과 유사한 출력이 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-358">After crafting the user interface your page's declarative markup should look something like the following:</span></span>

[!code-aspx[Main](storing-additional-user-information-cs/samples/sample8.aspx)]

<span data-ttu-id="4ca08-359">에 새 레코드를 삽입 하는 다음 작업은 전체 사용자 인터페이스를 사용 하 여를 `GuestbookComments` 때 테이블을 `PostCommentButton` 를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-359">With the user interface complete, our next task is to insert a new record into the `GuestbookComments` table when the `PostCommentButton` is clicked.</span></span> <span data-ttu-id="4ca08-360">여러 가지 방법으로에서 수행할 수 있습니다: 단추의 ADO.NET 코드를 작성할 수 있습니다 `Click` 이벤트 처리기에 구성에 페이지를 SqlDataSource 컨트롤을 추가할 수 해당 `InsertCommand`, 호출 및 해당 `Insert` 메서드에서 `Click` 이벤트 처리기 새 방명록 주석을 삽입 하는 일을 담당 했습니다 되는 중간 계층을 구축 하 고에서이 기능을 호출할 수 있었습니다 또는 `Click` 이벤트 처리기입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-360">This can be accomplished in a number of ways: we can write ADO.NET code in the Button's `Click` event handler; we can add a SqlDataSource control to the page, configure its `InsertCommand`, and then call its `Insert` method from the `Click` event handler; or we could build a middle tier that was responsible for inserting new guestbook comments, and invoke this functionality from the `Click` event handler.</span></span> <span data-ttu-id="4ca08-361">SqlDataSource를 사용 하 여 3 단계에서에서 보이는 것 이므로 보겠습니다 ADO.NET 코드 여기 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-361">Since we looked at using a SqlDataSource in Step 3, let's use ADO.NET code here.</span></span>

> [!NOTE]
> <span data-ttu-id="4ca08-362">Microsoft SQL Server 데이터베이스에서 데이터를 프로그래밍 방식으로 액세스 하는 데 ADO.NET 클래스에는 `System.Data.SqlClient` 네임 스페이스입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-362">The ADO.NET classes used to programmatically access data from a Microsoft SQL Server database are located in the `System.Data.SqlClient` namespace.</span></span> <span data-ttu-id="4ca08-363">페이지의 코드 숨김 클래스에이 네임 스페이스를 가져와야 할 수 있습니다 (즉, `using System.Data.SqlClient;`).</span><span class="sxs-lookup"><span data-stu-id="4ca08-363">You may need to import this namespace into your page's code-behind class (i.e., `using System.Data.SqlClient;`).</span></span>


<span data-ttu-id="4ca08-364">이벤트 처리기를 만듭니다는 `PostCommentButton`의 `Click` 이벤트 다음 코드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-364">Create an event handler for the `PostCommentButton`'s `Click` event and add the following code:</span></span>

[!code-csharp[Main](storing-additional-user-information-cs/samples/sample9.cs)]

<span data-ttu-id="4ca08-365">`Click` 이벤트 처리기는 사용자 제공 데이터가 유효한 지 확인 하 여 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-365">The `Click` event handler starts by checking that the user-supplied data is valid.</span></span> <span data-ttu-id="4ca08-366">없는 경우 레코드를 삽입 하기 전에 이벤트 처리기를 종료 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-366">If it is not, the event handler exits before inserting a record.</span></span> <span data-ttu-id="4ca08-367">제공 된 데이터가 잘못 가정 하 고 현재 로그온된 한 사용자의 `UserId` 값을 검색 하 고 저장 합니다 `currentUserId` 지역 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-367">Assuming the supplied data is valid, the currently logged on user's `UserId` value is retrieved and stored in the `currentUserId` local variable.</span></span> <span data-ttu-id="4ca08-368">에서는 제공 해야 하기 때문에이 값이 필요를 `UserId` 에 레코드 삽입 시 값 `GuestbookComments`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-368">This value is needed because we must supply a `UserId` value when inserting a record into `GuestbookComments`.</span></span>

<span data-ttu-id="4ca08-369">다음에 대 한 연결 문자열을 `SecurityTutorials` 데이터베이스에서 검색 됩니다 `Web.config` 및 `INSERT` SQL 문을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-369">Following that, the connection string for the `SecurityTutorials` database is retrieved from `Web.config` and the `INSERT` SQL statement is specified.</span></span> <span data-ttu-id="4ca08-370">`SqlConnection` 개체가 다음 생성 되 고 열립니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-370">A `SqlConnection` object is then created and opened.</span></span> <span data-ttu-id="4ca08-371">다음으로 `SqlCommand` 개체가 생성 되 고 매개 변수의 값에 사용를 `INSERT` 쿼리 할당 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-371">Next, a `SqlCommand` object is constructed and the values for the parameters used in the `INSERT` query are assigned.</span></span> <span data-ttu-id="4ca08-372">`INSERT` 문을 다음으로 실행 되 고 연결이 종료 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-372">The `INSERT` statement is then executed and the connection closed.</span></span> <span data-ttu-id="4ca08-373">이벤트 처리기의 끝에는 `Subject` 및 `Body` 텍스트 상자 `Text` 포스트백에서 사용자의 값이 유지 되지 않습니다 있도록 속성이 지워집니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-373">At the end of the event handler, the `Subject` and `Body` TextBoxes' `Text` properties are cleared out so that the user's values are not persisted across the postback.</span></span>

<span data-ttu-id="4ca08-374">계속 해 서 브라우저에서이 페이지를 테스트 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-374">Go ahead and test out this page in a browser.</span></span> <span data-ttu-id="4ca08-375">이 페이지의 이므로 `Membership` 익명 방문자에 게 액세스할 수 없기 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-375">Since this page is in the `Membership` folder it is not accessible to anonymous visitors.</span></span> <span data-ttu-id="4ca08-376">따라서 먼저 (있는 경우 아직)에 로그온 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-376">Therefore, you will need to first log on (if you have not already).</span></span> <span data-ttu-id="4ca08-377">에 값을 입력 합니다 `Subject` 및 `Body` 텍스트 상자 클릭 및는 `PostCommentButton` 단추.</span><span class="sxs-lookup"><span data-stu-id="4ca08-377">Enter a value into the `Subject` and `Body` TextBoxes and click the `PostCommentButton` button.</span></span> <span data-ttu-id="4ca08-378">이렇게 하면 새 레코드에 추가할 `GuestbookComments`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-378">This will cause a new record to be added to `GuestbookComments`.</span></span> <span data-ttu-id="4ca08-379">포스트백에서 제목 및 본문 입력 된 텍스트 상자에서 초기화 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-379">On postback, the subject and body you provided are wiped from the TextBoxes.</span></span>

<span data-ttu-id="4ca08-380">클릭 한 후의 `PostCommentButton` 단추에 있는 시각적 피드백은 없습니다를 guestbook으로 주석이 추가 된 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-380">After clicking the `PostCommentButton` button there is no visual feedback that the comment was added to the guestbook.</span></span> <span data-ttu-id="4ca08-381">5 단계에서에서 수행 하는 기존 방명록 메모를 표시 하려면이 페이지를 업데이트 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-381">We still need to update this page to display the existing guestbook comments, which we will do in Step 5.</span></span> <span data-ttu-id="4ca08-382">이렇게 우리가 방금 추가 된 주석 주석, 적절 한 시각적 피드백을 제공 목록에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-382">Once we accomplish that, the just-added comment will appear in the list of comments, providing adequate visual feedback.</span></span> <span data-ttu-id="4ca08-383">지금은 방명록 의견의 내용을 검사 하 여 저장 된 것을 확인 합니다 `GuestbookComments` 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-383">For now, confirm that your guestbook comment was saved by examining the contents of the `GuestbookComments` table.</span></span>

<span data-ttu-id="4ca08-384">그림 17의 내용을 보여 줍니다는 `GuestbookComments` 테이블 두 주석이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-384">Figure 17 shows the contents of the `GuestbookComments` table after two comments have been left.</span></span>


[![Y<span data-ttu-id="4ca08-385">ou는 GuestbookComments 표에 방명록 주석을 볼 수]</span><span class="sxs-lookup"><span data-stu-id="4ca08-385">ou Can See the Guestbook Comments in the GuestbookComments Table]</span></span>(storing-additional-user-information-cs/_static/image50.png)](storing-additional-user-information-cs/_static/image49.png)

<span data-ttu-id="4ca08-386">**그림 17**: 방명록 주석을 표시 합니다 `GuestbookComments` 테이블 ([큰 이미지를 보려면 클릭](storing-additional-user-information-cs/_static/image51.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-386">**Figure 17**: You Can See the Guestbook Comments in the `GuestbookComments` Table  ([Click to view full-size image](storing-additional-user-information-cs/_static/image51.png))</span></span>


> [!NOTE]
> <span data-ttu-id="4ca08-387">HTML – ASP.NET 같은 위험한 태그 – 사용자가 잠재적으로 포함 하는 방명록 주석 삽입 하려고 하는 경우 throw 됩니다는 `HttpRequestValidationException`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-387">If a user attempts to insert a guestbook comment that contains potentially dangerous markup – such as HTML – ASP.NET will throw an `HttpRequestValidationException`.</span></span> <span data-ttu-id="4ca08-388">이 예외를 throw 이유 및 사용자가 잠재적으로 위험한 값을 제출 하도록 허용 하는 방법에 대 한 자세한 내용은 참조는 [요청 유효성 검사 백서](../../../../whitepapers/request-validation.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-388">To learn more about this exception, why it's thrown, and how to permit users to submit potentially dangerous values, consult the [Request Validation Whitepaper](../../../../whitepapers/request-validation.md).</span></span>


## <a name="step-5-listing-the-existing-guestbook-comments"></a><span data-ttu-id="4ca08-389">5단계: 기존 방명록 주석을 나열합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-389">Step 5: Listing the Existing Guestbook Comments</span></span>

<span data-ttu-id="4ca08-390">의견을 방문한 사용자 외에 `Guestbook.aspx` 페이지도 방명록의 기존 주석을 볼 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-390">In addition to leaving comments, a user visiting the `Guestbook.aspx` page should also be able to view the guestbook's existing comments.</span></span> <span data-ttu-id="4ca08-391">이렇게 하려면 명명 된 ListView 컨트롤을 추가 `CommentList` 페이지 맨 아래에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-391">To accomplish this, add a ListView control named `CommentList` to the bottom of the page.</span></span>

> [!NOTE]
> <span data-ttu-id="4ca08-392">ListView 컨트롤은 ASP.NET 3.5 버전을 새입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-392">The ListView control is new to ASP.NET version 3.5.</span></span> <span data-ttu-id="4ca08-393">사용자 지정 가능 하 고 유연한 레이아웃에서 항목의 목록을 표시 하지만 계속 기본 제공 편집, 삽입, 삭제, 페이징 및 정렬 GridView와 같은 기능을 제공 하도록 설계 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-393">It is designed to display a list of items in a very customizable and flexible layout, yet still offer built-in editing, inserting, deleting, paging, and sorting functionality like the GridView.</span></span> <span data-ttu-id="4ca08-394">ASP.NET 2.0을 사용 하는 경우에 DataList 또는 Repeater 컨트롤을 대신 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-394">If you are using ASP.NET 2.0, you will need to use the DataList or Repeater control instead.</span></span> <span data-ttu-id="4ca08-395">ListView를 사용 하 여 자세한 내용은 [Scott Guthrie](https://weblogs.asp.net/scottgu/)의 블로그 항목 [asp: ListView 컨트롤](https://weblogs.asp.net/scottgu/archive/2007/08/10/the-asp-listview-control-part-1-building-a-product-listing-page-with-clean-css-ui.aspx), 및 필자의 기사 [ListView 컨트롤을 사용 하 여 데이터 표시](http://aspnet.4guysfromrolla.com/articles/122607-1.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-395">For more information on using the ListView, see [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog entry, [The asp:ListView Control](https://weblogs.asp.net/scottgu/archive/2007/08/10/the-asp-listview-control-part-1-building-a-product-listing-page-with-clean-css-ui.aspx), and my article, [Displaying Data with the ListView Control](http://aspnet.4guysfromrolla.com/articles/122607-1.aspx).</span></span>


<span data-ttu-id="4ca08-396">ListView의 스마트 태그를 열고 데이터 소스 선택 드롭다운 목록에서 새 데이터 소스에 컨트롤을 바인딩하십시오.</span><span class="sxs-lookup"><span data-stu-id="4ca08-396">Open the ListView's Smart Tag and, from the Choose Data Source drop-down list, bind the control to a new data source.</span></span> <span data-ttu-id="4ca08-397">2 단계에서에서 보았듯이 데이터 소스 구성 마법사 시작 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-397">As we saw in Step 2, this will launch the Data Source Configuration Wizard.</span></span> <span data-ttu-id="4ca08-398">데이터베이스 아이콘을 선택, 결과 SqlDataSource 이름을 `CommentsDataSource`, 확인을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-398">Select the Database icon, name the resulting SqlDataSource `CommentsDataSource`, and click OK.</span></span> <span data-ttu-id="4ca08-399">다음으로, 선택 된 `SecurityTutorialsConnectionString` 연결 문자열 드롭다운 목록에서 다음을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-399">Next, select the `SecurityTutorialsConnectionString` connection string from the drop-down list and click Next.</span></span>

<span data-ttu-id="4ca08-400">이 시점에서 2 단계에서에서 지정한 데이터 쿼리를 선택 하 여는 `UserProfiles` 드롭 다운 목록에서 테이블 및 반환할 열을 선택 하면 (그림 9 다시 참조).</span><span class="sxs-lookup"><span data-stu-id="4ca08-400">At this point in Step 2 we specified the data to query by picking the `UserProfiles` table from the drop-down list and selecting the columns to return (refer back to Figure 9).</span></span> <span data-ttu-id="4ca08-401">그러나이 이때 하고자 뿐만 아니라에서 레코드를 다시 가져오는 SQL 문을 만들 `GuestbookComments`, 하지만 메모의 홈 마을 또한, 홈페이지, 서명 및 사용자 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-401">This time, however, we want to craft a SQL statement that pulls back not only the records from `GuestbookComments`, but also the commenter's home town, homepage, signature, and username.</span></span> <span data-ttu-id="4ca08-402">따라서 "사용자 지정 SQL 문 또는 저장된 프로시저 지정" 라디오 단추를 선택 하 고 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-402">Therefore, select the "Specify a custom SQL statement or stored procedure" radio button and click Next.</span></span>

<span data-ttu-id="4ca08-403">"정의 사용자 지정 문 또는 저장 프로시저" 화면이 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-403">This will bring up the "Define Custom Statements or Stored Procedures" screen.</span></span> <span data-ttu-id="4ca08-404">쿼리를 작성 하는 그래픽 쿼리 작성기 단추를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-404">Click the Query Builder button to graphically build the query.</span></span> <span data-ttu-id="4ca08-405">쿼리 작성기에서 쿼리 하려는 테이블을 지정 하 라는 메시지가 표시 하 여 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-405">The Query Builder starts by prompting us to specify the tables we want to query from.</span></span> <span data-ttu-id="4ca08-406">선택 합니다 `GuestbookComments`, `UserProfiles`, 및 `aspnet_Users` 테이블 및 확인을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-406">Select the `GuestbookComments`, `UserProfiles`, and `aspnet_Users` tables and click OK.</span></span> <span data-ttu-id="4ca08-407">이렇게 하면 모든 세 테이블 디자인 화면에 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-407">This will add all three tables to the design surface.</span></span> <span data-ttu-id="4ca08-408">간에 외래 키 제약 조건이 있으므로 합니다 `GuestbookComments`, `UserProfiles`, 및 `aspnet_Users` 테이블을 쿼리 작성기를 자동으로 `JOIN` s 이러한 테이블.</span><span class="sxs-lookup"><span data-stu-id="4ca08-408">Since there are foreign key constraints amongst the `GuestbookComments`, `UserProfiles`, and `aspnet_Users` tables, the Query Builder automatically `JOIN` s these tables.</span></span>

<span data-ttu-id="4ca08-409">에 반환할 열을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-409">All that remains is to specify the columns to return.</span></span> <span data-ttu-id="4ca08-410">`GuestbookComments` 테이블을 `Subject`, `Body`, 및 `CommentDate` 열은 반환을 `HomeTown`, `HomepageUrl`, 및 `Signature` 열에서를 `UserProfiles` ; 테이블을 반환 `UserName` 에서`aspnet_Users`.</span><span class="sxs-lookup"><span data-stu-id="4ca08-410">From the `GuestbookComments` table select the `Subject`, `Body`, and `CommentDate` columns; return the `HomeTown`, `HomepageUrl`, and `Signature` columns from the `UserProfiles` table; and return `UserName` from `aspnet_Users`.</span></span> <span data-ttu-id="4ca08-411">또한 추가 "`ORDER BY CommentDate DESC`"의 끝에는 `SELECT` 최근 게시물 먼저 반환 되도록 쿼리 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-411">Also, add "`ORDER BY CommentDate DESC`" to the end of the `SELECT` query so that the most recent posts are returned first.</span></span> <span data-ttu-id="4ca08-412">이러한 선택 항목에 확인 한 후 쿼리 작성기 인터페이스 그림 18에서 스크린샷과 유사 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-412">After making these selections, your Query Builder interface should look similar to the screen shot in Figure 18.</span></span>


[![T<span data-ttu-id="4ca08-413">또한 생성 된 쿼리 조인 GuestbookComments, UserProfiles, 및 aspnet_Users 테이블]</span><span class="sxs-lookup"><span data-stu-id="4ca08-413">he Constructed Query JOINs the GuestbookComments, UserProfiles, and aspnet_Users Tables]</span></span>(storing-additional-user-information-cs/_static/image53.png)](storing-additional-user-information-cs/_static/image52.png)

<span data-ttu-id="4ca08-414">**그림 18**: 생성 된 쿼리 `JOIN` s 합니다 `GuestbookComments`를 `UserProfiles`, 및 `aspnet_Users` 테이블 ([클릭 하 여 큰 이미지 보기](storing-additional-user-information-cs/_static/image54.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-414">**Figure 18**: The Constructed Query `JOIN` s the `GuestbookComments`, `UserProfiles`, and `aspnet_Users` Tables  ([Click to view full-size image](storing-additional-user-information-cs/_static/image54.png))</span></span>


<span data-ttu-id="4ca08-415">쿼리 작성기 창을 닫고 정의 사용자 지정 문 또는 저장 프로시저 "" 화면으로 돌아가서 확인을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-415">Click OK to close the Query Builder window and return to the "Define Custom Statements or Stored Procedures" screen.</span></span> <span data-ttu-id="4ca08-416">쿼리 테스트 단추를 클릭 하 여 쿼리 결과 볼 수 있는 "테스트 쿼리" 화면에 고급을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-416">Click Next to advance to the "Test Query" screen, where you may view the query results by clicking the Test Query button.</span></span> <span data-ttu-id="4ca08-417">준비 되 면, 데이터 소스 구성 마법사를 완료 하려면 마침을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-417">When you're ready, click Finish to complete the Configure Data Source wizard.</span></span>

<span data-ttu-id="4ca08-418">2 단계에서 연결된 된 DetailsView 컨트롤의 데이터 소스 구성 마법사를 완료 하는 것 `Fields` 컬렉션에서 반환 된 각 열에 대 한 BoundField를 포함 하도록 업데이트 되었으며는 `SelectCommand`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-418">When we completed the Configure Data Source wizard in Step 2, the associated DetailsView control's `Fields` collection was updated to include a BoundField for each column returned by the `SelectCommand`.</span></span> <span data-ttu-id="4ca08-419">그러나 ListView, 그대로 유지 됩니다. 해당 레이아웃을 정의 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-419">The ListView, however, remains unchanged; we still need to define its layout.</span></span> <span data-ttu-id="4ca08-420">해당 선언적 태그를 통해 또는 스마트 태그가 "ListView 구성" 옵션에서 ListView의 레이아웃을 수동으로 생성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-420">The ListView's layout can be constructed manually through its declarative markup or from the "Configure ListView" option in its Smart Tag.</span></span> <span data-ttu-id="4ca08-421">일반적으로 태그를 직접 정의 하는 것이 좋습니다. 했지만 할 가장 자연 스러운 방법을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-421">I usually prefer defining the markup by hand, but use whatever method is most natural to you.</span></span>

<span data-ttu-id="4ca08-422">최종적 다음을 사용 하 여 `LayoutTemplate`, `ItemTemplate`, 및 `ItemSeparatorTemplate` ListView 컨트롤에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-422">I ended up using the following `LayoutTemplate`, `ItemTemplate`, and `ItemSeparatorTemplate` for my ListView control:</span></span>

[!code-aspx[Main](storing-additional-user-information-cs/samples/sample10.aspx)]

<span data-ttu-id="4ca08-423">합니다 `LayoutTemplate` 태그를 정의 하는 동안 컨트롤에 의해 생성 되는 `ItemTemplate` SqlDataSource에서 반환 된 각 항목을 렌더링 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-423">The `LayoutTemplate` defines the markup emitted by the control, while the `ItemTemplate` renders each item returned by the SqlDataSource.</span></span> <span data-ttu-id="4ca08-424">`ItemTemplate`의 결과 태그에 배치 되는 `LayoutTemplate`의 `itemPlaceholder` 제어 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-424">The `ItemTemplate`'s resulting markup is placed in the `LayoutTemplate`'s `itemPlaceholder` control.</span></span> <span data-ttu-id="4ca08-425">외에 `itemPlaceholder`, `LayoutTemplate` (기본값) 페이지당 10 개만 방명록 주석을 표시 하는 ListView를 제한 하는 DataPager 컨트롤을 포함 하 고 페이징 인터페이스를 렌더링 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-425">In addition to the `itemPlaceholder`, the `LayoutTemplate` includes a DataPager control, which limits the ListView to showing just 10 guestbook comments per page (the default) and renders a paging interface.</span></span>

<span data-ttu-id="4ca08-426">내 `ItemTemplate` 에서 각 방명록 주석의 주체 표시는 `<h4>` 요소를 본문 제목 아래에 위치 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-426">My `ItemTemplate` displays each guestbook comment's subject in an `<h4>` element with the body situated below the subject.</span></span> <span data-ttu-id="4ca08-427">구문 본문을 표시 하는 데 사용 하 여 반환 되는 데이터를 `Eval("Body")` 데이터 바인딩 문을 문자열로 변환 하 고 사용 하 여 대체 줄 바꿈 합니다 `<br />` 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-427">Note that syntax used for displaying the body takes the data returned by the `Eval("Body")` databinding statement, converts it to a string, and replaces line breaks with the `<br />` element.</span></span> <span data-ttu-id="4ca08-428">이 변환은 입력 HTML 공백 무시 되므로 메모를 제출할 때 줄 바꿈을 표시 하기 위해 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-428">This conversion is needed in order to show the line breaks entered when submitting the comment since whitespace is ignored by HTML.</span></span> <span data-ttu-id="4ca08-429">사용자의 서명 뒤에 사용자의 홈 도시별으로 자신의 홈 페이지, 메모를 만든 날짜 및 시간과 주석을 남긴 사용자의 사용자 이름에 대 한 링크를 기울임꼴로 본문 아래에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-429">The user's signature is displayed beneath the body in italics, followed by the user's home town, a link to his homepage, the date and time the comment was made, and the username of the person who left the comment.</span></span>

<span data-ttu-id="4ca08-430">브라우저를 통해 페이지를 보려면 잠시 시간이 소요 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-430">Take a moment to view the page through a browser.</span></span> <span data-ttu-id="4ca08-431">여기에 표시 된 5 단계에서에서 방명록에 추가 하는 주석을 표시 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-431">You should see the comments that you added to the guestbook in Step 5 displayed here.</span></span>


[![G<span data-ttu-id="4ca08-432">uestbook.aspx는 방명록의 주석 표시]</span><span class="sxs-lookup"><span data-stu-id="4ca08-432">uestbook.aspx Now Displays the Guestbook's Comments]</span></span>(storing-additional-user-information-cs/_static/image56.png)](storing-additional-user-information-cs/_static/image55.png)

<span data-ttu-id="4ca08-433">**그림 19**: `Guestbook.aspx` 이제 방명록의 주석 표시 됩니다 ([클릭 하 여 큰 이미지 보기](storing-additional-user-information-cs/_static/image57.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-433">**Figure 19**: `Guestbook.aspx` Now Displays the Guestbook's Comments  ([Click to view full-size image](storing-additional-user-information-cs/_static/image57.png))</span></span>


<span data-ttu-id="4ca08-434">guestbook으로 새 메모를 추가 해 보세요.</span><span class="sxs-lookup"><span data-stu-id="4ca08-434">Try adding a new comment to the guestbook.</span></span> <span data-ttu-id="4ca08-435">클릭 하면는 `PostCommentButton` 단추 페이지 다시 게시 및 주석 데이터베이스에 추가 되지만 ListView 컨트롤 새 메모를 표시 하도록 업데이트 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-435">Upon clicking the `PostCommentButton` button the page posts back and the comment is added to the database, but the ListView control is not updated to show the new comment.</span></span> <span data-ttu-id="4ca08-436">이 통해 해결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-436">This can be fixed by either:</span></span>

- <span data-ttu-id="4ca08-437">업데이트를 `PostCommentButton` 단추의 `Click` 이벤트 처리기는 ListView 컨트롤의 호출 되므로 `DataBind()` 메서드를 데이터베이스에 새 메모를 삽입 한 후 또는</span><span class="sxs-lookup"><span data-stu-id="4ca08-437">Updating the `PostCommentButton` button's `Click` event handler so that it invokes the ListView control's `DataBind()` method after inserting the new comment into the database, or</span></span>
- <span data-ttu-id="4ca08-438">ListView 컨트롤의 설정 `EnableViewState` 속성을 `false`입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-438">Setting the ListView control's `EnableViewState` property to `false`.</span></span> <span data-ttu-id="4ca08-439">컨트롤의 뷰 상태를 해제 하 여이 다시 바인딩해야 포스트백이 발생할 때마다 기본 데이터에 없으므로이 접근 방식은 유용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-439">This approach works because by disabling the control's view state, it must rebind to the underlying data on every postback.</span></span>

<span data-ttu-id="4ca08-440">이 자습서에서 다운로드할 수 있는 자습서 웹 사이트에 두 가지 방법을 모두 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-440">The tutorial website downloadable from this tutorial illustrates both techniques.</span></span> <span data-ttu-id="4ca08-441">ListView 컨트롤의 `EnableViewState` 속성을 `false` 프로그래밍 방식으로 데이터를 ListView 다시 바인딩해야 하는 데 필요한 코드에 있는지를 `Click` 이벤트 처리기를 주석 처리 되어 있지만.</span><span class="sxs-lookup"><span data-stu-id="4ca08-441">The ListView control's `EnableViewState` property to `false` and the code needed to programmatically rebind the data to the ListView is present in the `Click` event handler, but is commented out.</span></span>

> [!NOTE]
> <span data-ttu-id="4ca08-442">현재는 `AdditionalUserInfo.aspx` 페이지 수 있도록 하려면 해당 홈 타운, 홈 페이지 및 서명을 설정 보기 및 편집 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-442">Currently the `AdditionalUserInfo.aspx` page allows the user to view and edit their home town, homepage, and signature settings.</span></span> <span data-ttu-id="4ca08-443">업데이트 좋을 것 `AdditionalUserInfo.aspx` 표시할 로그온 된 사용자의 방명록 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-443">It might be nice to update `AdditionalUserInfo.aspx` to display the logged in user's guestbook comments.</span></span> <span data-ttu-id="4ca08-444">즉, 검사 하 고 자신의 정보를 수정 하는 것 외에도 사용자 방문할 수는 `AdditionalUserInfo.aspx` 페이지를 이전에 이루어집니다 그녀는 방명록 주석을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="4ca08-444">That is, in addition to examining and modifying her information, a user can visit the `AdditionalUserInfo.aspx` page to see what guestbook comments she's made in the past.</span></span> <span data-ttu-id="4ca08-445">I 관심이 있는 독자를 연습으로 둡니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-445">I leave this as an exercise for the interested reader.</span></span>


## <a name="step-6-customizing-the-createuserwizard-control-to-include-an-interface-for-the-home-town-homepage-and-signature"></a><span data-ttu-id="4ca08-446">6단계: 홈 타운, 홈 페이지 및 서명을 위한 인터페이스를 포함 하도록 CreateUserWizard 컨트롤 사용자 지정</span><span class="sxs-lookup"><span data-stu-id="4ca08-446">Step 6: Customizing the CreateUserWizard Control to Include an Interface for the Home Town, Homepage, and Signature</span></span>

<span data-ttu-id="4ca08-447">`SELECT` 사용 하는 쿼리를 `Guestbook.aspx` 사용 하 여 페이지를 `INNER JOIN` 간에 관련된 레코드를 결합 하는 `GuestbookComments`를 `UserProfiles`, 및 `aspnet_Users` 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-447">The `SELECT` query used by the `Guestbook.aspx` page uses an `INNER JOIN` to combine the related records amongst the `GuestbookComments`, `UserProfiles`, and `aspnet_Users` tables.</span></span> <span data-ttu-id="4ca08-448">사용자가 없는 레코드에 있는 `UserProfiles` 방명록 하면 주석, 주석 때문에 ListView에 표시 되지 않습니다는 `INNER JOIN` 만 반환 `GuestbookComments` 일치 하는 레코드의 경우 레코드 `UserProfiles` 및 `aspnet_Users`.</span><span class="sxs-lookup"><span data-stu-id="4ca08-448">If a user that has no record in `UserProfiles` makes a guestbook comment, the comment won't be displayed in the ListView because the `INNER JOIN` only returns `GuestbookComments` records when there are matching records in `UserProfiles` and `aspnet_Users`.</span></span> <span data-ttu-id="4ca08-449">및 사용자 레코드가 없는 경우 3 단계에서에서 설명한 것 처럼 `UserProfiles` 보거나에 게 설정을 편집할 수 없는 그녀는 `AdditionalUserInfo.aspx` 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-449">And as we saw in Step 3, if a user does not have a record in `UserProfiles` she cannot view or edit her settings in the `AdditionalUserInfo.aspx` page.</span></span>

<span data-ttu-id="4ca08-450">물론 디자인으로 인해 일치 하는 모든 사용자 계정이 멤버 자격 시스템에 있는 것으로 결정에 기록 된 `UserProfiles` 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-450">Needless to say, due to our design decisions it is important that every user account in the Membership system have a matching record in the `UserProfiles` table.</span></span> <span data-ttu-id="4ca08-451">해당 레코드를 추가할 수는 원하는 `UserProfiles` 새 멤버 자격 사용자 계정이 CreateUserWizard 통해 때마다 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-451">What we want is for a corresponding record to be added to `UserProfiles` whenever a new Membership user account is created through the CreateUserWizard.</span></span>

<span data-ttu-id="4ca08-452">에 설명 된 대로 합니다 [ *사용자 계정 만들기* ](creating-user-accounts-cs.md) 자습서에서는 새 멤버 자격 사용자 계정이 CreateUserWizard 컨트롤 만들어지면 발생 해당 [ `CreatedUser` 이벤트](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.createduser.aspx).</span><span class="sxs-lookup"><span data-stu-id="4ca08-452">As discussed in the [*Creating User Accounts*](creating-user-accounts-cs.md) tutorial, after the new Membership user account is created the CreateUserWizard control raises its [`CreatedUser` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.createduser.aspx).</span></span> <span data-ttu-id="4ca08-453">수이 이벤트에 대 한 이벤트 처리기를 만듭니다, 방금 만든 사용자에 대 한 사용자 Id를 가져오기 하 고 다음에 레코드를 삽입 합니다 `UserProfiles` 테이블에 대 한 기본값을 사용 하 여는 `HomeTown`, `HomepageUrl`, 및 `Signature` 열입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-453">We can create an event handler for this event, get the UserId for the just-created user, and then insert a record into the `UserProfiles` table with default values for the `HomeTown`, `HomepageUrl`, and `Signature` columns.</span></span> <span data-ttu-id="4ca08-454">게다가를 CreateUserWizard 컨트롤의 추가 텍스트를 포함 하는 인터페이스를 사용자 지정 하 여 이러한 값에 대 한 사용자에 게는 것이 가능 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-454">What's more, it is possible to prompt the user for these values by customizing the CreateUserWizard control's interface to include additional TextBoxes.</span></span>

<span data-ttu-id="4ca08-455">새 행을 추가 하는 방법부터 알아보겠습니다 합니다 `UserProfiles` 테이블에 `CreatedUser` 기본값을 사용 하 여 이벤트 처리기입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-455">Let's first look at how to add a new row to the `UserProfiles` table in the `CreatedUser` event handler with default values.</span></span> <span data-ttu-id="4ca08-456">그런 다음, 새 사용자의 홈 타운, 홈 페이지 및 서명 수집 하도록 추가 양식 필드를 포함 하도록 CreateUserWizard 컨트롤의 사용자 인터페이스 사용자 지정 하는 방법을 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-456">Following that, we will see how to customize the CreateUserWizard control's user interface to include additional form fields to collect the new user's home town, homepage, and signature.</span></span>

### <a name="adding-a-default-row-touserprofiles"></a><span data-ttu-id="4ca08-457">기본 행을 추가합니다.`UserProfiles`</span><span class="sxs-lookup"><span data-stu-id="4ca08-457">Adding a Default Row to`UserProfiles`</span></span>

<span data-ttu-id="4ca08-458">에 [ *사용자 계정 만들기* ](creating-user-accounts-cs.md) CreateUserWizard 컨트롤을 추가 했습니다 하는 자습서는 `CreatingUserAccounts.aspx` 페이지에서 `Membership` 폴더.</span><span class="sxs-lookup"><span data-stu-id="4ca08-458">In the [*Creating User Accounts*](creating-user-accounts-cs.md) tutorial we added a CreateUserWizard control to the `CreatingUserAccounts.aspx` page in the `Membership` folder.</span></span> <span data-ttu-id="4ca08-459">컨트롤의 레코드를 추가 하려면 CreateUserWizard `UserProfiles` 테이블 사용자 계정 생성 시 CreateUserWizard 컨트롤의 기능을 업데이트 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-459">In order to have the CreateUserWizard control add a record to `UserProfiles` table upon user account creation, we need to update the CreateUserWizard control's functionality.</span></span> <span data-ttu-id="4ca08-460">변경 내용을이 적용 하는 것 보다는 `CreatingUserAccounts.aspx` 페이지에서 새 CreateUserWizard 컨트롤을 대신 추가 `EnhancedCreateUserWizard.aspx` 페이지 및이 자습서에서는 수정 작업을 수행할 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-460">Rather than making these changes to the `CreatingUserAccounts.aspx` page, let's instead add a new CreateUserWizard control to `EnhancedCreateUserWizard.aspx` page and make the modifications for this tutorial there.</span></span>

<span data-ttu-id="4ca08-461">열기는 `EnhancedCreateUserWizard.aspx` Visual Studio에서 페이지 및 페이지 도구 상자에서 CreateUserWizard 컨트롤을 끌어 옵니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-461">Open the `EnhancedCreateUserWizard.aspx` page in Visual Studio and drag a CreateUserWizard control from the Toolbox onto the page.</span></span> <span data-ttu-id="4ca08-462">CreateUserWizard 컨트롤의 `ID` 속성을 `NewUserWizard`입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-462">Set the CreateUserWizard control's `ID` property to `NewUserWizard`.</span></span> <span data-ttu-id="4ca08-463">설명한 대로 합니다 <a id="_msoanchor_5"> </a> [ *사용자 계정 만들기* ](creating-user-accounts-cs.md) 자습서, CreateUserWizard의 기본 사용자 인터페이스에서 라는 메시지를 표시 하는 데 필요한 정보에 대 한 방문자입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-463">As we discussed in the <a id="_msoanchor_5"></a>[*Creating User Accounts*](creating-user-accounts-cs.md) tutorial, the CreateUserWizard's default user interface prompts the visitor for the necessary information.</span></span> <span data-ttu-id="4ca08-464">이 정보를 제공한 후 컨트롤 내부적으로 새 사용자 계정을 만듭니다 멤버 자격 프레임 워크에 코드 한 줄도 작성할 필요 없이 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-464">Once this information has been supplied, the control internally creates a new user account in the Membership framework, all without us having to write a single line of code.</span></span>

<span data-ttu-id="4ca08-465">CreateUserWizard 컨트롤 해당 워크플로 중에 다양을 한 이벤트를 발생 시킵니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-465">The CreateUserWizard control raises a number of events during its workflow.</span></span> <span data-ttu-id="4ca08-466">CreateUserWizard 컨트롤 처음 발생 방문자가 양식을 전송 요청 정보를 제공 하 고 해당 [ `CreatingUser` 이벤트](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.creatinguser.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-466">After a visitor supplies the request information and submits the form, the CreateUserWizard control initially fires its [`CreatingUser` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.creatinguser.aspx).</span></span> <span data-ttu-id="4ca08-467">하지만 만들기 프로세스 중에 문제가 있으면를 [ `CreateUserError` 이벤트](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.createusererror.aspx) 이벤트가 발생 이면 사용자가 성공적으로 만들어지면 해당 [ `CreatedUser` 이벤트](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.createduser.aspx) 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-467">If there is a problem during the create process, the [`CreateUserError` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.createusererror.aspx) is fired; however, if the user is successfully created, then the [`CreatedUser` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.createduser.aspx) is raised.</span></span> <span data-ttu-id="4ca08-468">에 <a id="_msoanchor_6"> </a> [ *사용자 계정 만들기* ](creating-user-accounts-cs.md) 자습서에 대 한 이벤트 처리기를 만들었습니다는 `CreatingUser` 제공된 된 사용자 이름과 선행은 포함 되지 않은 이벤트 또는 후행 공백 및는 사용자 이름에에서 표시 되지 않았습니다 어디서 나 암호입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-468">In the <a id="_msoanchor_6"></a>[*Creating User Accounts*](creating-user-accounts-cs.md) tutorial we created an event handler for the `CreatingUser` event to ensure that the supplied username did not contain any leading or trailing spaces, and that the username did not appear anywhere in the password.</span></span>

<span data-ttu-id="4ca08-469">행을 추가 하려면 합니다 `UserProfiles` 테이블 방금 만든 사용자에 대 한 이벤트 처리기를 생성 해야 합니다 `CreatedUser` 이벤트입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-469">In order to add a row in the `UserProfiles` table for the just-created user, we need to create an event handler for the `CreatedUser` event.</span></span> <span data-ttu-id="4ca08-470">시간을 `CreatedUser` 이벤트가 발생 한, 계정의 사용자 Id 값을 검색 하기를 사용 하도록 설정 하는 멤버 자격 프레임 워크에 사용자 계정이 이미 만들어져 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-470">By the time the `CreatedUser` event has fired, the user account has already been created in the Membership framework, enabling us to retrieve the account's UserId value.</span></span>

<span data-ttu-id="4ca08-471">이벤트 처리기를 만듭니다는 `NewUserWizard`의 `CreatedUser` 이벤트 다음 코드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-471">Create an event handler for the `NewUserWizard`'s `CreatedUser` event and add the following code:</span></span>

[!code-csharp[Main](storing-additional-user-information-cs/samples/sample11.cs)]

<span data-ttu-id="4ca08-472">방금 추가 된 사용자 계정의 사용자 Id를 검색 하 여 위의 코드 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-472">The above code beings by retrieving the UserId of the just-added user account.</span></span> <span data-ttu-id="4ca08-473">사용 하 여 이렇게 합니다 `Membership.GetUser(username)` 특정 사용자를 사용 하 여 다음 정보를 반환 하는 방법은 `ProviderUserKey` 해당 사용자 Id를 검색할 속성.</span><span class="sxs-lookup"><span data-stu-id="4ca08-473">This is accomplished by using the `Membership.GetUser(username)` method to return information about a particular user, and then using the `ProviderUserKey` property to retrieve their UserId.</span></span> <span data-ttu-id="4ca08-474">CreateUserWizard 컨트롤에서 사용자가 입력 한 사용자 이름은 통해 사용할 수 있는 해당 [ `UserName` 속성](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.username.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-474">The username entered by the user in the CreateUserWizard control is available via its [`UserName` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.username.aspx).</span></span>

<span data-ttu-id="4ca08-475">연결 문자열에서 검색 되는 어 `Web.config` 및 `INSERT` 문을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-475">Next, the connection string is retrieved from `Web.config` and the `INSERT` statement is specified.</span></span> <span data-ttu-id="4ca08-476">필요한 ADO.NET 개체를 인스턴스화하고 명령을 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-476">The necessary ADO.NET objects are instantiated and the command executed.</span></span> <span data-ttu-id="4ca08-477">코드에서 할당을 [ `DBNull` ](https://msdn.microsoft.com/library/system.dbnull.aspx) 인스턴스를 `@HomeTown`, `@HomepageUrl`, 및 `@Signature` 효과가 데이터베이스에 삽입 하는 매개 변수 `NULL` 에 대 한 값을 `HomeTown`, `HomepageUrl`, 및 `Signature` 필드입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-477">The code assigns a [`DBNull`](https://msdn.microsoft.com/library/system.dbnull.aspx) instance to the `@HomeTown`, `@HomepageUrl`, and `@Signature` parameters, which has the effect of inserting database `NULL` values for the `HomeTown`, `HomepageUrl`, and `Signature` fields.</span></span>

<span data-ttu-id="4ca08-478">방문을 `EnhancedCreateUserWizard.aspx` 브라우저를 통해 페이지 및 새 사용자 계정을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-478">Visit the `EnhancedCreateUserWizard.aspx` page through a browser and create a new user account.</span></span> <span data-ttu-id="4ca08-479">이렇게 한 다음, Visual Studio로 돌아가서 및의 내용을 검사 합니다 `aspnet_Users` 및 `UserProfiles` 테이블 (예: 다시에 수행한 그림 12).</span><span class="sxs-lookup"><span data-stu-id="4ca08-479">After doing so, return to Visual Studio and examine the contents of the `aspnet_Users` and `UserProfiles` tables (like we did back in Figure 12).</span></span> <span data-ttu-id="4ca08-480">새 사용자 계정에 표시 되어야 `aspnet_Users` 및 해당 `UserProfiles` 행 (사용 하 여 `NULL` 에 대 한 값 `HomeTown`에 `HomepageUrl`, 및 `Signature`).</span><span class="sxs-lookup"><span data-stu-id="4ca08-480">You should see the new user account in `aspnet_Users` and a corresponding `UserProfiles` row (with `NULL` values for `HomeTown`, `HomepageUrl`, and `Signature`).</span></span>


[![A <span data-ttu-id="4ca08-481">새 사용자 계정 및 UserProfiles 레코드를 추가한]</span><span class="sxs-lookup"><span data-stu-id="4ca08-481">New User Account and UserProfiles Record Have Been Added]</span></span>(storing-additional-user-information-cs/_static/image59.png)](storing-additional-user-information-cs/_static/image58.png)

<span data-ttu-id="4ca08-482">**그림 20**: 새 사용자 계정 및 `UserProfiles` 레코드가 추가 되었습니다 ([큰 이미지를 보려면 클릭](storing-additional-user-information-cs/_static/image60.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-482">**Figure 20**: A New User Account and `UserProfiles` Record Have Been Added  ([Click to view full-size image](storing-additional-user-information-cs/_static/image60.png))</span></span>


<span data-ttu-id="4ca08-483">사용자 계정 생성 되 고 행이 추가 방문자에 자신의 새 계정 정보를 제공 하 고 "Create User" 단추를 클릭 한 후의 `UserProfiles` 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-483">After the visitor has supplied his new account information and clicked the "Create User" button, the user account is created and a row added to the `UserProfiles` table.</span></span> <span data-ttu-id="4ca08-484">CreateUserWizard을 표시 합니다. 해당 `CompleteWizardStep`, 계속 단추 성공 메시지를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-484">The CreateUserWizard then displays its `CompleteWizardStep`, which displays a success message and a Continue button.</span></span> <span data-ttu-id="4ca08-485">포스트백을 계속 단추를 클릭 하면 아무 작업도 수행 하지만 중단 사용자는 `EnhancedCreateUserWizard.aspx` 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-485">Clicking the Continue button causes a postback, but no action is taken, leaving the user stuck on the `EnhancedCreateUserWizard.aspx` page.</span></span>

<span data-ttu-id="4ca08-486">CreateUserWizard 컨트롤을 통해 계속 단추를 클릭 하는 경우에 사용자를 보낼 URL을 지정할 수 있습니다 [ `ContinueDestinationPageUrl` 속성](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.continuedestinationpageurl.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-486">We can specify a URL to send the user to when the Continue button is clicked via the CreateUserWizard control's [`ContinueDestinationPageUrl` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.continuedestinationpageurl.aspx).</span></span> <span data-ttu-id="4ca08-487">설정 된 `ContinueDestinationPageUrl` 속성을 "~ / Membership/AdditionalUserInfo.aspx"입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-487">Set the `ContinueDestinationPageUrl` property to "~/Membership/AdditionalUserInfo.aspx".</span></span> <span data-ttu-id="4ca08-488">새 사용자를 이렇게 `AdditionalUserInfo.aspx`, 여기서 확인 하 고 해당 설정을 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-488">This takes the new user to `AdditionalUserInfo.aspx`, where they can view and update their settings.</span></span>

### <a name="customizing-the-createuserwizards-interface-to-prompt-for-the-new-users-home-town-homepage-and-signature"></a><span data-ttu-id="4ca08-489">새 사용자의 홈 타운, 홈 페이지 및 서명 확인에 대 한 CreateUserWizard의 인터페이스를 사용자 지정</span><span class="sxs-lookup"><span data-stu-id="4ca08-489">Customizing the CreateUserWizard's Interface to Prompt for the New User's Home Town, Homepage, and Signature</span></span>

<span data-ttu-id="4ca08-490">CreateUserWizard 컨트롤의 기본 인터페이스와 같은 사용자 이름, 암호 및 전자 메일만 core 사용자 계정 정보 필요 수집할 단순 계정 만들기 시나리오에 충분 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-490">The CreateUserWizard control's default interface is sufficient for simple account creation scenarios where only core user account information like username, password, and email need be collected.</span></span> <span data-ttu-id="4ca08-491">그러나 방문자 자신의 계정을 만드는 동안 자신의 홈 타운, 홈 페이지 및 서명을 입력 하 라는 메시지가 표시 하려는 경우에 어떻게?</span><span class="sxs-lookup"><span data-stu-id="4ca08-491">But what if we wanted to prompt the visitor to enter her home town, homepage, and signature while creating her account?</span></span> <span data-ttu-id="4ca08-492">등록에서 추가 정보를 수집 하려면 CreateUserWizard 컨트롤의 인터페이스를 사용자 지정할 수 있으며이 정보는에서 사용할 수는 `CreatedUser` 이벤트 처리기를 기본 데이터베이스에 추가 레코드를 삽입 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-492">It is possible to customize the CreateUserWizard control's interface to collect additional information at signup, and this information may be used in the `CreatedUser` event handler to insert additional records into the underlying database.</span></span>

<span data-ttu-id="4ca08-493">CreateUserWizard 컨트롤 확장 페이지 개발자는 일련의 정렬 된 정의를 허용 하는 컨트롤은 ASP.NET 마법사 컨트롤 `WizardSteps`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-493">The CreateUserWizard control extends the ASP.NET Wizard control, which is a control that allows a page developer to define a series of ordered `WizardSteps`.</span></span> <span data-ttu-id="4ca08-494">활성 단계를 렌더링 하 고이 단계를 통해 이동할 방문자를 허용 하는 탐색 인터페이스를 제공 하는 마법사 컨트롤입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-494">The Wizard control renders the active step and provides a navigation interface that allows the visitor to move through these steps.</span></span> <span data-ttu-id="4ca08-495">마법사 컨트롤 긴 작업을 몇 가지 간단한 단계에 적합 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-495">The Wizard control is ideal for breaking down a long task into several short steps.</span></span> <span data-ttu-id="4ca08-496">마법사 컨트롤에 대 한 자세한 내용은 참조 하세요. [ASP.NET 2.0 Wizard 컨트롤을 사용한 단계별 사용자 인터페이스 만들기](http://aspnet.4guysfromrolla.com/articles/061406-1.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-496">For more information on the Wizard control, see [Creating a Step-by-Step User Interface with the ASP.NET 2.0 Wizard Control](http://aspnet.4guysfromrolla.com/articles/061406-1.aspx).</span></span>

<span data-ttu-id="4ca08-497">CreateUserWizard 컨트롤의 기본 태그 정의 두 `WizardSteps`: `CreateUserWizardStep` 고 `CompleteWizardStep`입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-497">The CreateUserWizard control's default markup defines two `WizardSteps`: `CreateUserWizardStep` and `CompleteWizardStep`.</span></span>

[!code-aspx[Main](storing-additional-user-information-cs/samples/sample12.aspx)]

<span data-ttu-id="4ca08-498">첫 번째 `WizardStep`, `CreateUserWizardStep`, 사용자 이름, 암호, 전자 메일을 요구 하는 인터페이스를 렌더링 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-498">The first `WizardStep`, `CreateUserWizardStep`, renders the interface that prompts for the username, password, email, and so on.</span></span> <span data-ttu-id="4ca08-499">그녀는 표시 된 방문자가이 정보를 제공 하 고 "Create User"를 클릭 한 후의 `CompleteWizardStep`, 성공 메시지와 계속 단추를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-499">After the visitor supplies this information and clicks "Create User", she is shown the `CompleteWizardStep`, which shows the success message and a Continue button.</span></span>

<span data-ttu-id="4ca08-500">CreateUserWizard 컨트롤의 추가 양식 필드를 포함 하는 인터페이스를 사용자 지정 하려면 다음과 같은 것을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-500">To customize the CreateUserWizard control's interface to include additional form fields, we can:</span></span>

- <span data-ttu-id="4ca08-501"><strong>하나 이상의 새로 만들기</strong><strong>`WizardStep`</strong><strong>추가 사용자 인터페이스 요소를 포함 하는 s</strong>입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-501"><strong>Create one or more new</strong><strong>`WizardStep`</strong><strong>s to contain the additional user interface elements</strong>.</span></span> <span data-ttu-id="4ca08-502">새 추가 하려면 `WizardStep` CreateUserWizard, 클릭는 "추가/제거 `WizardSteps`" 시작 하려면 스마트 태그의 링크를 `WizardStep` 컬렉션 편집기.</span><span class="sxs-lookup"><span data-stu-id="4ca08-502">To add a new `WizardStep` to the CreateUserWizard, click the "Add/Remove `WizardSteps`" link from its Smart Tag to launch the `WizardStep` Collection Editor.</span></span> <span data-ttu-id="4ca08-503">여기에서 추가, 제거 또는 마법사의 단계를 다시 정렬할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-503">From there you can add, remove, or reorder the steps in the wizard.</span></span> <span data-ttu-id="4ca08-504">이 방법이이 자습서에 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-504">This is the approach we will use for this tutorial.</span></span>

- <span data-ttu-id="4ca08-505"><strong>변환 된</strong><strong>`CreateUserWizardStep`</strong><strong>에 편집 가능한</strong><strong>`WizardStep`</strong><strong>합니다.</strong></span><span class="sxs-lookup"><span data-stu-id="4ca08-505"><strong>Convert the</strong><strong>`CreateUserWizardStep`</strong><strong>into an editable</strong><strong>`WizardStep`</strong><strong>.</strong></span></span> <span data-ttu-id="4ca08-506">이 대체 합니다 `CreateUserWizardStep` 가 동일한 `WizardStep` 해당 태그와 일치 하는 사용자 인터페이스를 정의 합니다 `CreateUserWizardStep`' s.</span><span class="sxs-lookup"><span data-stu-id="4ca08-506">This replaces the `CreateUserWizardStep` with an equivalent `WizardStep` whose markup defines a user interface that matches the `CreateUserWizardStep`'s.</span></span> <span data-ttu-id="4ca08-507">변환 하 여 합니다 `CreateUserWizardStep` 에 `WizardStep` 컨트롤의 위치 또는이 단계에 추가 사용자 인터페이스 요소를 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-507">By converting the `CreateUserWizardStep` into a `WizardStep` we can reposition the controls or add additional user interface elements to this step.</span></span> <span data-ttu-id="4ca08-508">변환할 합니다 `CreateUserWizardStep` 또는 `CompleteWizardStep` 에 편집 가능한 `WizardStep`는 "사용자 지정 만들기 사용자 단계"를 클릭 하거나 컨트롤의 스마트 태그에서 "사용자 지정 완료 단계"의 링크입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-508">To convert the `CreateUserWizardStep` or `CompleteWizardStep` into an editable `WizardStep`, click the "Customize Create User Step" or "Customize Complete Step" link from the control's Smart Tag.</span></span>

- **<span data-ttu-id="4ca08-509">위의 두 옵션 중 몇 가지 조합을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-509">Use some combination of the above two options.</span></span>**

<span data-ttu-id="4ca08-510">기억해 야 할 중요 한 사항은 내에서 "Create User" 단추를 클릭할 때 CreateUserWizard 컨트롤의 사용자 계정 만들기 프로세스를 실행 하는 해당 `CreateUserWizardStep`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-510">One important thing to keep in mind is that the CreateUserWizard control executes its user account creation process when the "Create User" button is clicked from within its `CreateUserWizardStep`.</span></span> <span data-ttu-id="4ca08-511">여부는 중요 하지 않는 추가적인 `WizardStep` 후 s는 `CreateUserWizardStep` 여부입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-511">It doesn't matter if there are additional `WizardStep` s after the `CreateUserWizardStep` or not.</span></span>

<span data-ttu-id="4ca08-512">사용자 지정을 추가 하는 경우 `WizardStep` CreateUserWizard 컨트롤 사용자 지정의 추가 사용자 입력 수집 `WizardStep` 전이나 후에 배치할 수 있습니다는 `CreateUserWizardStep`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-512">When adding a custom `WizardStep` to the CreateUserWizard control to collect additional user input, the custom `WizardStep` can be placed before or after the `CreateUserWizardStep`.</span></span> <span data-ttu-id="4ca08-513">앞에 배치 되는 경우는 `CreateUserWizardStep` 사용자 지정에서 추가 사용자 입력을 수집 하는 다음 `WizardStep` 수는 `CreatedUser` 이벤트 처리기입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-513">If it comes before the `CreateUserWizardStep` then the additional user input collected from the custom `WizardStep` is available for the `CreatedUser` event handler.</span></span> <span data-ttu-id="4ca08-514">그러나 경우 사용자 지정 `WizardStep` 뒤에 오는 `CreateUserWizardStep` 시간을 기준으로 다음 사용자 지정 `WizardStep` 표시 됩니다 새 사용자 계정을 이미 만든 및 `CreatedUser` 이벤트가 이미 발생 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-514">However, if the custom `WizardStep` comes after `CreateUserWizardStep` then by the time the custom `WizardStep` is displayed the new user account has already been created and the `CreatedUser` event has already fired.</span></span>

<span data-ttu-id="4ca08-515">그림 21 워크플로 보여 줍니다. 때 추가한 `WizardStep` 앞에 `CreateUserWizardStep`.</span><span class="sxs-lookup"><span data-stu-id="4ca08-515">Figure 21 shows the workflow when the added `WizardStep` precedes the `CreateUserWizardStep`.</span></span> <span data-ttu-id="4ca08-516">추가 사용자 정보에 의해 수집 된 이후 합니다 `CreatedUser` 는 업데이트 작업을 수행 해야 하는 모든 이벤트가 발생 합니다 `CreatedUser` 이러한 입력을 가져와 사용에 대 한 이벤트 처리기는 `INSERT` 문의 매개 변수 값 (대신 `DBNull.Value`).</span><span class="sxs-lookup"><span data-stu-id="4ca08-516">Since the additional user information has been collected by the time the `CreatedUser` event fires, all we have to do is update the `CreatedUser` event handler to retrieve these inputs and use those for the `INSERT` statement's parameter values (rather than `DBNull.Value`).</span></span>


[![T<span data-ttu-id="4ca08-517">그는 추가 WizardStep는 CreateUserWizardStep 앞에 오는 경우 CreateUserWizard 워크플로]</span><span class="sxs-lookup"><span data-stu-id="4ca08-517">he CreateUserWizard Workflow When an Additional WizardStep Precedes the CreateUserWizardStep]</span></span>(storing-additional-user-information-cs/_static/image62.png)](storing-additional-user-information-cs/_static/image61.png)

<span data-ttu-id="4ca08-518">**그림 21**: CreateUserWizard 워크플로 때는 추가적인 `WizardStep` Precedes 합니다 `CreateUserWizardStep` ([클릭 하 여 큰 이미지 보기](storing-additional-user-information-cs/_static/image63.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-518">**Figure 21**: The CreateUserWizard Workflow When an Additional `WizardStep` Precedes the `CreateUserWizardStep` ([Click to view full-size image](storing-additional-user-information-cs/_static/image63.png))</span></span>


<span data-ttu-id="4ca08-519">그러나 하는 경우 사용자 지정 `WizardStep` 놓입니다 *후* 는 `CreateUserWizardStep`, 만들기 사용자 계정 프로세스를 사용자에 게 홈 타운, 홈 페이지 또는 서명 입력할 수 전에 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-519">If the custom `WizardStep` is placed *after* the `CreateUserWizardStep`, however, the create user account process occurs before the user has had a chance to enter her home town, homepage, or signature.</span></span> <span data-ttu-id="4ca08-520">이러한 경우에이 추가 정보를 삽입할 데이터베이스 사용자 계정을 만든 후에, 그림 22와 같이 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-520">In such a case, this additional information needs to be inserted into the database after the user account has been created, as Figure 22 illustrates.</span></span>


[![T<span data-ttu-id="4ca08-521">그 CreateUserWizard 워크플로 때는 추가 WizardStep 제공 후 the CreateUserWizardStep]</span><span class="sxs-lookup"><span data-stu-id="4ca08-521">he CreateUserWizard Workflow When an Additional WizardStep Comes After the CreateUserWizardStep]</span></span>(storing-additional-user-information-cs/_static/image65.png)](storing-additional-user-information-cs/_static/image64.png)

<span data-ttu-id="4ca08-522">**그림 22**: CreateUserWizard 워크플로 때는 추가적인 `WizardStep` 후 제공 되는 `CreateUserWizardStep` ([전체 크기 이미지를 보려면 클릭](storing-additional-user-information-cs/_static/image66.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-522">**Figure 22**: The CreateUserWizard Workflow When an Additional `WizardStep` Comes After the `CreateUserWizardStep` ([Click to view full-size image](storing-additional-user-information-cs/_static/image66.png))</span></span>


<span data-ttu-id="4ca08-523">그림 22와 같이 워크플로 대기에 레코드를 삽입 하 여 `UserProfiles` 2 단계 완료 될 때까지 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-523">The workflow shown in Figure 22 waits to insert a record into the `UserProfiles` table until after Step 2 completes.</span></span> <span data-ttu-id="4ca08-524">그러나 방문자는 1 단계 후 브라우저를 닫으면,는 제품이 출시 되었으므로 여기서 사용자 계정이 생성 되었지만 없는 레코드에 추가 된 상태 `UserProfiles`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-524">If the visitor closes her browser after step 1, however, we will have reached a state where a user account was created, but no record was added to `UserProfiles`.</span></span> <span data-ttu-id="4ca08-525">한 가지 해결 방법은 사용 하 여 레코드를 포함 하는 것 `NULL` 기본값을 삽입 하거나 `UserProfiles` 에 `CreatedUser` (발생 하는 1 단계 후) 이벤트 처리기 및 2 단계를 완료 한 후 기록이 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-525">One workaround is to have a record with `NULL` or default values inserted into `UserProfiles` in the `CreatedUser` event handler (which fires after step 1), and then update this record after step 2 completes.</span></span> <span data-ttu-id="4ca08-526">이렇게 하면 한 `UserProfiles` 사용자 등록 프로세스가 중간에 종료 하는 경우에 사용자 계정에 대 한 레코드가 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-526">This ensures that a `UserProfiles` record will be added for the user account even if the user quits the registration process midway through.</span></span>

<span data-ttu-id="4ca08-527">이 자습서에 대 한 만들겠습니다 새 `WizardStep` 후에 발생 하는 합니다 `CreateUserWizardStep` 하기 전에 `CompleteWizardStep`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-527">For this tutorial let's create a new `WizardStep` that occurs after the `CreateUserWizardStep` but before the `CompleteWizardStep`.</span></span> <span data-ttu-id="4ca08-528">첫 번째 get에서 WizardStep 배치 하 고 구성 하 고에서는 살펴보겠습니다 코드.</span><span class="sxs-lookup"><span data-stu-id="4ca08-528">Let's first get the WizardStep in place and configured and then we'll look at the code.</span></span>

<span data-ttu-id="4ca08-529">CreateUserWizard 컨트롤의 스마트 태그를 선택 합니다 "추가/제거 `WizardStep` s"를 불러는 `WizardStep` 컬렉션 편집기 대화 상자.</span><span class="sxs-lookup"><span data-stu-id="4ca08-529">From the CreateUserWizard control's Smart Tag, select the "Add/Remove `WizardStep` s", which brings up the `WizardStep` Collection Editor dialog.</span></span> <span data-ttu-id="4ca08-530">새 `WizardStep`설정, 해당 `ID` 를 `UserSettings`, 해당 `Title` "설정" 하 고 `StepType` 를 `Step`.</span><span class="sxs-lookup"><span data-stu-id="4ca08-530">Add a new `WizardStep`, setting its `ID` to `UserSettings`, its `Title` to "Your Settings" and its `StepType` to `Step`.</span></span> <span data-ttu-id="4ca08-531">다음에 오는 다음 위치를 `CreateUserWizardStep` ("등록 새 계정에 대 한") 하기 전에 `CompleteWizardStep` ("완료"), 그림 23 에서처럼 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-531">Then position it so that it comes after the `CreateUserWizardStep` ("Sign Up for Your New Account") and before the `CompleteWizardStep` ("Complete"), as shown in Figure 23.</span></span>


[![A<span data-ttu-id="4ca08-532">CreateUserWizard 컨트롤에 새 WizardStep dd]</span><span class="sxs-lookup"><span data-stu-id="4ca08-532">dd a New WizardStep to the CreateUserWizard Control]</span></span>(storing-additional-user-information-cs/_static/image68.png)](storing-additional-user-information-cs/_static/image67.png)

<span data-ttu-id="4ca08-533">**그림 23**: 새 추가 `WizardStep` CreateUserWizard 컨트롤 ([큰 이미지를 보려면 클릭](storing-additional-user-information-cs/_static/image69.png))</span><span class="sxs-lookup"><span data-stu-id="4ca08-533">**Figure 23**: Add a New `WizardStep` to the CreateUserWizard Control  ([Click to view full-size image](storing-additional-user-information-cs/_static/image69.png))</span></span>


<span data-ttu-id="4ca08-534">확인을 눌러 닫습니다는 `WizardStep` 컬렉션 편집기 대화 상자.</span><span class="sxs-lookup"><span data-stu-id="4ca08-534">Click OK to close the `WizardStep` Collection Editor dialog.</span></span> <span data-ttu-id="4ca08-535">새 `WizardStep` CreateUserWizard 컨트롤의 업데이트 된 선언적 태그 된 수치로 증명 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-535">The new `WizardStep` is evidenced by the CreateUserWizard control's updated declarative markup:</span></span>

[!code-aspx[Main](storing-additional-user-information-cs/samples/sample13.aspx)]

<span data-ttu-id="4ca08-536">새 확인 `<asp:WizardStep>` 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-536">Note the new `<asp:WizardStep>` element.</span></span> <span data-ttu-id="4ca08-537">새 사용자의 홈 타운, 홈 페이지 및 여기에 서명을 수집 하는 사용자 인터페이스를 추가 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-537">We need to add the user interface to collect the new user's home town, homepage, and signature here.</span></span> <span data-ttu-id="4ca08-538">선언적 구문 또는 디자이너를 통해이 콘텐츠를 입력할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-538">You can enter this content in the declarative syntax or through the Designer.</span></span> <span data-ttu-id="4ca08-539">디자이너를 사용 하려면 디자이너의 단계를 참조 하도록 스마트 태그에서 드롭 다운 목록에서 "설정" 단계를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-539">To use the Designer, select the "Your Settings" step from the drop-down list in the Smart Tag to see the step in the Designer.</span></span>

> [!NOTE]
> <span data-ttu-id="4ca08-540">CreateUserWizard 컨트롤의 스마트 태그의 드롭다운 목록을 통해 단계를 선택 하면 업데이트 [ `ActiveStepIndex` 속성](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.activestepindex.aspx), 시작 단계 인덱스를 지정 하는 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-540">Selecting a step through the Smart Tag's drop-down list updates the CreateUserWizard control's [`ActiveStepIndex` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.activestepindex.aspx), which specifies the index of the starting step.</span></span> <span data-ttu-id="4ca08-541">따라서 디자이너에서 "설정" 단계를 편집 하려면이 드롭다운 목록에서를 사용 하는 경우 반드시 사용자가 처음 방문 하는 경우이 단계에 표시 되도록 "Sign Up for 새 계정"으로 설정 하 여 `EnhancedCreateUserWizard.aspx` 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-541">Therefore, if you use this drop-down list to edit the "Your Settings" step in the Designer, be sure to set it back to "Sign Up for Your New Account" so that this step is shown when users first visit the `EnhancedCreateUserWizard.aspx` page.</span></span>


<span data-ttu-id="4ca08-542">라는 3 개의 TextBox 컨트롤을 포함 하는 "설정" 단계 내의 사용자 인터페이스를 만들 `HomeTown`, `HomepageUrl`, 및 `Signature`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-542">Create a user interface within the "Your Settings" step that contains three TextBox controls named `HomeTown`, `HomepageUrl`, and `Signature`.</span></span> <span data-ttu-id="4ca08-543">이 인터페이스를 생성 한 후 CreateUserWizard의 선언적 태그는 다음과 비슷하게 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-543">After constructing this interface, the CreateUserWizard's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](storing-additional-user-information-cs/samples/sample14.aspx)]

<span data-ttu-id="4ca08-544">진행 하 고 브라우저를 통해이 페이지를 방문 홈 타운, 홈 페이지 및 서명에 대 한 값을 지정 하는 새 사용자 계정을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-544">Go ahead and visit this page through a browser and create a new user account, specifying values for the home town, homepage, and signature.</span></span> <span data-ttu-id="4ca08-545">완료 한 후 합니다 `CreateUserWizardStep` 멤버 자격 프레임 워크에서 사용자 계정이 생성 됩니다 및 `CreatedUser` 에 새 행을 추가 하는 이벤트 처리기 실행 `UserProfiles`, 하지만 데이터베이스를 사용 하 여 `NULL` 값 `HomeTown`, `HomepageUrl`, 및 `Signature`.</span><span class="sxs-lookup"><span data-stu-id="4ca08-545">After completing the `CreateUserWizardStep` the user account is created in the Membership framework and the `CreatedUser` event handler runs, which adds a new row to `UserProfiles`, but with a database `NULL` value for `HomeTown`, `HomepageUrl`, and `Signature`.</span></span> <span data-ttu-id="4ca08-546">홈 타운, 홈 페이지 및 서명 입력 한 값은 사용 되지 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-546">The values entered for the home town, homepage, and signature are never used.</span></span> <span data-ttu-id="4ca08-547">최종적인 결론은 새 사용자 계정에는 `UserProfiles` 갖는 기록 `HomeTown`, `HomepageUrl`, 및 `Signature` 필드 아직 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-547">The net result is a new user account with a `UserProfiles` record whose `HomeTown`, `HomepageUrl`, and `Signature` fields have yet to be specified.</span></span>

<span data-ttu-id="4ca08-548">사용자가 입력 한 홈 타운, honepage, 및 서명 값을 사용 하 고 적절 한 업데이트는 "설정" 단계를 수행한 후 코드를 실행 해야 `UserProfiles` 레코드입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-548">We need to execute code after the "Your Settings" step that takes the home town, honepage, and signature values entered by the user and updates the appropriate `UserProfiles` record.</span></span> <span data-ttu-id="4ca08-549">마법사의 마법사 단계 사이 이동할 때마다 컨트롤 [ `ActiveStepChanged` 이벤트](https://msdn.microsoft.com/library/system.web.ui.webcontrols.wizard.activestepchanged.aspx) 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-549">Each time the user moves between steps in a Wizard control, the Wizard's [`ActiveStepChanged` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.wizard.activestepchanged.aspx) fires.</span></span> <span data-ttu-id="4ca08-550">이 이벤트와 업데이트에 대 한 이벤트 처리기를 만들 수 있습니다는 `UserProfiles` "설정" 단계 완료 되 면 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-550">We can create an event handler for this event and update the `UserProfiles` table when the "Your Settings" step has completed.</span></span>

<span data-ttu-id="4ca08-551">CreateUserWizard의에 대 한 이벤트 처리기를 추가 `ActiveStepChanged` 이벤트 다음 코드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-551">Add an event handler for the CreateUserWizard's `ActiveStepChanged` event and add the following code:</span></span>

[!code-csharp[Main](storing-additional-user-information-cs/samples/sample15.cs)]

<span data-ttu-id="4ca08-552">위의 코드에서는 "완료" 단계 도달 여부를 확인 하 여 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-552">The above code starts by determining if we have just reached the "Complete" step.</span></span> <span data-ttu-id="4ca08-553">"완료" 단계 "설정" 단계 직후 발생 하므로 다음 방문자에 도달 하면 "완료" 단계 "설정" 단계를 방금 완료 한 그녀 의미 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-553">Since the "Complete" step occurs immediately after the "Your Settings" step, then when the visitor reaches "Complete" step that means she just finished the "Your Settings" step.</span></span>

<span data-ttu-id="4ca08-554">이러한 경우에 내에서 텍스트 상자 컨트롤을 프로그래밍 방식으로 참조 해야 합니다 `UserSettings WizardStep`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-554">In such a case, we need to programmatically reference the TextBox controls within the `UserSettings WizardStep`.</span></span> <span data-ttu-id="4ca08-555">첫 번째를 사용 하 여 이렇게 합니다 `FindControl` 프로그래밍 방식으로 참조 하는 방법을 `UserSettings WizardStep`, 다음 텍스트 상자 내에서 참조를 다시는 `WizardStep`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-555">This is accomplished by first using the `FindControl` method to programmatically referencing the `UserSettings WizardStep`, and then again to reference the TextBoxes from within the `WizardStep`.</span></span> <span data-ttu-id="4ca08-556">우리가 실행할 준비가 된 텍스트 상자, 참조 된 후의 `UPDATE` 문입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-556">Once the TextBoxes have been referenced, we're ready to execute the `UPDATE` statement.</span></span> <span data-ttu-id="4ca08-557">`UPDATE` 문을 동일한 개수의 매개 변수를 `INSERT` 문에서 `CreatedUser` 이벤트 처리기를 여기는 사용자가 제공한 홈 타운, 홈 페이지 및 서명 값을 사용 하지만 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-557">The `UPDATE` statement has the same number of parameters as the `INSERT` statement in the `CreatedUser` event handler, but here we use the home town, homepage, and signature values supplied by the user.</span></span>

<span data-ttu-id="4ca08-558">이 이벤트 처리기를 사용 하 여 방문을 `EnhancedCreateUserWizard.aspx` 브라우저를 통해 페이지 및 홈 타운, 홈 페이지 및 서명에 대 한 값을 지정 하는 새 사용자 계정을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-558">With this event handler in place, visit the `EnhancedCreateUserWizard.aspx` page through a browser and create a new user account specifying values for the home town, homepage, and signature.</span></span> <span data-ttu-id="4ca08-559">새 계정을 만든 후 리디렉션되어야 하는 `AdditionalUserInfo.aspx` 페이지에서 방금 입력 홈 타운, 홈 페이지 및 서명 정보를 표시 되는 위치입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-559">After creating the new account you should be redirected to the `AdditionalUserInfo.aspx` page, where the just-entered home town, homepage, and signature information is displayed.</span></span>

> [!NOTE]
> <span data-ttu-id="4ca08-560">웹 사이트에 갖고 두 페이지는 방문자를 새 계정을 만들 수 있습니다: `CreatingUserAccounts.aspx` 및 `EnhancedCreateUserWizard.aspx`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-560">Our website currently has two pages from which a visitor can create a new account: `CreatingUserAccounts.aspx` and `EnhancedCreateUserWizard.aspx`.</span></span> <span data-ttu-id="4ca08-561">웹 사이트의 사이트 맵 및 로그인 페이지를 가리킵니다 합니다 `CreatingUserAccounts.aspx` 페이지에서 하지만 `CreatingUserAccounts.aspx` 페이지 홈 타운, 홈 페이지 및 시그니처 정보에 대 한 사용자를 묻지 않습니다 하 고 해당 행을 추가 하지 않습니다 `UserProfiles`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-561">The website's sitemap and login page point to the `CreatingUserAccounts.aspx` page, but the `CreatingUserAccounts.aspx` page does not prompt the user for their home town, homepage, and signature information and does not add a corresponding row to `UserProfiles`.</span></span> <span data-ttu-id="4ca08-562">따라서 하거나 업데이트 합니다 `CreatingUserAccounts.aspx` 이 기능을 제공 되도록 페이지 또는 참조 사이트 맵 및 로그인 페이지를 업데이트 `EnhancedCreateUserWizard.aspx` 대신 `CreatingUserAccounts.aspx`합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-562">Therefore, either update the `CreatingUserAccounts.aspx` page so that it offers this functionality or update the sitemap and login page to reference `EnhancedCreateUserWizard.aspx` instead of `CreatingUserAccounts.aspx`.</span></span> <span data-ttu-id="4ca08-563">후자 옵션을 선택 하는 경우 업데이트 해야 합니다 `Membership` 폴더의 `Web.config` 익명 사용자에 대 한 액세스를 허용 하도록 파일을 `EnhancedCreateUserWizard.aspx` 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-563">If you choose the latter option, be sure to update the `Membership` folder's `Web.config` file so as to allow anonymous users access to the `EnhancedCreateUserWizard.aspx` page.</span></span>


## <a name="summary"></a><span data-ttu-id="4ca08-564">요약</span><span class="sxs-lookup"><span data-stu-id="4ca08-564">Summary</span></span>

<span data-ttu-id="4ca08-565">이 자습서에서는 멤버 자격 프레임 워크 내에서 사용자 계정에 관련 된 데이터를 모델링 하는 것에 대 한 기술에 살펴보았습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-565">In this tutorial we looked at techniques for modeling data that is related to user accounts within the Membership framework.</span></span> <span data-ttu-id="4ca08-566">특히, 일대일 관계를 공유 하는 데이터 뿐만 아니라 사용자 계정에 일 대 다 관계를 공유 하는 엔터티 모델링 살펴보았습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-566">In particular, we looked at modeling entities that share a one-to-many relationship with user accounts as well as data that shares a one-to-one relationship.</span></span> <span data-ttu-id="4ca08-567">또한 살펴본이 관계 정보를 표시, 삽입 및 업데이트, SqlDataSource 컨트롤 등을 사용 하는 몇 가지 예제를 사용 하 여 수 ADO.NET 코드를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-567">Furthermore, we saw how this related information could be displayed, inserted, and updated, with some examples using the SqlDataSource control and others using ADO.NET code.</span></span>

<span data-ttu-id="4ca08-568">이 자습서는 사용자 계정 확인을 완료합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-568">This tutorial completes our look at user accounts.</span></span> <span data-ttu-id="4ca08-569">다음 자습서를 사용 하 여 시작에 대해 역할 기능을 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-569">Starting with the next tutorial we will turn our attention to roles.</span></span> <span data-ttu-id="4ca08-570">역할 framework 살펴보겠습니다 여러 자습서는 다음을 통해 새 역할을 만드는 방법을 참조 하세요 역할을 확인 하려면 사용자가 속한, 방법 및 사용자에 게 역할을 할당 하는 방법 역할 기반 권한 부여를 적용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-570">Over the next several tutorials we will look at the Roles framework, see how to create new roles, how to assign roles to users, how to determine what roles a user belongs to, and how to apply role-based authorization.</span></span>

<span data-ttu-id="4ca08-571">즐거운 프로그래밍!</span><span class="sxs-lookup"><span data-stu-id="4ca08-571">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="4ca08-572">추가 정보</span><span class="sxs-lookup"><span data-stu-id="4ca08-572">Further Reading</span></span>

<span data-ttu-id="4ca08-573">이 자습서에서 다루는 항목에 대 한 자세한 내용은 다음 리소스를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="4ca08-573">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="4ca08-574">ASP.NET 2.0의에서 데이터 액세스 및 업데이트</span><span class="sxs-lookup"><span data-stu-id="4ca08-574">Accessing and Updating Data in ASP.NET 2.0</span></span>](http://aspnet.4guysfromrolla.com/articles/011106-1.aspx)
- [<span data-ttu-id="4ca08-575">ASP.NET 2.0 마법사 컨트롤</span><span class="sxs-lookup"><span data-stu-id="4ca08-575">ASP.NET 2.0 Wizard Control</span></span>](https://weblogs.asp.net/scottgu/archive/2006/02/21/438732.aspx)
- [<span data-ttu-id="4ca08-576">ASP.NET 2.0 Wizard 컨트롤을 사용한 단계별 사용자 인터페이스 만들기</span><span class="sxs-lookup"><span data-stu-id="4ca08-576">Creating a Step-by-Step User Interface with the ASP.NET 2.0 Wizard Control</span></span>](http://aspnet.4guysfromrolla.com/articles/061406-1.aspx)
- [<span data-ttu-id="4ca08-577">사용자 지정 데이터 원본 제어 매개 변수 만들기</span><span class="sxs-lookup"><span data-stu-id="4ca08-577">Creating Custom DataSource Control Parameters</span></span>](http://aspnet.4guysfromrolla.com/articles/110106-1.aspx)
- [<span data-ttu-id="4ca08-578">CreateUserWizard 컨트롤 사용자 지정</span><span class="sxs-lookup"><span data-stu-id="4ca08-578">Customizing the CreateUserWizard Control</span></span>](http://aspnet.4guysfromrolla.com/articles/070506-1.aspx)
- [<span data-ttu-id="4ca08-579">DetailsView 컨트롤 빠른 시작</span><span class="sxs-lookup"><span data-stu-id="4ca08-579">DetailsView Control QuickStarts</span></span>](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/ctrlref/data/detailsview.aspx)
- [<span data-ttu-id="4ca08-580">ListView 컨트롤을 사용 하 여 데이터를 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-580">Displaying Data with the ListView Control</span></span>](http://aspnet.4guysfromrolla.com/articles/122607-1.aspx)
- [<span data-ttu-id="4ca08-581">ASP.NET 2.0의에서 유효성 검사 컨트롤 분석</span><span class="sxs-lookup"><span data-stu-id="4ca08-581">Dissecting the Validation Controls in ASP.NET 2.0</span></span>](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx)
- [<span data-ttu-id="4ca08-582">데이터 삽입을 편집 및 삭제</span><span class="sxs-lookup"><span data-stu-id="4ca08-582">Editing Insert and Deleting Data</span></span>](../../data-access/editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs.md)
- [<span data-ttu-id="4ca08-583">ASP.NET에서 폼 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="4ca08-583">Form Validation in ASP.NET</span></span>](http://www.4guysfromrolla.com/webtech/090200-1.shtml)
- [<span data-ttu-id="4ca08-584">사용자 지정 사용자 등록 정보를 수집합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-584">Gathering Custom User Registration Information</span></span>](https://weblogs.asp.net/scottgu/archive/2006/07/05/Tip_2F00_Trick_3A00_-Gathering-Custom-User-Registration-Information.aspx)
- [<span data-ttu-id="4ca08-585">ASP.NET 2.0의 프로필</span><span class="sxs-lookup"><span data-stu-id="4ca08-585">Profiles in ASP.NET 2.0</span></span>](http://www.odetocode.com/Articles/440.aspx)
- [<span data-ttu-id="4ca08-586">Asp: ListView 컨트롤</span><span class="sxs-lookup"><span data-stu-id="4ca08-586">The asp:ListView Control</span></span>](https://weblogs.asp.net/scottgu/archive/2007/08/10/the-asp-listview-control-part-1-building-a-product-listing-page-with-clean-css-ui.aspx)
- [<span data-ttu-id="4ca08-587">사용자 프로필 빠른 시작</span><span class="sxs-lookup"><span data-stu-id="4ca08-587">User Profiles QuickStart</span></span>](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/profile/default.aspx)

### <a name="about-the-author"></a><span data-ttu-id="4ca08-588">저자 소개</span><span class="sxs-lookup"><span data-stu-id="4ca08-588">About the Author</span></span>

<span data-ttu-id="4ca08-589">Scott Mitchell, 여러 ASP/ASP.NET 책의 저자 이자 4GuysFromRolla.com의 설립자 이며 1998 Microsoft 웹 기술을 왔습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-589">Scott Mitchell, author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="4ca08-590">Scott는 독립 컨설턴트, 강사, 그리고 기록기로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-590">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="4ca08-591">최근 저서는  *[Sams 설명 직접 ASP.NET 2.0 24 시간 동안의](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)* 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-591">His latest book is *[Sams Teach Yourself ASP.NET 2.0 in 24 Hours](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*.</span></span> <span data-ttu-id="4ca08-592">Scott에 도달할 수 있습니다 [ mitchell@4guysfromrolla.com ](mailto:mitchell@4guysfromrolla.com) 통하거나 저자의 블로그 [ http://ScottOnWriting.NET ](http://scottonwriting.net/)합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-592">Scott can be reached at [mitchell@4guysfromrolla.com](mailto:mitchell@4guysfromrolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="4ca08-593">특별히 감사 하는 중...</span><span class="sxs-lookup"><span data-stu-id="4ca08-593">Special Thanks To…</span></span>

<span data-ttu-id="4ca08-594">이 자습서 시리즈는 많은 유용한 검토자가 검토 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-594">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="4ca08-595">내 향후 MSDN 문서를 검토에 관심이 있으십니까?</span><span class="sxs-lookup"><span data-stu-id="4ca08-595">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="4ca08-596">그렇다면 삭제 나에서 선 [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com)합니다.</span><span class="sxs-lookup"><span data-stu-id="4ca08-596">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="4ca08-597">[이전](user-based-authorization-cs.md)
> [다음](creating-the-membership-schema-in-sql-server-vb.md)</span><span class="sxs-lookup"><span data-stu-id="4ca08-597">[Previous](user-based-authorization-cs.md)
[Next](creating-the-membership-schema-in-sql-server-vb.md)</span></span>
